<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>QNameS (coq-core.Names.QNameS)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">coq-core</a> &#x00BB; <a href="../index.html">Names</a> &#x00BB; QNameS</nav><header class="odoc-preamble"><h1>Module type <code><span>Names.QNameS</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A type of reference that implements an implicit quotient by containing two different names. The first one is the user name, i.e. what the user sees when printing. The second one is the canonical name, which is the actual absolute name of the reference.</p><p>This mechanism is fundamentally tied to the module system of Coq. Functor application and module inclusion are the typical ways to introduce names where the canonical and user components differ. In particular, the two components should be undistinguishable from the point of view of typing, i.e. from a &quot;kernel&quot; ground. This aliasing only makes sense inside an environment, but at this point this notion is not even defined so, this dual name trick is fragile. One has to ensure many invariants when creating such names, but the kernel is quite lenient when it comes to checking that these invariants hold. (Read: there are soundness bugs lurking in the module system.)</p><p>One could enforce the invariants by splitting the names and storing that information in the environment instead, but unfortunately, this wreaks havoc in the upper layers. The latter are infamously not stable by syntactic equality, in particular they might observe the difference between canonical and user names if not packed together.</p><p>For this reason, it is discouraged to use the canonical-accessing API in the upper layers, notably the <code>CanOrd</code> module below. Instead, one should use their quotiented versions defined in the <code>Environ</code> module. Eventually all uses to <code>CanOrd</code> outside of the kernel should be removed.</p><p>CAVEAT: name sets and maps are still exposing a canonical-accessing API surreptitiously.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-CanOrd" class="anchored"><a href="#module-CanOrd" class="anchor"></a><code><span><span class="keyword">module</span> <a href="CanOrd/index.html">CanOrd</a></span><span> : <a href="../module-type-EqType/index.html">EqType</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-EqType/index.html#type-t">t</a> = <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Equality functions over the canonical name. Their use should be restricted to the kernel.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-UserOrd" class="anchored"><a href="#module-UserOrd" class="anchor"></a><code><span><span class="keyword">module</span> <a href="UserOrd/index.html">UserOrd</a></span><span> : <a href="../module-type-EqType/index.html">EqType</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-EqType/index.html#type-t">t</a> = <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Equality functions over the user name.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-SyntacticOrd" class="anchored"><a href="#module-SyntacticOrd" class="anchor"></a><code><span><span class="keyword">module</span> <a href="SyntacticOrd/index.html">SyntacticOrd</a></span><span> : <a href="../module-type-EqType/index.html">EqType</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-EqType/index.html#type-t">t</a> = <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Equality functions using both names, for low-level uses.</p></div></div></div></body></html>