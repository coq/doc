<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tacenv (coq-core.Ltac_plugin.Tacenv)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">coq-core</a> &#x00BB; <a href="../index.html">Ltac_plugin</a> &#x00BB; Tacenv</nav><header class="odoc-preamble"><h1>Module <code><span>Ltac_plugin.Tacenv</span></code></h1><p>This module centralizes the various ways of registering tactics.</p></header><nav class="odoc-toc"><ul><li><a href="#tactic-naming">Tactic naming</a></li><li><a href="#tactic-notations">Tactic notations</a></li><li><a href="#coq-tactic-definitions">Coq tactic definitions</a></li><li><a href="#ml-tactic-extensions">ML tactic extensions</a></li></ul></nav><div class="odoc-content"><h6 id="tactic-naming"><a href="#tactic-naming" class="anchor"></a>Tactic naming</h6><div class="odoc-spec"><div class="spec value" id="val-push_tactic" class="anchored"><a href="#val-push_tactic" class="anchor"></a><code><span><span class="keyword">val</span> push_tactic : 
  <span><a href="../../Nametab/index.html#type-visibility">Nametab.visibility</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Libnames/index.html#type-full_path">Libnames.full_path</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Tacexpr/index.html#type-ltac_constant">Tacexpr.ltac_constant</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-locate_tactic" class="anchored"><a href="#val-locate_tactic" class="anchor"></a><code><span><span class="keyword">val</span> locate_tactic : <span><a href="../../Libnames/index.html#type-qualid">Libnames.qualid</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Tacexpr/index.html#type-ltac_constant">Tacexpr.ltac_constant</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-locate_extended_all_tactic" class="anchored"><a href="#val-locate_extended_all_tactic" class="anchor"></a><code><span><span class="keyword">val</span> locate_extended_all_tactic : <span><a href="../../Libnames/index.html#type-qualid">Libnames.qualid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Tacexpr/index.html#type-ltac_constant">Tacexpr.ltac_constant</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-exists_tactic" class="anchored"><a href="#val-exists_tactic" class="anchor"></a><code><span><span class="keyword">val</span> exists_tactic : <span><a href="../../Libnames/index.html#type-full_path">Libnames.full_path</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-path_of_tactic" class="anchored"><a href="#val-path_of_tactic" class="anchor"></a><code><span><span class="keyword">val</span> path_of_tactic : <span><a href="../Tacexpr/index.html#type-ltac_constant">Tacexpr.ltac_constant</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Libnames/index.html#type-full_path">Libnames.full_path</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shortest_qualid_of_tactic" class="anchored"><a href="#val-shortest_qualid_of_tactic" class="anchor"></a><code><span><span class="keyword">val</span> shortest_qualid_of_tactic : <span><a href="../Tacexpr/index.html#type-ltac_constant">Tacexpr.ltac_constant</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Libnames/index.html#type-qualid">Libnames.qualid</a></span></code></div></div><h6 id="tactic-notations"><a href="#tactic-notations" class="anchor"></a>Tactic notations</h6><div class="odoc-spec"><div class="spec type" id="type-alias" class="anchored"><a href="#type-alias" class="anchor"></a><code><span><span class="keyword">type</span> alias</span><span> = <a href="../../Names/KerName/index.html#type-t">Names.KerName.t</a></span></code></div><div class="spec-doc"><p>Type of tactic alias, used in the <code>TacAlias</code> node.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-alias_tactic" class="anchored"><a href="#type-alias_tactic" class="anchor"></a><code><span><span class="keyword">type</span> alias_tactic</span><span> = </span><span>{</span></code><table><tr id="type-alias_tactic.alias_args" class="anchored"><td class="def record field"><a href="#type-alias_tactic.alias_args" class="anchor"></a><code><span>alias_args : <span><a href="../../Names/Id/index.html#type-t">Names.Id.t</a> list</span>;</span></code></td></tr><tr id="type-alias_tactic.alias_body" class="anchored"><td class="def record field"><a href="#type-alias_tactic.alias_body" class="anchor"></a><code><span>alias_body : <a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a>;</span></code></td></tr><tr id="type-alias_tactic.alias_deprecation" class="anchored"><td class="def record field"><a href="#type-alias_tactic.alias_deprecation" class="anchor"></a><code><span>alias_deprecation : <span><a href="../../Deprecation/index.html#type-t">Deprecation.t</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Contents of a tactic notation</p></div></div><div class="odoc-spec"><div class="spec value" id="val-register_alias" class="anchored"><a href="#val-register_alias" class="anchor"></a><code><span><span class="keyword">val</span> register_alias : <span><a href="#type-alias">alias</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-alias_tactic">alias_tactic</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Register a tactic alias.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-interp_alias" class="anchored"><a href="#val-interp_alias" class="anchor"></a><code><span><span class="keyword">val</span> interp_alias : <span><a href="#type-alias">alias</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-alias_tactic">alias_tactic</a></span></code></div><div class="spec-doc"><p>Recover the body of an alias. Raises an anomaly if it does not exist.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-check_alias" class="anchored"><a href="#val-check_alias" class="anchor"></a><code><span><span class="keyword">val</span> check_alias : <span><a href="#type-alias">alias</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if an alias is defined, false otherwise.</p></div></div><h6 id="coq-tactic-definitions"><a href="#coq-tactic-definitions" class="anchor"></a>Coq tactic definitions</h6><div class="odoc-spec"><div class="spec value" id="val-register_ltac" class="anchored"><a href="#val-register_ltac" class="anchor"></a><code><span><span class="keyword">val</span> register_ltac : 
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span>?deprecation:<a href="../../Deprecation/index.html#type-t">Deprecation.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Register a new Ltac with the given name and body.</p><p>The first boolean indicates whether this is done from ML side, rather than Coq side. If the second boolean flag is set to true, then this is a local definition. It also puts the Ltac name in the nametab, so that it can be used unqualified.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-redefine_ltac" class="anchored"><a href="#val-redefine_ltac" class="anchor"></a><code><span><span class="keyword">val</span> redefine_ltac : 
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span>?deprecation:<a href="../../Deprecation/index.html#type-t">Deprecation.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Names/KerName/index.html#type-t">Names.KerName.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Replace a Ltac with the given name and body. If the boolean flag is set to true, then this is a local redefinition.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-interp_ltac" class="anchored"><a href="#val-interp_ltac" class="anchor"></a><code><span><span class="keyword">val</span> interp_ltac : <span><a href="../../Names/KerName/index.html#type-t">Names.KerName.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a></span></code></div><div class="spec-doc"><p>Find a user-defined tactic by name. Raise <code>Not_found</code> if it is absent.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_ltac_for_ml_tactic" class="anchored"><a href="#val-is_ltac_for_ml_tactic" class="anchor"></a><code><span><span class="keyword">val</span> is_ltac_for_ml_tactic : <span><a href="../../Names/KerName/index.html#type-t">Names.KerName.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether the tactic is defined from ML-side</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tac_deprecation" class="anchored"><a href="#val-tac_deprecation" class="anchor"></a><code><span><span class="keyword">val</span> tac_deprecation : <span><a href="../../Names/KerName/index.html#type-t">Names.KerName.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Deprecation/index.html#type-t">Deprecation.t</a> option</span></span></code></div><div class="spec-doc"><p>The tactic deprecation notice, if any</p></div></div><div class="odoc-spec"><div class="spec type" id="type-ltac_entry" class="anchored"><a href="#type-ltac_entry" class="anchor"></a><code><span><span class="keyword">type</span> ltac_entry</span><span> = </span><span>{</span></code><table><tr id="type-ltac_entry.tac_for_ml" class="anchored"><td class="def record field"><a href="#type-ltac_entry.tac_for_ml" class="anchor"></a><code><span>tac_for_ml : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Whether the tactic is defined from ML-side</p><span class="comment-delim">*)</span></td></tr><tr id="type-ltac_entry.tac_body" class="anchored"><td class="def record field"><a href="#type-ltac_entry.tac_body" class="anchor"></a><code><span>tac_body : <a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The current body of the tactic</p><span class="comment-delim">*)</span></td></tr><tr id="type-ltac_entry.tac_redef" class="anchored"><td class="def record field"><a href="#type-ltac_entry.tac_redef" class="anchor"></a><code><span>tac_redef : <span><a href="../../Names/ModPath/index.html#type-t">Names.ModPath.t</a> list</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>List of modules redefining the tactic in reverse chronological order</p><span class="comment-delim">*)</span></td></tr><tr id="type-ltac_entry.tac_deprecation" class="anchored"><td class="def record field"><a href="#type-ltac_entry.tac_deprecation" class="anchor"></a><code><span>tac_deprecation : <span><a href="../../Deprecation/index.html#type-t">Deprecation.t</a> option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Deprecation notice to be printed when the tactic is used</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ltac_entries" class="anchored"><a href="#val-ltac_entries" class="anchor"></a><code><span><span class="keyword">val</span> ltac_entries : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ltac_entry">ltac_entry</a> <a href="../../Names/KNmap/index.html#type-t">Names.KNmap.t</a></span></span></code></div><div class="spec-doc"><p>Low-level access to all Ltac entries currently defined.</p></div></div><h6 id="ml-tactic-extensions"><a href="#ml-tactic-extensions" class="anchor"></a>ML tactic extensions</h6><div class="odoc-spec"><div class="spec type" id="type-ml_tactic" class="anchored"><a href="#type-ml_tactic" class="anchor"></a><code><span><span class="keyword">type</span> ml_tactic</span><span> =
  <span><span><a href="../../Geninterp/Val/index.html#type-t">Geninterp.Val.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Geninterp/index.html#type-interp_sign">Geninterp.interp_sign</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></span></span></code></div><div class="spec-doc"><p>Type of external tactics, used by <code>TacML</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-register_ml_tactic" class="anchored"><a href="#val-register_ml_tactic" class="anchor"></a><code><span><span class="keyword">val</span> register_ml_tactic : 
  <span>?overwrite:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Tacexpr/index.html#type-ml_tactic_name">Tacexpr.ml_tactic_name</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-ml_tactic">ml_tactic</a> array</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Register an external tactic.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-interp_ml_tactic" class="anchored"><a href="#val-interp_ml_tactic" class="anchor"></a><code><span><span class="keyword">val</span> interp_ml_tactic : <span><a href="../Tacexpr/index.html#type-ml_tactic_entry">Tacexpr.ml_tactic_entry</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-ml_tactic">ml_tactic</a></span></code></div><div class="spec-doc"><p>Get the named tactic. Raises a user error if it does not exist.</p></div></div></div></body></html>