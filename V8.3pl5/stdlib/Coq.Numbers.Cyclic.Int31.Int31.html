<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Standard Library | The Coq Proof Assistant</title>

<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<style type="text/css" media="all">@import "/modules/node/node.css";</style>

<style type="text/css" media="all">@import "/modules/system/defaults.css";</style>
<style type="text/css" media="all">@import "/modules/system/system.css";</style>
<style type="text/css" media="all">@import "/modules/user/user.css";</style>

<style type="text/css" media="all">@import "/sites/all/themes/coq/style.css";</style>
<style type="text/css" media="all">@import "/sites/all/themes/coq/coqdoc.css";</style>

</head>

<body>

<div id="container">
<div id="headertop">
<div id="nav">
  <ul class="links-menu">
    <li><a href="http://coq.inria.fr/" class="active">Home</a></li>
    
    <li><a href="http://coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>    
    <li><a href="http://coq.inria.fr/download">Get Coq</a></li>
    <li><a href="http://coq.inria.fr/documentation">Documentation</a></li>
    <li><a href="http://coq.inria.fr/community">Community</a></li>
  </ul>
</div>
</div>

<div id="header">

<div id="logoWrapper">

<div id="logo"><a href="http://coq.inria.fr/" title="Home"><img src="/files/barron_logo.png" alt="Home" /></a>
</div>
<div id="siteName"><a href="http://coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
</div>

</div>
</div>

<div id="content">

<h1 class="libtitle">Library Coq.Numbers.Cyclic.Int31.Int31</h1>

<div class="code">

<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Coq.Numbers.NaryFunctions.html#"><span class="id" type="library">NaryFunctions</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Coq.Arith.Wf_nat.html#"><span class="id" type="library">Wf_nat</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="Coq.ZArith.ZArith.html#"><span class="id" type="library">ZArith</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#"><span class="id" type="library">DoubleType</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab754"></a><h1 class="section">31-bit integers</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
This file contains basic definitions of a 31-bit integer
  arithmetic. In fact it is more general than that. The only reason
  for this use of 31 is the underlying mecanism for hardware-efficient
  computations by A. Spiwack. Apart from this, a switch to, say,
  63-bit integers is now just a matter of replacing every occurences
  of 31 by 63. This is actually made possible by the use of
  dependently-typed n-ary constructions for the inductive type
  <span class="inlinecode"><span class="id" type="var">int31</span></span>, its constructor <span class="inlinecode"><span class="id" type="var">I31</span></span> and any pattern matching on it.
  If you modify this file, please preserve this genericity.  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="size"><span class="id" type="definition">size</span></a> := 31%<span class="id" type="var">nat</span>.<br/>

<br/>
</div>

<div class="doc">
Digits 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="digits"><span class="id" type="inductive">digits</span></a> : <span class="id" type="keyword">Type</span> := <a name="D0"><span class="id" type="constructor">D0</span></a> | <a name="D1"><span class="id" type="constructor">D1</span></a>.<br/>

<br/>
</div>

<div class="doc">
The type of 31-bit integers 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
The type <span class="inlinecode"><span class="id" type="var">int31</span></span> has a unique constructor <span class="inlinecode"><span class="id" type="var">I31</span></span> that expects
   31 arguments of type <span class="inlinecode"><span class="id" type="var">digits</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="digits31"><span class="id" type="definition">digits31</span></a> <span class="id" type="var">t</span> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> <a class="idref" href="Coq.Numbers.NaryFunctions.html#nfun"><span class="id" type="definition">nfun</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits"><span class="id" type="inductive">digits</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a> <span class="id" type="var">t</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="int31"><span class="id" type="inductive">int31</span></a> : <span class="id" type="keyword">Type</span> := <a name="I31"><span class="id" type="constructor">I31</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits31"><span class="id" type="definition">digits31</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Delimit</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">int31_scope</span> <span class="id" type="keyword">with</span> <span class="id" type="var">int31</span>.<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab755"></a><h1 class="section">Constants</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Zero is <span class="inlinecode"><span class="id" type="var">I31</span> <span class="id" type="var">D0</span> ... <span class="id" type="var">D0</span></span> 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="On"><span class="id" type="definition">On</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> <a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_cst"><span class="id" type="definition">napply_cst</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#I31"><span class="id" type="constructor">I31</span></a>.<br/>

<br/>
</div>

<div class="doc">
One is <span class="inlinecode"><span class="id" type="var">I31</span> <span class="id" type="var">D0</span> ... <span class="id" type="var">D0</span> <span class="id" type="var">D1</span></span> 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="In"><span class="id" type="definition">In</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> (<a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_cst"><span class="id" type="definition">napply_cst</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a><a class="idref" href="Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1) <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#I31"><span class="id" type="constructor">I31</span></a>) <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a>.<br/>

<br/>
</div>

<div class="doc">
The biggest integer is <span class="inlinecode"><span class="id" type="var">I31</span> <span class="id" type="var">D1</span> ... <span class="id" type="var">D1</span></span>, corresponding to <span class="inlinecode">(2^<span class="id" type="var">size</span>)-1</span> 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Tn"><span class="id" type="definition">Tn</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> <a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_cst"><span class="id" type="definition">napply_cst</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#I31"><span class="id" type="constructor">I31</span></a>.<br/>

<br/>
</div>

<div class="doc">
Two is <span class="inlinecode"><span class="id" type="var">I31</span> <span class="id" type="var">D0</span> ... <span class="id" type="var">D0</span> <span class="id" type="var">D1</span> <span class="id" type="var">D0</span></span> 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Twon"><span class="id" type="definition">Twon</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> (<a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_cst"><span class="id" type="definition">napply_cst</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a><a class="idref" href="Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>2) <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#I31"><span class="id" type="constructor">I31</span></a>) <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab756"></a><h1 class="section">Bits manipulation</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">sneakr</span> <span class="id" type="var">b</span> <span class="id" type="var">x</span></span> shifts <span class="inlinecode"><span class="id" type="var">x</span></span> to the right by one bit.
   Rightmost digit is lost while leftmost digit becomes <span class="inlinecode"><span class="id" type="var">b</span></span>.
   Pseudo-code is
    <span class="inlinecode"> <span class="id" type="keyword">match</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">I31</span> <span class="id" type="var">d0</span> ... <span class="id" type="var">dN</span>) =&gt; <span class="id" type="var">I31</span> <span class="id" type="var">b</span> <span class="id" type="var">d0</span> ... <span class="id" type="var">d</span>(<span class="id" type="var">N</span>-1) <span class="id" type="keyword">end</span> </span>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sneakr"><span class="id" type="definition">sneakr</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits"><span class="id" type="inductive">digits</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span><br/>
&nbsp;<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31_rect"><span class="id" type="definition">int31_rect</span></a> <span class="id" type="var">_</span> (<a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_except_last"><span class="id" type="definition">napply_except_last</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a><a class="idref" href="Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1) (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#I31"><span class="id" type="constructor">I31</span></a> <span class="id" type="var">b</span>)).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">sneakl</span> <span class="id" type="var">b</span> <span class="id" type="var">x</span></span> shifts <span class="inlinecode"><span class="id" type="var">x</span></span> to the left by one bit.
   Leftmost digit is lost while rightmost digit becomes <span class="inlinecode"><span class="id" type="var">b</span></span>.
   Pseudo-code is
    <span class="inlinecode"> <span class="id" type="keyword">match</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">I31</span> <span class="id" type="var">d0</span> ... <span class="id" type="var">dN</span>) =&gt; <span class="id" type="var">I31</span> <span class="id" type="var">d1</span> ... <span class="id" type="var">dN</span> <span class="id" type="var">b</span> <span class="id" type="keyword">end</span> </span>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sneakl"><span class="id" type="definition">sneakl</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits"><span class="id" type="inductive">digits</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span><br/>
&nbsp;<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31_rect"><span class="id" type="definition">int31_rect</span></a> <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_then_last"><span class="id" type="definition">napply_then_last</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">b</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a><a class="idref" href="Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1) <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#I31"><span class="id" type="constructor">I31</span></a>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">shiftl</span></span>, <span class="inlinecode"><span class="id" type="var">shiftr</span></span>, <span class="inlinecode"><span class="id" type="var">twice</span></span> and <span class="inlinecode"><span class="id" type="var">twice_plus_one</span></span> are direct
    consequences of <span class="inlinecode"><span class="id" type="var">sneakl</span></span> and <span class="inlinecode"><span class="id" type="var">sneakr</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="shiftl"><span class="id" type="definition">shiftl</span></a> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sneakl"><span class="id" type="definition">sneakl</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="shiftr"><span class="id" type="definition">shiftr</span></a> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sneakr"><span class="id" type="definition">sneakr</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="twice"><span class="id" type="definition">twice</span></a> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sneakl"><span class="id" type="definition">sneakl</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="twice_plus_one"><span class="id" type="definition">twice_plus_one</span></a> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sneakl"><span class="id" type="definition">sneakl</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">firstl</span> <span class="id" type="var">x</span></span> returns the leftmost digit of number <span class="inlinecode"><span class="id" type="var">x</span></span>.
    Pseudo-code is <span class="inlinecode"> <span class="id" type="keyword">match</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">I31</span> <span class="id" type="var">d0</span> ... <span class="id" type="var">dN</span>) =&gt; <span class="id" type="var">d0</span> <span class="id" type="keyword">end</span> </span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="firstl"><span class="id" type="definition">firstl</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits"><span class="id" type="inductive">digits</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span><br/>
&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31_rect"><span class="id" type="definition">int31_rect</span></a> <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">d</span> =&gt; <a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_discard"><span class="id" type="definition">napply_discard</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">d</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a><a class="idref" href="Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1)).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">firstr</span> <span class="id" type="var">x</span></span> returns the rightmost digit of number <span class="inlinecode"><span class="id" type="var">x</span></span>.
    Pseudo-code is <span class="inlinecode"> <span class="id" type="keyword">match</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">I31</span> <span class="id" type="var">d0</span> ... <span class="id" type="var">dN</span>) =&gt; <span class="id" type="var">dN</span> <span class="id" type="keyword">end</span> </span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="firstr"><span class="id" type="definition">firstr</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits"><span class="id" type="inductive">digits</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span><br/>
&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31_rect"><span class="id" type="definition">int31_rect</span></a> <span class="id" type="var">_</span> (<a class="idref" href="Coq.Numbers.NaryFunctions.html#napply_discard"><span class="id" type="definition">napply_discard</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">d</span>=&gt;<span class="id" type="var">d</span>) (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a><a class="idref" href="Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1)).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">iszero</span> <span class="id" type="var">x</span></span> is true iff <span class="inlinecode"><span class="id" type="var">x</span> = <span class="id" type="var">I31</span> <span class="id" type="var">D0</span> ... <span class="id" type="var">D0</span></span>. Pseudo-code is
    <span class="inlinecode"> <span class="id" type="keyword">match</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">I31</span> <span class="id" type="var">D0</span> ... <span class="id" type="var">D0</span>) =&gt; <span class="id" type="var">true</span> | <span class="id" type="var">_</span> =&gt; <span class="id" type="var">false</span> <span class="id" type="keyword">end</span> </span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="iszero"><span class="id" type="definition">iszero</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span><br/>
&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">f</span> <span class="id" type="var">d</span> <span class="id" type="var">b</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> =&gt; <span class="id" type="var">b</span> | <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <span class="id" type="keyword">end</span><br/>
&nbsp;<span class="id" type="keyword">in</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31_rect"><span class="id" type="definition">int31_rect</span></a> <span class="id" type="var">_</span> (<a class="idref" href="Coq.Numbers.NaryFunctions.html#nfold_bis"><span class="id" type="definition">nfold_bis</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span> <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a>).<br/>

<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">base</span></span> is <span class="inlinecode">2^31</span>, obtained via iterations of <span class="inlinecode"><span class="id" type="var">Zdouble</span></span>.
   It can also be seen as the smallest b &gt; 0 s.t. phi_inv b = 0
   (see below) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="base"><span class="id" type="definition">base</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span><br/>
&nbsp;<a class="idref" href="Coq.Arith.Wf_nat.html#iter_nat"><span class="id" type="definition">iter_nat</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a> <a class="idref" href="Coq.ZArith.BinInt.html#Z"><span class="id" type="inductive">Z</span></a> <a class="idref" href="Coq.ZArith.BinInt.html#Zdouble"><span class="id" type="definition">Zdouble</span></a> 1%<span class="id" type="var">Z</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab757"></a><h1 class="section">Recursors</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="recl_aux"><span class="id" type="definition">recl_aux</span></a> (<span class="id" type="var">n</span>:<a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)(<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>)(<span class="id" type="var">case0</span>:<span class="id" type="var">A</span>)(<span class="id" type="var">caserec</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits"><span class="id" type="inductive">digits</span></a>-&gt;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>-&gt;<span class="id" type="var">A</span>-&gt;<span class="id" type="var">A</span>)<br/>
&nbsp;(<span class="id" type="var">i</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) : <span class="id" type="var">A</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt; <span class="id" type="var">case0</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">next</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iszero"><span class="id" type="definition">iszero</span></a> <span class="id" type="var">i</span> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">case0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">si</span> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#shiftl"><span class="id" type="definition">shiftl</span></a> <span class="id" type="var">i</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">caserec</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#firstl"><span class="id" type="definition">firstl</span></a> <span class="id" type="var">i</span>) <span class="id" type="var">si</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recl_aux"><span class="id" type="definition">recl_aux</span></a> <span class="id" type="var">next</span> <span class="id" type="var">A</span> <span class="id" type="var">case0</span> <span class="id" type="var">caserec</span> <span class="id" type="var">si</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="recr_aux"><span class="id" type="definition">recr_aux</span></a> (<span class="id" type="var">n</span>:<a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)(<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>)(<span class="id" type="var">case0</span>:<span class="id" type="var">A</span>)(<span class="id" type="var">caserec</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#digits"><span class="id" type="inductive">digits</span></a>-&gt;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>-&gt;<span class="id" type="var">A</span>-&gt;<span class="id" type="var">A</span>)<br/>
&nbsp;(<span class="id" type="var">i</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) : <span class="id" type="var">A</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt; <span class="id" type="var">case0</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">next</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iszero"><span class="id" type="definition">iszero</span></a> <span class="id" type="var">i</span> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">case0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">si</span> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#shiftr"><span class="id" type="definition">shiftr</span></a> <span class="id" type="var">i</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">caserec</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#firstr"><span class="id" type="definition">firstr</span></a> <span class="id" type="var">i</span>) <span class="id" type="var">si</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recr_aux"><span class="id" type="definition">recr_aux</span></a> <span class="id" type="var">next</span> <span class="id" type="var">A</span> <span class="id" type="var">case0</span> <span class="id" type="var">caserec</span> <span class="id" type="var">si</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="recl"><span class="id" type="definition">recl</span></a> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recl_aux"><span class="id" type="definition">recl_aux</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="recr"><span class="id" type="definition">recr</span></a> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recr_aux"><span class="id" type="definition">recr_aux</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab758"></a><h1 class="section">Conversions</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
From int31 to Z, we simply iterates <span class="inlinecode"><span class="id" type="var">Zdouble</span></span> or <span class="inlinecode"><span class="id" type="var">Zdouble_plus_one</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="phi"><span class="id" type="definition">phi</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.ZArith.BinInt.html#Z"><span class="id" type="inductive">Z</span></a> :=<br/>
&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recr"><span class="id" type="definition">recr</span></a> <a class="idref" href="Coq.ZArith.BinInt.html#Z"><span class="id" type="inductive">Z</span></a> (0%<span class="id" type="var">Z</span>)<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> <span class="id" type="var">_</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> =&gt; <a class="idref" href="Coq.ZArith.BinInt.html#Zdouble"><span class="id" type="definition">Zdouble</span></a> | <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> =&gt; <a class="idref" href="Coq.ZArith.BinInt.html#Zdouble_plus_one"><span class="id" type="definition">Zdouble_plus_one</span></a> <span class="id" type="keyword">end</span>).<br/>

<br/>
</div>

<div class="doc">
From positive to int31. An abstract definition could be :
      <span class="inlinecode"> <span class="id" type="var">phi_inv</span> (2<span class="id" type="var">n</span>) = 2*(<span class="id" type="var">phi_inv</span> <span class="id" type="var">n</span>) /\
        <span class="id" type="var">phi_inv</span> 2<span class="id" type="var">n</span>+1 = 2*(<span class="id" type="var">phi_inv</span> <span class="id" type="var">n</span>) + 1 </span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="phi_inv_positive"><span class="id" type="definition">phi_inv_positive</span></a> <span class="id" type="var">p</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">p</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xI"><span class="id" type="constructor">xI</span></a> <span class="id" type="var">q</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#twice_plus_one"><span class="id" type="definition">twice_plus_one</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv_positive"><span class="id" type="definition">phi_inv_positive</span></a> <span class="id" type="var">q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xO"><span class="id" type="constructor">xO</span></a> <span class="id" type="var">q</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#twice"><span class="id" type="definition">twice</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv_positive"><span class="id" type="definition">phi_inv_positive</span></a> <span class="id" type="var">q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xH"><span class="id" type="constructor">xH</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The negative part : 2-complement  
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="complement_negative"><span class="id" type="definition">complement_negative</span></a> <span class="id" type="var">p</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">p</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xI"><span class="id" type="constructor">xI</span></a> <span class="id" type="var">q</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#twice"><span class="id" type="definition">twice</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#complement_negative"><span class="id" type="definition">complement_negative</span></a> <span class="id" type="var">q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xO"><span class="id" type="constructor">xO</span></a> <span class="id" type="var">q</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#twice_plus_one"><span class="id" type="definition">twice_plus_one</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#complement_negative"><span class="id" type="definition">complement_negative</span></a> <span class="id" type="var">q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xH"><span class="id" type="constructor">xH</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#twice"><span class="id" type="definition">twice</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Tn"><span class="id" type="definition">Tn</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A simple incrementation function 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="incr"><span class="id" type="definition">incr</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> :=<br/>
&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recr"><span class="id" type="definition">recr</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> <span class="id" type="var">si</span> <span class="id" type="var">rec</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sneakl"><span class="id" type="definition">sneakl</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> <span class="id" type="var">si</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sneakl"><span class="id" type="definition">sneakl</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> <span class="id" type="var">rec</span> <span class="id" type="keyword">end</span>).<br/>

<br/>
</div>

<div class="doc">
We can now define the conversion from Z to int31. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="phi_inv"><span class="id" type="definition">phi_inv</span></a> : <a class="idref" href="Coq.ZArith.BinInt.html#Z"><span class="id" type="inductive">Z</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt;<br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span><br/>
&nbsp;| <a class="idref" href="Coq.ZArith.BinInt.html#Z0"><span class="id" type="constructor">Z0</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a><br/>
&nbsp;| <a class="idref" href="Coq.ZArith.BinInt.html#Zpos"><span class="id" type="constructor">Zpos</span></a> <span class="id" type="var">p</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv_positive"><span class="id" type="definition">phi_inv_positive</span></a> <span class="id" type="var">p</span><br/>
&nbsp;| <a class="idref" href="Coq.ZArith.BinInt.html#Zneg"><span class="id" type="constructor">Zneg</span></a> <span class="id" type="var">p</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#incr"><span class="id" type="definition">incr</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#complement_negative"><span class="id" type="definition">complement_negative</span></a> <span class="id" type="var">p</span>)<br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">phi_inv2</span></span> is similar to <span class="inlinecode"><span class="id" type="var">phi_inv</span></span> but returns a double word
    <span class="inlinecode"><span class="id" type="var">zn2z</span> <span class="id" type="var">int31</span></span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="phi_inv2"><span class="id" type="definition">phi_inv2</span></a> <span class="id" type="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.ZArith.BinInt.html#Z0"><span class="id" type="constructor">Z0</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#W0"><span class="id" type="constructor">W0</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#WW"><span class="id" type="constructor">WW</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> (<span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.Zdiv.html#:Z_scope:x_'/'_x"><span class="id" type="notation">/</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#base"><span class="id" type="definition">base</span></a>)%<span class="id" type="var">Z</span>) (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">phi2</span></span> is similar to <span class="inlinecode"><span class="id" type="var">phi</span></span> but takes a double word (two args) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="phi2"><span class="id" type="definition">phi2</span></a> <span class="id" type="var">nh</span> <span class="id" type="var">nl</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">nh</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">)*</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#base"><span class="id" type="definition">base</span></a><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">nl</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">)</span></a>)%<span class="id" type="var">Z</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab759"></a><h1 class="section">Addition</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Addition modulo <span class="inlinecode">2^31</span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="add31"><span class="id" type="definition">add31</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> (<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">)+(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'+'_x"><span class="id" type="notation">"</span></a>n + m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#add31"><span class="id" type="definition">add31</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Addition with carry (the result is thus exact) 
</div>
<div class="code">

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="add31c"><span class="id" type="definition">add31c</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">npm</span> := <span class="id" type="var">n</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'+'_x"><span class="id" type="notation">+</span></a><span class="id" type="var">m</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">npm</span> <a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">)+(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">)</span></a>)%<span class="id" type="var">Z</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">npm</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">npm</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'+c'_x"><span class="id" type="notation">"</span></a>n '+c' m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#add31c"><span class="id" type="definition">add31c</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 50, <span class="id" type="var">no</span> <span class="id" type="var">associativity</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
 Addition plus one with carry (the result is thus exact) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="add31carryc"><span class="id" type="definition">add31carryc</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">npmpone_exact</span> := (<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">)+(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">)+</span></a>1)%<span class="id" type="var">Z</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">npmpone</span> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> <span class="id" type="var">npmpone_exact</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">npmpone</span> <a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">npmpone_exact</span>)%<span class="id" type="var">Z</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">npmpone</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">npmpone</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab760"></a><h1 class="section">Substraction</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Subtraction modulo <span class="inlinecode">2^31</span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sub31"><span class="id" type="definition">sub31</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> (<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">)-(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'-'_x"><span class="id" type="notation">"</span></a>n - m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sub31"><span class="id" type="definition">sub31</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Subtraction with carry (thus exact) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sub31c"><span class="id" type="definition">sub31c</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">nmm</span> := <span class="id" type="var">n</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'-'_x"><span class="id" type="notation">-</span></a><span class="id" type="var">m</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">nmm</span> <a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">)-(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">)</span></a>)%<span class="id" type="var">Z</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">nmm</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">nmm</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'-c'_x"><span class="id" type="notation">"</span></a>n '-c' m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sub31c"><span class="id" type="definition">sub31c</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 50, <span class="id" type="var">no</span> <span class="id" type="var">associativity</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
subtraction minus one with carry (thus exact) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sub31carryc"><span class="id" type="definition">sub31carryc</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">nmmmone_exact</span> := (<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">)-(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">)-</span></a>1)%<span class="id" type="var">Z</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">nmmmone</span> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> <span class="id" type="var">nmmmone_exact</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">nmmmone</span> <a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">nmmmone_exact</span>)%<span class="id" type="var">Z</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">nmmmone</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">nmmmone</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Opposite 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="opp31"><span class="id" type="definition">opp31</span></a> <span class="id" type="var">x</span> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <span class="id" type="var">x</span>.<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:'-'_x"><span class="id" type="notation">"</span></a>- x" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#opp31"><span class="id" type="definition">opp31</span></a> <span class="id" type="var">x</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Multiplication 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
multiplication modulo <span class="inlinecode">2^31</span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="mul31"><span class="id" type="definition">mul31</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> (<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">)*(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'*'_x"><span class="id" type="notation">"</span></a>n * m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#mul31"><span class="id" type="definition">mul31</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
multiplication with double word result (thus exact) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="mul31c"><span class="id" type="definition">mul31c</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv2"><span class="id" type="definition">phi_inv2</span></a> (<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">)*(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'*c'_x"><span class="id" type="notation">"</span></a>n '*c' m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#mul31c"><span class="id" type="definition">mul31c</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 40, <span class="id" type="var">no</span> <span class="id" type="var">associativity</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab761"></a><h1 class="section">Division</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Division of a double size word modulo <span class="inlinecode">2^31</span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="div3121"><span class="id" type="definition">div3121</span></a> (<span class="id" type="var">nh</span> <span class="id" type="var">nl</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">q</span>,<span class="id" type="var">r</span>) := <a class="idref" href="Coq.ZArith.Zdiv.html#Zdiv_eucl"><span class="id" type="definition">Zdiv_eucl</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi2"><span class="id" type="definition">phi2</span></a> <span class="id" type="var">nh</span> <span class="id" type="var">nl</span>) (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> <span class="id" type="var">q</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> <span class="id" type="var">r</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Division modulo <span class="inlinecode">2^31</span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="div31"><span class="id" type="definition">div31</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">q</span>,<span class="id" type="var">r</span>) := <a class="idref" href="Coq.ZArith.Zdiv.html#Zdiv_eucl"><span class="id" type="definition">Zdiv_eucl</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span>) (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> <span class="id" type="var">q</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> <span class="id" type="var">r</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'/'_x"><span class="id" type="notation">"</span></a>n / m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#div31"><span class="id" type="definition">div31</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab762"></a><h1 class="section">Unsigned comparison</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="compare31"><span class="id" type="definition">compare31</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) := (<a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">n</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">)?=(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi"><span class="id" type="definition">phi</span></a> <span class="id" type="var">m</span><a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">)</span></a>)%<span class="id" type="var">Z</span>.<br/>
<span class="id" type="var">Notation </span><a name=":int31_scope:x_'?='_x"><span class="id" type="notation">"</span></a>n ?= m" := (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#compare31"><span class="id" type="definition">compare31</span></a> <span class="id" type="var">n</span> <span class="id" type="var">m</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 70, <span class="id" type="var">no</span> <span class="id" type="var">associativity</span>) : <span class="id" type="var">int31_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="eqb31"><span class="id" type="definition">eqb31</span></a> (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> | <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Computing the <span class="inlinecode"><span class="id" type="var">i</span></span>-th iterate of a function:
    <span class="inlinecode"><span class="id" type="var">iter_int31</span> <span class="id" type="var">i</span> <span class="id" type="var">A</span> <span class="id" type="var">f</span> = <span class="id" type="var">f</span>^<span class="id" type="var">i</span></span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="iter_int31"><span class="id" type="definition">iter_int31</span></a> <span class="id" type="var">i</span> <span class="id" type="var">A</span> <span class="id" type="var">f</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recr"><span class="id" type="definition">recr</span></a> (<span class="id" type="var">A</span>-&gt;<span class="id" type="var">A</span>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <span class="id" type="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> <span class="id" type="var">si</span> <span class="id" type="var">rec</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> =&gt; <span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <span class="id" type="var">rec</span> (<span class="id" type="var">rec</span> <span class="id" type="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> =&gt; <span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <span class="id" type="var">f</span> (<span class="id" type="var">rec</span> (<span class="id" type="var">rec</span> <span class="id" type="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">i</span>.<br/>

<br/>
</div>

<div class="doc">
Combining the <span class="inlinecode">(31-<span class="id" type="var">p</span>)</span> low bits of <span class="inlinecode"><span class="id" type="var">i</span></span> above the <span class="inlinecode"><span class="id" type="var">p</span></span> high bits of <span class="inlinecode"><span class="id" type="var">j</span></span>:
    <span class="inlinecode"><span class="id" type="var">addmuldiv31</span> <span class="id" type="var">p</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> = <span class="id" type="var">i</span>*2^<span class="id" type="var">p</span>+<span class="id" type="var">j</span>/2^(31-<span class="id" type="var">p</span>)</span>  (modulo <span class="inlinecode">2^31</span>) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="addmuldiv31"><span class="id" type="definition">addmuldiv31</span></a> <span class="id" type="var">p</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> :=<br/>
&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">res</span>, <span class="id" type="var">_</span> ) :=<br/>
&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iter_int31"><span class="id" type="definition">iter_int31</span></a> <span class="id" type="var">p</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a><a class="idref" href="Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">ij</span> =&gt; <span class="id" type="keyword">let</span> (<span class="id" type="var">i</span>,<span class="id" type="var">j</span>) := <span class="id" type="var">ij</span> <span class="id" type="keyword">in</span> <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sneakl"><span class="id" type="definition">sneakl</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#firstl"><span class="id" type="definition">firstl</span></a> <span class="id" type="var">j</span>) <span class="id" type="var">i</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#shiftl"><span class="id" type="definition">shiftl</span></a> <span class="id" type="var">j</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">i</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">j</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;<span class="id" type="keyword">in</span><br/>
&nbsp;<span class="id" type="var">res</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="gcd31"><span class="id" type="definition">gcd31</span></a> (<span class="id" type="var">i</span> <span class="id" type="var">j</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;(<span class="id" type="var">fix</span> <span class="id" type="var">euler</span> (<span class="id" type="var">guard</span>:<a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">i</span> <span class="id" type="var">j</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) {<span class="id" type="keyword">struct</span> <span class="id" type="var">guard</span>} :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">guard</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">p</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">j</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <span class="id" type="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="var">euler</span> <span class="id" type="var">p</span> <span class="id" type="var">j</span> (<span class="id" type="keyword">let</span> (<span class="id" type="var">_</span>, <span class="id" type="var">r</span> ) := <span class="id" type="var">i</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'/'_x"><span class="id" type="notation">/</span></a><span class="id" type="var">j</span> <span class="id" type="keyword">in</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;(2<a class="idref" href="Coq.Init.Peano.html#:nat_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a>)%<span class="id" type="var">nat</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span>.<br/>

<br/>
</div>

<div class="doc">
Square root functions using newton iteration
    we use a very naive upper-bound on the iteration
    2^31 instead of the usual 31.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="sqrt31_step"><span class="id" type="definition">sqrt31_step</span></a> (<span class="id" type="var">rec</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) (<span class="id" type="var">i</span> <span class="id" type="var">j</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>)  :=<br/>
<span class="id" type="keyword">Eval</span> <span class="id" type="var">lazy</span> <span class="id" type="var">delta</span> [<span class="id" type="var">Twon</span>] <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">quo</span>,<span class="id" type="var">_</span>) := <span class="id" type="var">i</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'/'_x"><span class="id" type="notation">/</span></a><span class="id" type="var">j</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">quo</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">j</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#Lt"><span class="id" type="constructor">Lt</span></a> =&gt; <span class="id" type="var">rec</span> <span class="id" type="var">i</span> (<a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'/'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">j</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">quo</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'/'_x"><span class="id" type="notation">)/</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Twon"><span class="id" type="definition">Twon</span></a>))<br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt;  <span class="id" type="var">j</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="iter31_sqrt"><span class="id" type="definition">iter31_sqrt</span></a> (<span class="id" type="var">n</span>: <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">rec</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">i</span> <span class="id" type="var">j</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) {<span class="id" type="keyword">struct</span> <span class="id" type="var">n</span>} : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sqrt31_step"><span class="id" type="definition">sqrt31_step</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt;  <span class="id" type="var">rec</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> =&gt; (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iter31_sqrt"><span class="id" type="definition">iter31_sqrt</span></a> <span class="id" type="var">n</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iter31_sqrt"><span class="id" type="definition">iter31_sqrt</span></a> <span class="id" type="var">n</span> <span class="id" type="var">rec</span>))<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">i</span> <span class="id" type="var">j</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="sqrt31"><span class="id" type="definition">sqrt31</span></a> <span class="id" type="var">i</span> :=<br/>
<span class="id" type="keyword">Eval</span> <span class="id" type="var">lazy</span> <span class="id" type="var">delta</span> [<span class="id" type="var">On</span> <span class="id" type="var">In</span> <span class="id" type="var">Twon</span>] <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#compare31"><span class="id" type="definition">compare31</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a> <span class="id" type="var">i</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Lt"><span class="id" type="constructor">Lt</span></a> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iter31_sqrt"><span class="id" type="definition">iter31_sqrt</span></a> 31 (<span class="id" type="keyword">fun</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> =&gt; <span class="id" type="var">j</span>) <span class="id" type="var">i</span> (<a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<span class="id" type="var">i</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'/'_x"><span class="id" type="notation">/</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Twon"><span class="id" type="definition">Twon</span></a>))<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="v30"><span class="id" type="definition">v30</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#addmuldiv31"><span class="id" type="definition">addmuldiv31</span></a> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> (<a class="idref" href="Coq.ZArith.BinInt.html#Z_of_nat"><span class="id" type="definition">Z_of_nat</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a> <a class="idref" href="Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a> 1)) <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="sqrt312_step"><span class="id" type="definition">sqrt312_step</span></a> (<span class="id" type="var">rec</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ih</span> <span class="id" type="var">il</span> <span class="id" type="var">j</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>)  :=<br/>
<span class="id" type="keyword">Eval</span> <span class="id" type="var">lazy</span> <span class="id" type="var">delta</span> [<span class="id" type="var">Twon</span> <span class="id" type="var">v30</span>] <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">ih</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">j</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <span class="id" type="var">j</span> | <a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a> =&gt; <span class="id" type="var">j</span> | <span class="id" type="var">_</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">quo</span>,<span class="id" type="var">_</span>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#div3121"><span class="id" type="definition">div3121</span></a> <span class="id" type="var">ih</span> <span class="id" type="var">il</span> <span class="id" type="var">j</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">quo</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">j</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#Lt"><span class="id" type="constructor">Lt</span></a> =&gt; <span class="id" type="keyword">let</span> <span class="id" type="var">m</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">j</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'+c'_x"><span class="id" type="notation">+</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'+c'_x"><span class="id" type="notation">c</span></a> <span class="id" type="var">quo</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">m1</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<span class="id" type="var">m1</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'/'_x"><span class="id" type="notation">/</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Twon"><span class="id" type="definition">Twon</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">m1</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<span class="id" type="var">m1</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'/'_x"><span class="id" type="notation">/</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Twon"><span class="id" type="definition">Twon</span></a>) <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#v30"><span class="id" type="definition">v30</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span> <span class="id" type="keyword">in</span> <span class="id" type="var">rec</span> <span class="id" type="var">ih</span> <span class="id" type="var">il</span> <span class="id" type="var">m</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt;  <span class="id" type="var">j</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span> <span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="iter312_sqrt"><span class="id" type="definition">iter312_sqrt</span></a> (<span class="id" type="var">n</span>: <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">rec</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>  -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> -&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ih</span> <span class="id" type="var">il</span> <span class="id" type="var">j</span>: <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) {<span class="id" type="keyword">struct</span> <span class="id" type="var">n</span>} : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#sqrt312_step"><span class="id" type="definition">sqrt312_step</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt;  <span class="id" type="var">rec</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> =&gt; (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iter312_sqrt"><span class="id" type="definition">iter312_sqrt</span></a> <span class="id" type="var">n</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iter312_sqrt"><span class="id" type="definition">iter312_sqrt</span></a> <span class="id" type="var">n</span> <span class="id" type="var">rec</span>))<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">ih</span> <span class="id" type="var">il</span> <span class="id" type="var">j</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="sqrt312"><span class="id" type="definition">sqrt312</span></a> <span class="id" type="var">ih</span> <span class="id" type="var">il</span> :=<br/>
<span class="id" type="keyword">Eval</span> <span class="id" type="var">lazy</span> <span class="id" type="var">delta</span> [<span class="id" type="var">On</span> <span class="id" type="var">In</span>] <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">s</span> := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#iter312_sqrt"><span class="id" type="definition">iter312_sqrt</span></a> 31 (<span class="id" type="keyword">fun</span> <span class="id" type="var">ih</span> <span class="id" type="var">il</span> <span class="id" type="var">j</span> =&gt; <span class="id" type="var">j</span>) <span class="id" type="var">ih</span> <span class="id" type="var">il</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Tn"><span class="id" type="definition">Tn</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">s</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'*c'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'*c'_x"><span class="id" type="notation">c</span></a> <span class="id" type="var">s</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#W0"><span class="id" type="constructor">W0</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#WW"><span class="id" type="constructor">WW</span></a> <span class="id" type="var">ih1</span> <span class="id" type="var">il1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">il</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'-c'_x"><span class="id" type="notation">-</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'-c'_x"><span class="id" type="notation">c</span></a> <span class="id" type="var">il1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">il2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">ih</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">ih1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">s</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">il2</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>  =&gt; <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">s</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">il2</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">il2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">(</span></a><span class="id" type="var">ih</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">ih1</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">s</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C1"><span class="id" type="constructor">C1</span></a> <span class="id" type="var">il2</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>  =&gt; <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">s</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.DoubleCyclic.DoubleType.html#C0"><span class="id" type="constructor">C0</span></a> <span class="id" type="var">il2</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="p2i"><span class="id" type="definition">p2i</span></a> <span class="id" type="var">n</span> <span class="id" type="var">p</span> : (<a class="idref" href="Coq.NArith.BinNat.html#N"><span class="id" type="inductive">N</span></a><a class="idref" href="Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>)%<span class="id" type="var">type</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.NArith.BinNat.html#Npos"><span class="id" type="constructor">Npos</span></a> <span class="id" type="var">p</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">p</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xO"><span class="id" type="constructor">xO</span></a> <span class="id" type="var">p</span> =&gt; <span class="id" type="keyword">let</span> (<span class="id" type="var">r</span>,<span class="id" type="var">i</span>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#p2i"><span class="id" type="definition">p2i</span></a> <span class="id" type="var">n</span> <span class="id" type="var">p</span> <span class="id" type="keyword">in</span> <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">r</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Twon"><span class="id" type="definition">Twon</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'*'_x"><span class="id" type="notation">*</span></a><span class="id" type="var">i</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xI"><span class="id" type="constructor">xI</span></a> <span class="id" type="var">p</span> =&gt; <span class="id" type="keyword">let</span> (<span class="id" type="var">r</span>,<span class="id" type="var">i</span>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#p2i"><span class="id" type="definition">p2i</span></a> <span class="id" type="var">n</span> <span class="id" type="var">p</span> <span class="id" type="keyword">in</span> <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">r</span><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#Twon"><span class="id" type="definition">Twon</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'*'_x"><span class="id" type="notation">*</span></a><span class="id" type="var">i</span><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#:int31_scope:x_'+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.NArith.BinPos.html#xH"><span class="id" type="constructor">xH</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Coq.NArith.BinNat.html#N0"><span class="id" type="constructor">N0</span></a><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="positive_to_int31"><span class="id" type="definition">positive_to_int31</span></a> (<span class="id" type="var">p</span>:<a class="idref" href="Coq.NArith.BinPos.html#positive"><span class="id" type="inductive">positive</span></a>) := <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#p2i"><span class="id" type="definition">p2i</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a> <span class="id" type="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
Constant 31 converted into type int31.
    It is used as default answer for numbers of zeros
    in <span class="inlinecode"><span class="id" type="var">head0</span></span> and <span class="inlinecode"><span class="id" type="var">tail0</span></span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="T31"><span class="id" type="definition">T31</span></a> : <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a> := <span class="id" type="keyword">Eval</span> <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#phi_inv"><span class="id" type="definition">phi_inv</span></a> (<a class="idref" href="Coq.ZArith.BinInt.html#Z_of_nat"><span class="id" type="definition">Z_of_nat</span></a> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#size"><span class="id" type="definition">size</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="head031"><span class="id" type="definition">head031</span></a> (<span class="id" type="var">i</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recl"><span class="id" type="definition">recl</span></a> <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#T31"><span class="id" type="definition">T31</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> <span class="id" type="var">si</span> <span class="id" type="var">rec</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> =&gt; <span class="id" type="var">rec</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#add31"><span class="id" type="definition">add31</span></a> <span class="id" type="var">n</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> =&gt; <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="var">i</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="tail031"><span class="id" type="definition">tail031</span></a> (<span class="id" type="var">i</span>:<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#int31"><span class="id" type="inductive">int31</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#recr"><span class="id" type="definition">recr</span></a> <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#T31"><span class="id" type="definition">T31</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> <span class="id" type="var">si</span> <span class="id" type="var">rec</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D0"><span class="id" type="constructor">D0</span></a> =&gt; <span class="id" type="var">rec</span> (<a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#add31"><span class="id" type="definition">add31</span></a> <span class="id" type="var">n</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#In"><span class="id" type="definition">In</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#D1"><span class="id" type="constructor">D1</span></a> =&gt; <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="var">i</span> <a class="idref" href="Coq.Numbers.Cyclic.Int31.Int31.html#On"><span class="id" type="definition">On</span></a>.<br/>

<br/>
</div>
<div id="sidebarWrapper">
<div id="sidebar">

<div class="block">
<h2 class="title">Navigation</h2>
<div class="content">

<ul class="menu">

<li class="leaf">Standard Library
  <ul class="menu">
  <li><a href="index.html">Table of contents</a></li>
  <li><a href="genindex.html">Index</a></li>
  </ul>
</li>

</ul>

</div>
</div>

</div>
</div>


</div>

<div id="footer">
<div id="nav-footer">
  <ul class="links-menu-footer">
    <li><a href="mailto:www-coq_@_lix.polytechnique.fr">webmaster</a></li>
    <li><a href="http://validator.w3.org/check?uri=referer">xhtml valid</a></li>
    <li><a href="http://jigsaw.w3.org/css-validator/check/referer">CSS valid</a></li>
  </ul>

</div>
</div>

</div>

</body>
</html>

