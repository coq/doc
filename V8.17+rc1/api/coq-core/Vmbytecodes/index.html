<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Vmbytecodes (coq-core.Vmbytecodes)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Vmbytecodes</nav><header class="odoc-preamble"><h1>Module <code><span>Vmbytecodes</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Label" class="anchored"><a href="#module-Label" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Label/index.html">Label</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-caml_prim" class="anchored"><a href="#type-caml_prim" class="anchor"></a><code><span><span class="keyword">type</span> caml_prim</span><span> = </span></code><table><tr id="type-caml_prim.CAML_Arraymake" class="anchored"><td class="def variant constructor"><a href="#type-caml_prim.CAML_Arraymake" class="anchor"></a><code><span>| </span><span><span class="constructor">CAML_Arraymake</span></span></code></td></tr><tr id="type-caml_prim.CAML_Arrayget" class="anchored"><td class="def variant constructor"><a href="#type-caml_prim.CAML_Arrayget" class="anchor"></a><code><span>| </span><span><span class="constructor">CAML_Arrayget</span></span></code></td></tr><tr id="type-caml_prim.CAML_Arraydefault" class="anchored"><td class="def variant constructor"><a href="#type-caml_prim.CAML_Arraydefault" class="anchor"></a><code><span>| </span><span><span class="constructor">CAML_Arraydefault</span></span></code></td></tr><tr id="type-caml_prim.CAML_Arrayset" class="anchored"><td class="def variant constructor"><a href="#type-caml_prim.CAML_Arrayset" class="anchor"></a><code><span>| </span><span><span class="constructor">CAML_Arrayset</span></span></code></td></tr><tr id="type-caml_prim.CAML_Arraycopy" class="anchored"><td class="def variant constructor"><a href="#type-caml_prim.CAML_Arraycopy" class="anchor"></a><code><span>| </span><span><span class="constructor">CAML_Arraycopy</span></span></code></td></tr><tr id="type-caml_prim.CAML_Arraylength" class="anchored"><td class="def variant constructor"><a href="#type-caml_prim.CAML_Arraylength" class="anchor"></a><code><span>| </span><span><span class="constructor">CAML_Arraylength</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-instruction" class="anchored"><a href="#type-instruction" class="anchor"></a><code><span><span class="keyword">type</span> instruction</span><span> = </span></code><table><tr id="type-instruction.Klabel" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Klabel" class="anchor"></a><code><span>| </span><span><span class="constructor">Klabel</span> <span class="keyword">of</span> <a href="Label/index.html#type-t">Label.t</a></span></code></td></tr><tr id="type-instruction.Kacc" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kacc" class="anchor"></a><code><span>| </span><span><span class="constructor">Kacc</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>accu = sp<code>n</code></p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kenvacc" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kenvacc" class="anchor"></a><code><span>| </span><span><span class="constructor">Kenvacc</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>accu = coq_env<code>n</code></p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Koffsetclosure" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Koffsetclosure" class="anchor"></a><code><span>| </span><span><span class="constructor">Koffsetclosure</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>accu = &amp;coq_env<code>n</code></p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kpush" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kpush" class="anchor"></a><code><span>| </span><span><span class="constructor">Kpush</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>sp = accu :: sp</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kpop" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kpop" class="anchor"></a><code><span>| </span><span><span class="constructor">Kpop</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>sp = skipn n sp</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kpush_retaddr" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kpush_retaddr" class="anchor"></a><code><span>| </span><span><span class="constructor">Kpush_retaddr</span> <span class="keyword">of</span> <a href="Label/index.html#type-t">Label.t</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>sp = pc :: coq_env :: coq_extra_args :: sp ; coq_extra_args = 0</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kshort_apply" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kshort_apply" class="anchor"></a><code><span>| </span><span><span class="constructor">Kshort_apply</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>number of arguments (arguments on top of stack)</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kapply" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kapply" class="anchor"></a><code><span>| </span><span><span class="constructor">Kapply</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>number of arguments (arguments on top of stack)</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kappterm" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kappterm" class="anchor"></a><code><span>| </span><span><span class="constructor">Kappterm</span> <span class="keyword">of</span> int * int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>number of arguments, slot size</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kreturn" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kreturn" class="anchor"></a><code><span>| </span><span><span class="constructor">Kreturn</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>slot size</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kjump" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kjump" class="anchor"></a><code><span>| </span><span><span class="constructor">Kjump</span></span></code></td></tr><tr id="type-instruction.Krestart" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Krestart" class="anchor"></a><code><span>| </span><span><span class="constructor">Krestart</span></span></code></td></tr><tr id="type-instruction.Kgrab" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kgrab" class="anchor"></a><code><span>| </span><span><span class="constructor">Kgrab</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>number of arguments</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kgrabrec" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kgrabrec" class="anchor"></a><code><span>| </span><span><span class="constructor">Kgrabrec</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>rec arg</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kclosure" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kclosure" class="anchor"></a><code><span>| </span><span><span class="constructor">Kclosure</span> <span class="keyword">of</span> <a href="Label/index.html#type-t">Label.t</a> * int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>label, number of free variables</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kclosurerec" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kclosurerec" class="anchor"></a><code><span>| </span><span><span class="constructor">Kclosurerec</span> <span class="keyword">of</span> int * int * <span><a href="Label/index.html#type-t">Label.t</a> array</span> * <span><a href="Label/index.html#type-t">Label.t</a> array</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>nb fv, init, lbl types, lbl bodies</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kclosurecofix" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kclosurecofix" class="anchor"></a><code><span>| </span><span><span class="constructor">Kclosurecofix</span> <span class="keyword">of</span> int * int * <span><a href="Label/index.html#type-t">Label.t</a> array</span> * <span><a href="Label/index.html#type-t">Label.t</a> array</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>nb fv, init, lbl types, lbl bodies</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kgetglobal" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kgetglobal" class="anchor"></a><code><span>| </span><span><span class="constructor">Kgetglobal</span> <span class="keyword">of</span> <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a></span></code></td></tr><tr id="type-instruction.Kconst" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kconst" class="anchor"></a><code><span>| </span><span><span class="constructor">Kconst</span> <span class="keyword">of</span> <a href="../Vmvalues/index.html#type-structured_constant">Vmvalues.structured_constant</a></span></code></td></tr><tr id="type-instruction.Kmakeblock" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kmakeblock" class="anchor"></a><code><span>| </span><span><span class="constructor">Kmakeblock</span> <span class="keyword">of</span> int * <a href="../Vmvalues/index.html#type-tag">Vmvalues.tag</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>allocate an ocaml block. Index 0 ** is accu, all others are popped from ** the top of the stack</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kmakeswitchblock" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kmakeswitchblock" class="anchor"></a><code><span>| </span><span><span class="constructor">Kmakeswitchblock</span> <span class="keyword">of</span> <a href="Label/index.html#type-t">Label.t</a> * <a href="Label/index.html#type-t">Label.t</a> * <a href="../Vmvalues/index.html#type-annot_switch">Vmvalues.annot_switch</a> * int</span></code></td></tr><tr id="type-instruction.Kswitch" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kswitch" class="anchor"></a><code><span>| </span><span><span class="constructor">Kswitch</span> <span class="keyword">of</span> <span><a href="Label/index.html#type-t">Label.t</a> array</span> * <span><a href="Label/index.html#type-t">Label.t</a> array</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>consts,blocks</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kpushfields" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kpushfields" class="anchor"></a><code><span>| </span><span><span class="constructor">Kpushfields</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-instruction.Kfield" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kfield" class="anchor"></a><code><span>| </span><span><span class="constructor">Kfield</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>accu = accu<code>n</code></p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Ksetfield" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Ksetfield" class="anchor"></a><code><span>| </span><span><span class="constructor">Ksetfield</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>accu<code>n</code> = sp<code>0</code> ; sp = pop sp</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kstop" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kstop" class="anchor"></a><code><span>| </span><span><span class="constructor">Kstop</span></span></code></td></tr><tr id="type-instruction.Ksequence" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Ksequence" class="anchor"></a><code><span>| </span><span><span class="constructor">Ksequence</span> <span class="keyword">of</span> <a href="#type-bytecodes">bytecodes</a></span></code></td></tr><tr id="type-instruction.Kproj" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kproj" class="anchor"></a><code><span>| </span><span><span class="constructor">Kproj</span> <span class="keyword">of</span> <a href="../Names/Projection/Repr/index.html#type-t">Names.Projection.Repr.t</a></span></code></td></tr><tr id="type-instruction.Kensurestackcapacity" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kensurestackcapacity" class="anchor"></a><code><span>| </span><span><span class="constructor">Kensurestackcapacity</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-instruction.Kbranch" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kbranch" class="anchor"></a><code><span>| </span><span><span class="constructor">Kbranch</span> <span class="keyword">of</span> <a href="Label/index.html#type-t">Label.t</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>jump to label, is it needed ?</p><span class="comment-delim">*)</span></td></tr><tr id="type-instruction.Kprim" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kprim" class="anchor"></a><code><span>| </span><span><span class="constructor">Kprim</span> <span class="keyword">of</span> <a href="../CPrimitives/index.html#type-t">CPrimitives.t</a> * <a href="../Constr/index.html#type-pconstant">Constr.pconstant</a></span></code></td></tr><tr id="type-instruction.Kcamlprim" class="anchored"><td class="def variant constructor"><a href="#type-instruction.Kcamlprim" class="anchor"></a><code><span>| </span><span><span class="constructor">Kcamlprim</span> <span class="keyword">of</span> <a href="#type-caml_prim">caml_prim</a> * <a href="Label/index.html#type-t">Label.t</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-bytecodes" class="anchored"><a href="#type-bytecodes" class="anchor"></a><code><span><span class="keyword">and</span> bytecodes</span><span> = <span><a href="#type-instruction">instruction</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_bytecodes" class="anchored"><a href="#val-pp_bytecodes" class="anchor"></a><code><span><span class="keyword">val</span> pp_bytecodes : <span><a href="#type-bytecodes">bytecodes</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-fv_elem" class="anchored"><a href="#type-fv_elem" class="anchor"></a><code><span><span class="keyword">type</span> fv_elem</span><span> = </span></code><table><tr id="type-fv_elem.FVnamed" class="anchored"><td class="def variant constructor"><a href="#type-fv_elem.FVnamed" class="anchor"></a><code><span>| </span><span><span class="constructor">FVnamed</span> <span class="keyword">of</span> <a href="../Names/Id/index.html#type-t">Names.Id.t</a></span></code></td></tr><tr id="type-fv_elem.FVrel" class="anchored"><td class="def variant constructor"><a href="#type-fv_elem.FVrel" class="anchor"></a><code><span>| </span><span><span class="constructor">FVrel</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-fv_elem.FVuniv_var" class="anchored"><td class="def variant constructor"><a href="#type-fv_elem.FVuniv_var" class="anchor"></a><code><span>| </span><span><span class="constructor">FVuniv_var</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-fv_elem.FVevar" class="anchored"><td class="def variant constructor"><a href="#type-fv_elem.FVevar" class="anchor"></a><code><span>| </span><span><span class="constructor">FVevar</span> <span class="keyword">of</span> <a href="../Evar/index.html#type-t">Evar.t</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-fv" class="anchored"><a href="#type-fv" class="anchor"></a><code><span><span class="keyword">type</span> fv</span><span> = <span><a href="#type-fv_elem">fv_elem</a> array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_fv_elem" class="anchored"><a href="#val-pp_fv_elem" class="anchor"></a><code><span><span class="keyword">val</span> pp_fv_elem : <span><a href="#type-fv_elem">fv_elem</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-caml_prim_to_prim" class="anchored"><a href="#val-caml_prim_to_prim" class="anchor"></a><code><span><span class="keyword">val</span> caml_prim_to_prim : <span><a href="#type-caml_prim">caml_prim</a> <span class="arrow">&#45;&gt;</span></span> <a href="../CPrimitives/index.html#type-t">CPrimitives.t</a></span></code></div></div></div></body></html>