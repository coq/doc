<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Refine (rocq-runtime.Refine)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">rocq-runtime</a> &#x00BB; Refine</nav><header class="odoc-preamble"><h1>Module <code><span>Refine</span></code></h1><p>The primitive refine tactic used to fill the holes in partial proofs. This is the recommended way to write tactics when the proof term is easy to write down. Note that this is not the user-level refine tactic defined in Ltac which is actually based on the one below.</p></header><nav class="odoc-toc"><ul><li><a href="#the-refine-tactic">The refine tactic</a></li><li><a href="#refinement-primitives">Refinement primitives</a></li><li><a href="#unification-constraint-handling">Unification constraint handling</a></li></ul></nav><div class="odoc-content"><h6 id="the-refine-tactic"><a href="#the-refine-tactic" class="anchor"></a>The refine tactic</h6><h6 id="refinement-primitives"><a href="#refinement-primitives" class="anchor"></a>Refinement primitives</h6><div class="odoc-spec"><div class="spec value" id="val-refine" class="anchored"><a href="#val-refine" class="anchor"></a><code><span><span class="keyword">val</span> refine : <span>typecheck:bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../EConstr/index.html#type-t">EConstr.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span></span></code></div><div class="spec-doc"><p>In <code>refine ~typecheck t</code>, <code>t</code> is a term with holes under some <code>evar_map</code> context. The term <code>t</code> is used as a partial solution for the current goal (refine is a goal-dependent tactic), the new holes created by <code>t</code> become the new subgoals. Exceptions raised during the interpretation of <code>t</code> are caught and result in tactic failures. If <code>typecheck</code> is <code>true</code> <code>t</code> is type-checked beforehand. Shelved evars and goals are all marked as unresolvable for typeclasses.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-refine_with_principal" class="anchored"><a href="#val-refine_with_principal" class="anchor"></a><code><span><span class="keyword">val</span> refine_with_principal : <span>typecheck:bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../EConstr/index.html#type-t">EConstr.t</a> * <span><a href="../Evar/index.html#type-t">Evar.t</a> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span></span></code></div><div class="spec-doc"><p>Like <code>refine</code>, but if the <code>Evar.t option</code> is <code>Some ev</code> then <code>ev</code> inherits properties (the name) of the goal.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-generic_refine" class="anchored"><a href="#val-generic_refine" class="anchor"></a><code><span><span class="keyword">val</span> generic_refine : <span>typecheck:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span> * <a href="../EConstr/index.html#type-t">EConstr.t</a> * <span><a href="../Evar/index.html#type-t">Evar.t</a> option</span>)</span> <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Proofview/Goal/index.html#type-t">Proofview.Goal.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span></span></code></div><div class="spec-doc"><p>The general version of refine.</p></div></div><h6 id="unification-constraint-handling"><a href="#unification-constraint-handling" class="anchor"></a>Unification constraint handling</h6><div class="odoc-spec"><div class="spec value" id="val-solve_constraints" class="anchored"><a href="#val-solve_constraints" class="anchor"></a><code><span><span class="keyword">val</span> solve_constraints : <span>unit <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span></span></code></div><div class="spec-doc"><p>Solve any remaining unification problems, applying heuristics.</p></div></div></div></body></html>