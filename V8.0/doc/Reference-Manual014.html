<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.07">
<TITLE>
The Coq commands
</TITLE>
</HEAD>
<BODY >
<A HREF="Reference-Manual013.html"><IMG SRC ="previous_motif.gif" ALT="Previous"></A>
<A HREF="toc.html"><IMG SRC ="contents_motif.gif" ALT="Up"></A>
<A HREF="Reference-Manual015.html"><IMG SRC ="next_motif.gif" ALT="Next"></A>
<HR>

<H1><A NAME="htoc298">Chapter&nbsp;12</A>&nbsp;&nbsp;The <FONT COLOR=navy>Coq</FONT>&nbsp;commands</H1><A NAME="Addoc-coqc"></A>
<A NAME="@default655"></A>
<A NAME="@default656"></A>
There are two <FONT COLOR=navy>Coq</FONT>&nbsp;commands: 
<UL><LI>
<TT>coqtop</TT>: The <FONT COLOR=navy>Coq</FONT> toplevel (interactive mode) ; 
<LI><TT>coqc</TT> : The <FONT COLOR=navy>Coq</FONT> compiler (batch compilation).
</UL>
The options are (basically) the same for the two commands, and
roughly described below. You can also look at the <CODE>man</CODE> pages of
<CODE>coqtop</CODE> and <CODE>coqc</CODE> for more details.<BR>
<BR>
<A NAME="toc72"></A>
<H2><A NAME="htoc299">12.1</A>&nbsp;&nbsp;Interactive use (<TT>coqtop</TT>)</H2>
In the interactive mode, also known as the <FONT COLOR=navy>Coq</FONT>&nbsp;toplevel, the user can
develop his theories and proofs step by step. The <FONT COLOR=navy>Coq</FONT>&nbsp;toplevel is
run by the command <TT>coqtop</TT>. <BR>
<BR>
<A NAME="@default657"></A>
<A NAME="@default658"></A>
<A NAME="binary-images"></A>
They are two different binary images of <FONT COLOR=navy>Coq</FONT>: the byte-code one and
the native-code one (if Objective Caml provides a native-code compiler
for your platform, which is supposed in the following). When invoking
<CODE>coqtop</CODE> or <CODE>coqc</CODE>, the native-code version of the system is
used. The command-line options <CODE>-byte</CODE> and <CODE>-opt</CODE> explicitly
select the byte-code and the native-code versions, respectively.<BR>
<BR>
The byte-code toplevel is based on a Caml
toplevel (to allow the dynamic link of tactics). You can switch to
the Caml toplevel with the command <CODE>Drop.</CODE>, and come back to the
<FONT COLOR=navy>Coq</FONT>&nbsp;toplevel with the command <CODE>Toplevel.loop();;</CODE>.<BR>
<BR>
<A NAME="toc73"></A>
<H2><A NAME="htoc300">12.2</A>&nbsp;&nbsp;Batch compilation (<TT>coqc</TT>)</H2>
The <TT>coqc</TT> command takes a name <EM>file</EM> as argument. Then it
looks for a vernacular file named <EM>file</EM><TT>.v</TT>, and tries to
compile it into a <EM>file</EM><TT>.vo</TT> file (See &nbsp;<A HREF="Reference-Manual008.html#compiled">6.4</A>).<BR>
<BR>
<BR>
<B>Warning: </B>The name <EM>file</EM> must be a regular <FONT COLOR=navy>Coq</FONT> identifier, as
defined in the section <A HREF="Reference-Manual003.html#lexical">1.1</A>. It
must only contain letters, digits or underscores
(_). Thus it can be <CODE>/bar/foo/toto.v</CODE> but cannot be
<CODE>/bar/foo/to-to.v</CODE> . <BR>
<BR>
Notice that the <CODE>-byte</CODE> and <CODE>-opt</CODE> options are still
available with <CODE>coqc</CODE> and allow you to select the byte-code or
native-code versions of the system.<BR>
<BR>
<A NAME="toc74"></A>
<H2><A NAME="htoc301">12.3</A>&nbsp;&nbsp;Resource file</H2>
<A NAME="@default659"></A>
When <FONT COLOR=navy>Coq</FONT> is launched, with either <TT>coqtop</TT> or <TT>coqc</TT>, the
resource file <CODE>$HOME/.coqrc.7.0</CODE> is loaded, where <CODE>$HOME</CODE> is
the home directory of the user. If this file is not found, then the
file <CODE>$HOME/.coqrc</CODE> is searched. You can also specify an
arbitrary name for the resource file (see option <CODE>-init-file</CODE>
below), or the name of another user to load the resource file of
someone else (see option <CODE>-user</CODE>).<BR>
<BR>
This file may contain, for instance, <CODE>Add LoadPath</CODE> commands to add
directories to the load path of <FONT COLOR=navy>Coq</FONT>.
It is possible to skip the loading of the resource file with the
option <CODE>-q</CODE>.<BR>
<BR>
<A NAME="toc75"></A>
<H2><A NAME="htoc302">12.4</A>&nbsp;&nbsp;Environment variables</H2>
<A NAME="EnvVariables"></A>
<A NAME="@default660"></A>
There are three environment variables used by the <FONT COLOR=navy>Coq</FONT> system.
<CODE>$COQBIN</CODE> for the directory where the binaries are,
<CODE>$COQLIB</CODE> for the directory whrer the standard library is, and 
<CODE>$COQTOP</CODE> for the directory of the sources. The latter is useful
only for developers that are writing their own tactics and are using
<TT>coq_makefile</TT> (see <A HREF="Reference-Manual015.html#Makefile">13.3</A>). If <CODE>$COQBIN</CODE> or
<CODE>$COQLIB</CODE> are not defined, <FONT COLOR=navy>Coq</FONT> will use the default values
(defined at installation time). So these variables are useful only if
you move the <FONT COLOR=navy>Coq</FONT> binaries and library after installation.<BR>
<BR>
<A NAME="toc76"></A>
<H2><A NAME="htoc303">12.5</A>&nbsp;&nbsp;Options</H2>
<A NAME="@default661"></A>
The following command-line options are recognized by the commands <TT>coqc</TT> and <TT>coqtop</TT>, unless stated otherwise:
<DL COMPACT=compact><DT>
<B><TT>-byte</TT></B><DD> <BR>
<BR>
Run the byte-code version of <FONT COLOR=navy>Coq</FONT>.<BR>
<BR>
<DT><B><TT>-opt</TT></B><DD> <BR>
<BR>
Run the native-code version of <FONT COLOR=navy>Coq</FONT>.<BR>
<BR>
<DT><B><TT>-I</TT> <EM>directory</EM>, <TT>-include</TT> <EM>directory</EM></B><DD> <BR>
<BR>
Add <EM>directory</EM> to the searched directories when looking for a
 file.<BR>
<BR>
<DT><B><TT>-R</TT> <EM>directory</EM> <I><FONT COLOR=maroon>dirpath</FONT></I></B><DD> <BR>
<BR>
This maps the subdirectory structure of physical <EM>directory</EM> to
 logical <I><FONT COLOR=maroon>dirpath</FONT></I> and adds <EM>directory</EM> and its subdirectories
 to the searched directories when looking for a file.<BR>
<BR>
<DT><B><TT>-top</TT> <I><FONT COLOR=maroon>dirpath</FONT></I></B><DD> <BR>
<BR>
This sets the toplevel module name to <I><FONT COLOR=maroon>dirpath</FONT></I> instead of <TT>Top</TT>. Not valid for <TT>coqc</TT>.<BR>
<BR>
<DT><B><TT>-is</TT> <EM>file</EM>, <TT>-inputstate</TT> <EM>file</EM></B><DD> <BR>
<BR>
Cause <FONT COLOR=navy>Coq</FONT>&nbsp;to use the state put in the file <EM>file</EM> as its input
 state. The default state is <EM>initial.coq</EM>.
 Mainly useful to build the standard input state.<BR>
<BR>
<DT><B><TT>-outputstate</TT> <EM>file</EM></B><DD> <BR>
<BR>
Cause <FONT COLOR=navy>Coq</FONT>&nbsp;to dump its state to file <EM>file</EM>.coq just after finishing
 parsing and evaluating all the arguments from the command line.<BR>
<BR>
<DT><B><TT>-nois</TT></B><DD> <BR>
<BR>
Cause <FONT COLOR=navy>Coq</FONT>&nbsp;to begin with an empty state. Mainly useful to build the
 standard input state.<BR>
<BR>
<DT><B><TT>-init-file</TT> <EM>file</EM></B><DD> <BR>
<BR>
Take <EM>file</EM> as the resource file.<BR>
<BR>
<DT><B><TT>-q</TT></B><DD> <BR>
<BR>
Cause <FONT COLOR=navy>Coq</FONT>&nbsp;not to load the resource file.<BR>
<BR>
<DT><B><TT>-user</TT> <EM>username</EM></B><DD> <BR>
<BR>
Take resource file of user <EM>username</EM> (that is 
 <CODE>~</CODE><EM>username</EM><TT>/.coqrc.7.0</TT>) instead of yours.<BR>
<BR>
<DT><B><TT>-load-ml-source</TT> <EM>file</EM></B><DD> <BR>
<BR>
Load the Caml source file <EM>file</EM>.<BR>
<BR>
<DT><B><TT>-load-ml-object</TT> <EM>file</EM></B><DD> <BR>
<BR>
Load the Caml object file <EM>file</EM>.<BR>
<BR>
<DT><B><TT>-l</TT> <EM>file</EM>, <TT>-load-vernac-source</TT> <EM>file</EM></B><DD> <BR>
<BR>
Load <FONT COLOR=navy>Coq</FONT>&nbsp;file <EM>file</EM><TT>.v</TT><BR>
<BR>
<DT><B><TT>-lv</TT> <EM>file</EM>, <TT>-load-vernac-source-verbose</TT> <EM>file</EM></B><DD> <BR>
<BR>
Load <FONT COLOR=navy>Coq</FONT>&nbsp;file <EM>file</EM><TT>.v</TT> with 
 a copy of the contents of the file on standard input.<BR>
<BR>
<DT><B><TT>-load-vernac-object</TT> <EM>file</EM></B><DD> <BR>
<BR>
Load <FONT COLOR=navy>Coq</FONT>&nbsp;compiled file <EM>file</EM><TT>.vo</TT><BR>
<BR>
<DT><B><TT>-require</TT> <EM>file</EM></B><DD> <BR>
<BR>
Load <FONT COLOR=navy>Coq</FONT>&nbsp;compiled file <EM>file</EM><TT>.vo</TT> and import it (<TT>Require</TT> <EM>file</EM>).<BR>
<BR>
<DT><B><TT>-compile</TT> <EM>file</EM></B><DD> <BR>
<BR>
This compiles file <EM>file</EM><TT>.v</TT> into <EM>file</EM><TT>.vo</TT>.
 This option implies options <TT>-batch</TT> and <TT>-silent</TT>. It is
 only available for <TT>coqtop</TT>.<BR>
<BR>
<DT><B><TT>-compile-verbose</TT> <EM>file</EM></B><DD> <BR>
<BR>
This compiles file <EM>file</EM><TT>.v</TT> into <EM>file</EM><TT>.vo</TT> with
 a copy of the contents of the file on standard input.
 This option implies options <TT>-batch</TT> and <TT>-silent</TT>. It is
 only available for <TT>coqtop</TT>.<BR>
<BR>
<DT><B><TT>-verbose</TT></B><DD> <BR>
<BR>
This option is only for <TT>coqc</TT>. It tells to compile the file with
 a copy of its contents on standard input.<BR>
<BR>
<DT><B><TT>-batch</TT></B><DD> <BR>
<BR>
Batch mode : exit just after arguments parsing. This option is only
 used by <TT>coqc</TT>.<BR>
<BR>
<DT><B><TT>-xml</TT></B><DD> <BR>
<BR>
This option is for use with <TT>coqc</TT>. It tells <FONT COLOR=navy>Coq</FONT> to export on
 the standard output the content of the compiled file into XML format.<BR>
<BR>
<DT><B><TT>-quality</TT></B><DD><BR>
<BR>
Improve the legibility of the proof terms produced by some tactics.<BR>
<BR>
<DT><B><TT>-emacs</TT></B><DD> <BR>
<BR>
Tells <FONT COLOR=navy>Coq</FONT> it is executed under Emacs.<BR>
<BR>
<DT><B><TT>-impredicative-set</TT></B><DD> <BR>
<BR>
Change the logical theory of <FONT COLOR=navy>Coq</FONT> by declaring the sort <TT>Set</TT>
 impredicative; warning: this is known to be inconsistent with
 some standard axioms of classical mathematics such as the functional
 axiom of choice or the principle of description<BR>
<BR>
<DT><B><TT>-dump-glob</TT> <EM>file</EM></B><DD>

 This dumps references for global names in file <EM>file</EM>
 (to be used by coqdoc, see&nbsp;<A HREF="Reference-Manual015.html#coqdoc">13.4</A>)<BR>
<BR>
<DT><B><TT>-dont-load-proofs</TT></B><DD> <BR>
<BR>
This avoids loading in memory the proofs of opaque theorems
 resulting in a smaller memory requirement and faster compilation;
 warning: this invalidates some features such as the extraction tool.<BR>
<BR>
<DT><B><TT>-image</TT> <EM>file</EM></B><DD> <BR>
<BR>
This option sets the binary image to be used to be <EM>file</EM>
 instead of the standard one. Not of general use.<BR>
<BR>
<DT><B><TT>-bindir</TT> <EM>directory</EM></B><DD> <BR>
<BR>
Set for <TT>coqc</TT> the directory containing <FONT COLOR=navy>Coq</FONT> binaries.
 It is equivalent to do <TT>export COQBIN=</TT><EM>directory</EM>
 before lauching <TT>coqc</TT>.<BR>
<BR>
<DT><B><TT>-where</TT></B><DD> <BR>
<BR>
Print the <FONT COLOR=navy>Coq</FONT>'s standard library location and exit.<BR>
<BR>
<DT><B><TT>-v</TT></B><DD> <BR>
<BR>
Print the <FONT COLOR=navy>Coq</FONT>'s version and exit.<BR>
<BR>
<DT><B><TT>-h</TT>, <TT>--help</TT></B><DD> <BR>
<BR>
Print a short usage and exit.</DL>
<HR>
<A HREF="Reference-Manual013.html"><IMG SRC ="previous_motif.gif" ALT="Previous"></A>
<A HREF="toc.html"><IMG SRC ="contents_motif.gif" ALT="Up"></A>
<A HREF="Reference-Manual015.html"><IMG SRC ="next_motif.gif" ALT="Next"></A>
</BODY>
</HTML>
