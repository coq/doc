<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Redexpr (coq-core.Redexpr)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">coq-core</a> &#x00BB; Redexpr</nav><header class="odoc-preamble"><h1>Module <code><span>Redexpr</span></code></h1><p>Interpretation layer of redexprs such as hnf, cbv, etc.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-red_expr" class="anchored"><a href="#type-red_expr" class="anchor"></a><code><span><span class="keyword">type</span> red_expr</span><span> = <span><span>(<a href="../EConstr/index.html#type-constr">EConstr.constr</a>, <a href="../Evaluable/index.html#type-t">Evaluable.t</a>, <a href="../Pattern/index.html#type-constr_pattern">Pattern.constr_pattern</a>, int)</span> <a href="../Genredexpr/index.html#type-red_expr_gen">Genredexpr.red_expr_gen</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-red_expr_val" class="anchored"><a href="#type-red_expr_val" class="anchor"></a><code><span><span class="keyword">type</span> red_expr_val</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-out_occurrences" class="anchored"><a href="#val-out_occurrences" class="anchor"></a><code><span><span class="keyword">val</span> out_occurrences : <span><a href="../Locus/index.html#type-occurrences_expr">Locus.occurrences_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Locus/index.html#type-occurrences">Locus.occurrences</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-out_with_occurrences" class="anchored"><a href="#val-out_with_occurrences" class="anchor"></a><code><span><span class="keyword">val</span> out_with_occurrences : <span><span><span class="type-var">'a</span> <a href="../Locus/index.html#type-with_occurrences_expr">Locus.with_occurrences_expr</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Locus/index.html#type-with_occurrences">Locus.with_occurrences</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_red_expr" class="anchored"><a href="#val-eval_red_expr" class="anchor"></a><code><span><span class="keyword">val</span> eval_red_expr : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-red_expr">red_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-red_expr_val">red_expr_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-reduction_of_red_expr_val" class="anchored"><a href="#val-reduction_of_red_expr_val" class="anchor"></a><code><span><span class="keyword">val</span> reduction_of_red_expr_val : <span>?occs:<span>(<a href="../Locus/index.html#type-occurrences">Locus.occurrences</a> * int)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-red_expr_val">red_expr_val</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-e_reduction_function">Reductionops.e_reduction_function</a> * <a href="../Constr/index.html#type-cast_kind">Constr.cast_kind</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-reduction_of_red_expr" class="anchored"><a href="#val-reduction_of_red_expr" class="anchor"></a><code><span><span class="keyword">val</span> reduction_of_red_expr : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-red_expr">red_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-e_reduction_function">Reductionops.e_reduction_function</a> * <a href="../Constr/index.html#type-cast_kind">Constr.cast_kind</a></span></code></div><div class="spec-doc"><p>Composition of <a href="#val-reduction_of_red_expr_val"><code>reduction_of_red_expr_val</code></a> with <a href="#val-eval_red_expr"><code>eval_red_expr</code></a></p></div></div><p><code>true</code> if we should use the vm to verify the reduction</p><div class="odoc-spec"><div class="spec value" id="val-declare_reduction" class="anchored"><a href="#val-declare_reduction" class="anchor"></a><code><span><span class="keyword">val</span> declare_reduction : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Adding a custom reduction (function to be use at the ML level) NB: the effect is permanent.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-declare_red_expr" class="anchored"><a href="#val-declare_red_expr" class="anchor"></a><code><span><span class="keyword">val</span> declare_red_expr : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-red_expr">red_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Adding a custom reduction (function to be called a vernac command). The boolean flag is the locality.</p></div></div><p>Opaque and Transparent commands.</p><div class="odoc-spec"><div class="spec value" id="val-set_strategy" class="anchored"><a href="#val-set_strategy" class="anchor"></a><code><span><span class="keyword">val</span> set_strategy : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../Conv_oracle/index.html#type-level">Conv_oracle.level</a> * <span><a href="../Evaluable/index.html#type-t">Evaluable.t</a> list</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Sets the expansion strategy of a constant. When the boolean is true, the effect is non-synchronous (i.e. it does not survive section and module closure).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cbv_vm" class="anchored"><a href="#val-cbv_vm" class="anchor"></a><code><span><span class="keyword">val</span> cbv_vm : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>call by value normalisation function using the virtual machine</p></div></div><div class="odoc-spec"><div class="spec value" id="val-subst_red_expr" class="anchored"><a href="#val-subst_red_expr" class="anchor"></a><code><span><span class="keyword">val</span> subst_red_expr : <span><a href="../Mod_subst/index.html#type-substitution">Mod_subst.substitution</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-red_expr">red_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-red_expr">red_expr</a></span></code></div><div class="spec-doc"><p><code>subst_red_expr sub c</code> performs the substitution <code>sub</code> on all kernel names appearing in <code>c</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-wit_red_expr" class="anchored"><a href="#val-wit_red_expr" class="anchor"></a><code><span><span class="keyword">val</span> wit_red_expr : <span><span>(<a href="../Genredexpr/index.html#type-raw_red_expr">Genredexpr.raw_red_expr</a>, <a href="../Genredexpr/index.html#type-glob_red_expr">Genredexpr.glob_red_expr</a>, <a href="#type-red_expr">red_expr</a>)</span> <a href="../Genarg/index.html#type-genarg_type">Genarg.genarg_type</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Intern" class="anchored"><a href="#module-Intern" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Intern/index.html">Intern</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Interp" class="anchored"><a href="#module-Interp" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Interp/index.html">Interp</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-interp_redexp_no_ltac" class="anchored"><a href="#val-interp_redexp_no_ltac" class="anchor"></a><code><span><span class="keyword">val</span> interp_redexp_no_ltac : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Genredexpr/index.html#type-raw_red_expr">Genredexpr.raw_red_expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="#type-red_expr">red_expr</a></span></code></div></div></div></body></html>