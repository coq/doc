<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CUnix (coq-core.CUnix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; CUnix</nav><h1>Module <code>CUnix</code></h1><h6 id="system-utilities"><a href="#system-utilities" class="anchor"></a>System utilities</h6><nav class="toc"><ul><li><a href="#executing-commands">Executing commands</a></li></ul></nav></header><dl><dt class="spec type" id="type-physical_path"><a href="#type-physical_path" class="anchor"></a><code><span class="keyword">type</span> physical_path</code><code> = string</code></dt><dt class="spec type" id="type-load_path"><a href="#type-load_path" class="anchor"></a><code><span class="keyword">type</span> load_path</code><code> = <span><a href="index.html#type-physical_path">physical_path</a> list</span></code></dt></dl><dl><dt class="spec value" id="val-physical_path_of_string"><a href="#val-physical_path_of_string" class="anchor"></a><code><span class="keyword">val</span> physical_path_of_string : string <span>&#45;&gt;</span> <a href="index.html#type-physical_path">physical_path</a></code></dt><dt class="spec value" id="val-string_of_physical_path"><a href="#val-string_of_physical_path" class="anchor"></a><code><span class="keyword">val</span> string_of_physical_path : <a href="index.html#type-physical_path">physical_path</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-escaped_string_of_physical_path"><a href="#val-escaped_string_of_physical_path" class="anchor"></a><code><span class="keyword">val</span> escaped_string_of_physical_path : <a href="index.html#type-physical_path">physical_path</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Escape what has to be escaped (e.g. surround with quotes if with spaces)</p></dd></dl><dl><dt class="spec value" id="val-canonical_path_name"><a href="#val-canonical_path_name" class="anchor"></a><code><span class="keyword">val</span> canonical_path_name : string <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-remove_path_dot"><a href="#val-remove_path_dot" class="anchor"></a><code><span class="keyword">val</span> remove_path_dot : string <span>&#45;&gt;</span> string</code></dt><dd><p>Remove all initial &quot;./&quot; in a path</p></dd></dl><dl><dt class="spec value" id="val-strip_path"><a href="#val-strip_path" class="anchor"></a><code><span class="keyword">val</span> strip_path : string <span>&#45;&gt;</span> string</code></dt><dd><p>If a path <code>p</code> starts with the current directory $PWD then <code>strip_path p</code> returns the sub-path relative to $PWD. Any leading &quot;./&quot; are also removed from the result.</p></dd></dl><dl><dt class="spec value" id="val-correct_path"><a href="#val-correct_path" class="anchor"></a><code><span class="keyword">val</span> correct_path : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p>correct_path f dir = dir/f if f is relative</p></dd></dl><dl><dt class="spec value" id="val-path_to_list"><a href="#val-path_to_list" class="anchor"></a><code><span class="keyword">val</span> path_to_list : string <span>&#45;&gt;</span> <span>string list</span></code></dt><dt class="spec value" id="val-make_suffix"><a href="#val-make_suffix" class="anchor"></a><code><span class="keyword">val</span> make_suffix : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>make_suffix file suf</code> catenate <code>file</code> with <code>suf</code> when <code>file</code> does not already end with <code>suf</code>.</p></dd></dl><dl><dt class="spec value" id="val-file_readable_p"><a href="#val-file_readable_p" class="anchor"></a><code><span class="keyword">val</span> file_readable_p : string <span>&#45;&gt;</span> bool</code></dt></dl><section><header><h6 id="executing-commands"><a href="#executing-commands" class="anchor"></a>Executing commands</h6></header><aside><p><code>run_command com</code> launches command <code>com</code>, and returns the contents of stdout and stderr. If given, <code>~hook</code> is called on each elements read on stdout or stderr.</p></aside><dl><dt class="spec value" id="val-run_command"><a href="#val-run_command" class="anchor"></a><code><span class="keyword">val</span> run_command : <span>?&#8288;hook:<span>(bytes <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> Unix.process_status * string</code></dt></dl><aside><p><code>sys_command</code> launches program <code>prog</code> with arguments <code>args</code>. It behaves like <code>Sys.command</code>, except that we rely on <code>Unix.create_process</code>, it's hardly more complex and avoids dealing with shells. In particular, no need to quote arguments (against whitespace or other funny chars in paths), hence no need to care about the different quoting conventions of /bin/sh and cmd.exe.</p></aside><dl><dt class="spec value" id="val-sys_command"><a href="#val-sys_command" class="anchor"></a><code><span class="keyword">val</span> sys_command : string <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> Unix.process_status</code></dt></dl><aside><p>A version of <code>Unix.waitpid</code> immune to EINTR exceptions</p></aside><dl><dt class="spec value" id="val-waitpid_non_intr"><a href="#val-waitpid_non_intr" class="anchor"></a><code><span class="keyword">val</span> waitpid_non_intr : int <span>&#45;&gt;</span> Unix.process_status</code></dt><dt class="spec value" id="val-same_file"><a href="#val-same_file" class="anchor"></a><code><span class="keyword">val</span> same_file : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool</code></dt><dd><p>Check if two file names refer to the same (existing) file</p></dd></dl><dl><dt class="spec value" id="val-mktemp_dir"><a href="#val-mktemp_dir" class="anchor"></a><code><span class="keyword">val</span> mktemp_dir : <span>?&#8288;temp_dir:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p>Like <code>Stdlib.Filename.temp_file</code> but producing a directory.</p></dd></dl></section></div></body></html>