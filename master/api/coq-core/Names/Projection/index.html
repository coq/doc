<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Projection (coq-core.Names.Projection)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">coq-core</a> &#x00BB; <a href="../index.html">Names</a> &#x00BB; Projection</nav><h1>Module <code>Names.Projection</code></h1></header><div class="spec module" id="module-Repr"><a href="#module-Repr" class="anchor"></a><code><span class="keyword">module</span> <a href="Repr/index.html">Repr</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <a href="Repr/index.html#type-t">Repr.t</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-repr"><a href="#val-repr" class="anchor"></a><code><span class="keyword">val</span> repr : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Repr/index.html#type-t">Repr.t</a></code></dt></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../index.html#module-type-QNameS">QNameS</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../module-type-QNameS/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>A type of reference that implements an implicit quotient by containing two different names. The first one is the user name, i.e. what the user sees when printing. The second one is the canonical name, which is the actual absolute name of the reference.</p><p>This mechanism is fundamentally tied to the module system of Coq. Functor application and module inclusion are the typical ways to introduce names where the canonical and user components differ. In particular, the two components should be undistinguishable from the point of view of typing, i.e. from a &quot;kernel&quot; ground. This aliasing only makes sense inside an environment, but at this point this notion is not even defined so, this dual name trick is fragile. One has to ensure many invariants when creating such names, but the kernel is quite lenient when it comes to checking that these invariants hold. (Read: there are soundness bugs lurking in the module system.)</p><p>One could enforce the invariants by splitting the names and storing that information in the environment instead, but unfortunately, this wreaks havoc in the upper layers. The latter are infamously not stable by syntactic equality, in particular they might observe the difference between canonical and user names if not packed together.</p><p>For this reason, it is discouraged to use the canonical-accessing API in the upper layers, notably the <code>CanOrd</code> module below. Instead, one should use their quotiented versions defined in the <code>Environ</code> module. Eventually all uses to <code>CanOrd</code> outside of the kernel should be removed.</p><p>CAVEAT: name sets and maps are still exposing a canonical-accessing API surreptitiously.</p></dd></dl><dl><dt class="spec module" id="module-CanOrd"><a href="#module-CanOrd" class="anchor"></a><code><span class="keyword">module</span> <a href="CanOrd/index.html">CanOrd</a> : <a href="../index.html#module-type-EqType">EqType</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../module-type-EqType/index.html#type-t">t</a> = <a href="index.html#type-t">t</a></code></dt><dd><p>Equality functions over the canonical name. Their use should be restricted to the kernel.</p></dd></dl><dl><dt class="spec module" id="module-UserOrd"><a href="#module-UserOrd" class="anchor"></a><code><span class="keyword">module</span> <a href="UserOrd/index.html">UserOrd</a> : <a href="../index.html#module-type-EqType">EqType</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../module-type-EqType/index.html#type-t">t</a> = <a href="index.html#type-t">t</a></code></dt><dd><p>Equality functions over the user name.</p></dd></dl><dl><dt class="spec module" id="module-SyntacticOrd"><a href="#module-SyntacticOrd" class="anchor"></a><code><span class="keyword">module</span> <a href="SyntacticOrd/index.html">SyntacticOrd</a> : <a href="../index.html#module-type-EqType">EqType</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../module-type-EqType/index.html#type-t">t</a> = <a href="index.html#type-t">t</a></code></dt><dd><p>Equality functions using both names, for low-level uses.</p></dd></dl></details></div></div></div><dl><dt class="spec value" id="val-constant"><a href="#val-constant" class="anchor"></a><code><span class="keyword">val</span> constant : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Constant/index.html#type-t">Constant.t</a></code></dt><dt class="spec value" id="val-mind"><a href="#val-mind" class="anchor"></a><code><span class="keyword">val</span> mind : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../MutInd/index.html#type-t">MutInd.t</a></code></dt><dt class="spec value" id="val-inductive"><a href="#val-inductive" class="anchor"></a><code><span class="keyword">val</span> inductive : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-inductive">inductive</a></code></dt><dt class="spec value" id="val-npars"><a href="#val-npars" class="anchor"></a><code><span class="keyword">val</span> npars : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-arg"><a href="#val-arg" class="anchor"></a><code><span class="keyword">val</span> arg : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-label"><a href="#val-label" class="anchor"></a><code><span class="keyword">val</span> label : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Label/index.html#type-t">Label.t</a></code></dt><dt class="spec value" id="val-unfolded"><a href="#val-unfolded" class="anchor"></a><code><span class="keyword">val</span> unfolded : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-unfold"><a href="#val-unfold" class="anchor"></a><code><span class="keyword">val</span> unfold : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-hcons"><a href="#val-hcons" class="anchor"></a><code><span class="keyword">val</span> hcons : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Hashconsing of projections.</p></dd></dl><dl><dt class="spec value" id="val-repr_equal"><a href="#val-repr_equal" class="anchor"></a><code><span class="keyword">val</span> repr_equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Ignoring the unfolding boolean.</p></dd></dl><dl><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<a href="../MutInd/index.html#type-t">MutInd.t</a> <span>&#45;&gt;</span> <a href="../MutInd/index.html#type-t">MutInd.t</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map_npars"><a href="#val-map_npars" class="anchor"></a><code><span class="keyword">val</span> map_npars : <span>(<a href="../MutInd/index.html#type-t">MutInd.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../MutInd/index.html#type-t">MutInd.t</a> * int)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Encode as a string (not to be used for user-facing messages).</p></dd></dl><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val</span> print : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Pp/index.html#type-t">Pp.t</a></code></dt><dd><p>Print internal representation (not to be used for user-facing messages).</p></dd></dl></div></body></html>