<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Linsolve (coq-core.Micromega_plugin.Linsolve)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">coq-core</a> &#x00BB; <a href="../index.html">Micromega_plugin</a> &#x00BB; Linsolve</nav><header class="odoc-preamble"><h1>Module <code><span>Micromega_plugin.Linsolve</span></code></h1><p>The purpose of the solver is to generate *all* the integer solutions of a system of linear equations of the following form: 1- all the variables are positive 2- all the coefficients are positive</p><p>We expect the systems and the number of solutions to be small. This motivates a simple solver which performs 1 - interval analysis 2 - substitutions 3 - enumeration</p></header><div class="odoc-content"><p><code>system</code> represents a system of equation. Each equation is indexed by a unique identifier <code>id</code> (an integer).</p><div class="odoc-spec"><div class="spec type" id="type-system" class="anchored"><a href="#type-system" class="anchor"></a><code><span><span class="keyword">type</span> system</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-var" class="anchored"><a href="#type-var" class="anchor"></a><code><span><span class="keyword">type</span> var</span><span> = int</span></code></div><div class="spec-doc"><p><code>var</code> is the type of variables</p></div></div><div class="odoc-spec"><div class="spec type" id="type-id" class="anchored"><a href="#type-id" class="anchor"></a><code><span><span class="keyword">type</span> id</span><span> = int</span></code></div><div class="spec-doc"><p><code>id</code> are used to identify equations in a system</p></div></div><div class="odoc-spec"><div class="spec type" id="type-eqn" class="anchored"><a href="#type-eqn" class="anchor"></a><code><span><span class="keyword">type</span> eqn</span></code></div><div class="spec-doc"><p>An equation <code>eqn</code> is of the form a1.x1 + ... + an.xn = a0 where the ai are integer coefficients and xi are variables.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-output_equations" class="anchored"><a href="#val-output_equations" class="anchor"></a><code><span><span class="keyword">val</span> output_equations : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-eqn">eqn</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>output_equations o l</code> prints the list of equations</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-system">system</a></span></code></div><div class="spec-doc"><p><code>empty</code> is the system with no equation</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_constant" class="anchored"><a href="#val-set_constant" class="anchor"></a><code><span><span class="keyword">val</span> set_constant : <span><a href="#type-id">id</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-system">system</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-eqn">eqn</a></span></code></div><div class="spec-doc"><p><code>set_constant i c s</code> returns the equation <code>i</code> of the system <code>s</code> where the constant a0 is set to <code>c</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_mon" class="anchored"><a href="#val-make_mon" class="anchor"></a><code><span><span class="keyword">val</span> make_mon : <span><a href="#type-id">id</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-var">var</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-system">system</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-system">system</a></span></code></div><div class="spec-doc"><p><code>make_mon i x a s</code> augments the system <code>s</code> with the equation a.x = 0 indexed by i</p></div></div><div class="odoc-spec"><div class="spec value" id="val-merge" class="anchored"><a href="#val-merge" class="anchor"></a><code><span><span class="keyword">val</span> merge : <span><a href="#type-system">system</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-system">system</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-system">system</a></span></code></div><div class="spec-doc"><p><code>merge s1 s2</code> returns a system <code>s</code> such that the equation i is obtained by adding of the equations s1(i) and s2(i) i.e. s(i) = s1(i) + s2(i) NB: the operation is only well-defined if the variables in s1(i) and s2(i) is disjoint</p></div></div><div class="odoc-spec"><div class="spec type" id="type-solution" class="anchored"><a href="#type-solution" class="anchor"></a><code><span><span class="keyword">type</span> solution</span><span> = <span><span>(<a href="#type-var">var</a> * int)</span> list</span></span></code></div><div class="spec-doc"><p><code>solution</code> assigns a value to each variable</p></div></div><div class="odoc-spec"><div class="spec value" id="val-output_solutions" class="anchored"><a href="#val-output_solutions" class="anchor"></a><code><span><span class="keyword">val</span> output_solutions : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-solution">solution</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>output_solutions o l</code> outputs the list of solutions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-solve_and_enum" class="anchored"><a href="#val-solve_and_enum" class="anchor"></a><code><span><span class="keyword">val</span> solve_and_enum : <span><span><a href="#type-eqn">eqn</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-solution">solution</a> list</span></span></code></div><div class="spec-doc"><p><code>solve_and_enum l</code> solves the system of equations and enumerate all the solutions</p></div></div></div></body></html>