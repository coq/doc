<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CClosure (coq-core.CClosure)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; CClosure</nav><header class="odoc-preamble"><h1>Module <code><span>CClosure</span></code></h1><p>Lazy reduction.</p></header><div class="odoc-content"><p><code>fconstr</code> is the type of frozen constr</p><div class="odoc-spec"><div class="spec type" id="type-fconstr" class="anchored"><a href="#type-fconstr" class="anchor"></a><code><span><span class="keyword">type</span> fconstr</span></code></div><div class="spec-doc"><p><code>fconstr</code> can be accessed by using the function <code>fterm_of</code> and by matching on type <code>fterm</code></p></div></div><div class="odoc-spec"><div class="spec type" id="type-finvert" class="anchored"><a href="#type-finvert" class="anchor"></a><code><span><span class="keyword">type</span> finvert</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-evar_repack" class="anchored"><a href="#type-evar_repack" class="anchor"></a><code><span><span class="keyword">type</span> evar_repack</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-usubs" class="anchored"><a href="#type-usubs" class="anchor"></a><code><span><span class="keyword">type</span> usubs</span><span> = <span><span><a href="#type-fconstr">fconstr</a> <a href="../Esubst/index.html#type-subs">Esubst.subs</a></span> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-table_key" class="anchored"><a href="#type-table_key" class="anchor"></a><code><span><span class="keyword">type</span> table_key</span><span> = <span><span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <a href="../Names/index.html#type-tableKey">Names.tableKey</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-fterm" class="anchored"><a href="#type-fterm" class="anchor"></a><code><span><span class="keyword">type</span> fterm</span><span> = </span></code><table><tr id="type-fterm.FRel" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FRel" class="anchor"></a><code><span>| </span><span><span class="constructor">FRel</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-fterm.FAtom" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FAtom" class="anchor"></a><code><span>| </span><span><span class="constructor">FAtom</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Metas and Sorts</p><span class="comment-delim">*)</span></td></tr><tr id="type-fterm.FFlex" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FFlex" class="anchor"></a><code><span>| </span><span><span class="constructor">FFlex</span> <span class="keyword">of</span> <a href="#type-table_key">table_key</a></span></code></td></tr><tr id="type-fterm.FInd" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FInd" class="anchor"></a><code><span>| </span><span><span class="constructor">FInd</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-pinductive">Constr.pinductive</a></span></code></td></tr><tr id="type-fterm.FConstruct" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FConstruct" class="anchor"></a><code><span>| </span><span><span class="constructor">FConstruct</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-pconstructor">Constr.pconstructor</a></span></code></td></tr><tr id="type-fterm.FApp" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FApp" class="anchor"></a><code><span>| </span><span><span class="constructor">FApp</span> <span class="keyword">of</span> <a href="#type-fconstr">fconstr</a> * <span><a href="#type-fconstr">fconstr</a> array</span></span></code></td></tr><tr id="type-fterm.FProj" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FProj" class="anchor"></a><code><span>| </span><span><span class="constructor">FProj</span> <span class="keyword">of</span> <a href="../Names/Projection/index.html#type-t">Names.Projection.t</a> * <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> * <a href="#type-fconstr">fconstr</a></span></code></td></tr><tr id="type-fterm.FFix" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FFix" class="anchor"></a><code><span>| </span><span><span class="constructor">FFix</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-fixpoint">Constr.fixpoint</a> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FCoFix" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FCoFix" class="anchor"></a><code><span>| </span><span><span class="constructor">FCoFix</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-cofixpoint">Constr.cofixpoint</a> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FCaseT" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FCaseT" class="anchor"></a><code><span>| </span><span><span class="constructor">FCaseT</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-case_info">Constr.case_info</a> * <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> * <span><a href="../Constr/index.html#type-constr">Constr.constr</a> array</span> * <a href="../Constr/index.html#type-case_return">Constr.case_return</a> * <a href="#type-fconstr">fconstr</a> * <span><a href="../Constr/index.html#type-case_branch">Constr.case_branch</a> array</span> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FCaseInvert" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FCaseInvert" class="anchor"></a><code><span>| </span><span><span class="constructor">FCaseInvert</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-case_info">Constr.case_info</a> * <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> * <span><a href="../Constr/index.html#type-constr">Constr.constr</a> array</span> * <a href="../Constr/index.html#type-case_return">Constr.case_return</a> * <a href="#type-finvert">finvert</a> * <a href="#type-fconstr">fconstr</a> * <span><a href="../Constr/index.html#type-case_branch">Constr.case_branch</a> array</span> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FLambda" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FLambda" class="anchor"></a><code><span>| </span><span><span class="constructor">FLambda</span> <span class="keyword">of</span> int * <span><span>(<span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> * <a href="../Constr/index.html#type-constr">Constr.constr</a>)</span> list</span> * <a href="../Constr/index.html#type-constr">Constr.constr</a> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FProd" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FProd" class="anchor"></a><code><span>| </span><span><span class="constructor">FProd</span> <span class="keyword">of</span> <span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> * <a href="#type-fconstr">fconstr</a> * <a href="../Constr/index.html#type-constr">Constr.constr</a> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FLetIn" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FLetIn" class="anchor"></a><code><span>| </span><span><span class="constructor">FLetIn</span> <span class="keyword">of</span> <span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> * <a href="#type-fconstr">fconstr</a> * <a href="#type-fconstr">fconstr</a> * <a href="../Constr/index.html#type-constr">Constr.constr</a> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FEvar" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FEvar" class="anchor"></a><code><span>| </span><span><span class="constructor">FEvar</span> <span class="keyword">of</span> <a href="../Evar/index.html#type-t">Evar.t</a> * <span><a href="../Constr/index.html#type-constr">Constr.constr</a> list</span> * <a href="#type-usubs">usubs</a> * <a href="#type-evar_repack">evar_repack</a></span></code></td></tr><tr id="type-fterm.FInt" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FInt" class="anchor"></a><code><span>| </span><span><span class="constructor">FInt</span> <span class="keyword">of</span> <a href="../Uint63/index.html#type-t">Uint63.t</a></span></code></td></tr><tr id="type-fterm.FFloat" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FFloat" class="anchor"></a><code><span>| </span><span><span class="constructor">FFloat</span> <span class="keyword">of</span> <a href="../Float64/index.html#type-t">Float64.t</a></span></code></td></tr><tr id="type-fterm.FArray" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FArray" class="anchor"></a><code><span>| </span><span><span class="constructor">FArray</span> <span class="keyword">of</span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> * <span><a href="#type-fconstr">fconstr</a> <a href="../Parray/index.html#type-t">Parray.t</a></span> * <a href="#type-fconstr">fconstr</a></span></code></td></tr><tr id="type-fterm.FLIFT" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FLIFT" class="anchor"></a><code><span>| </span><span><span class="constructor">FLIFT</span> <span class="keyword">of</span> int * <a href="#type-fconstr">fconstr</a></span></code></td></tr><tr id="type-fterm.FCLOS" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FCLOS" class="anchor"></a><code><span>| </span><span><span class="constructor">FCLOS</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-constr">Constr.constr</a> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-fterm.FIrrelevant" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FIrrelevant" class="anchor"></a><code><span>| </span><span><span class="constructor">FIrrelevant</span></span></code></td></tr><tr id="type-fterm.FLOCKED" class="anchored"><td class="def variant constructor"><a href="#type-fterm.FLOCKED" class="anchor"></a><code><span>| </span><span><span class="constructor">FLOCKED</span></span></code></td></tr></table></div><div class="spec-doc"><p>Relevances (eg in binder_annot or case_info) have NOT been substituted when there is a usubs field</p></div></div><div class="odoc-spec"><div class="spec type" id="type-next_native_args" class="anchored"><a href="#type-next_native_args" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a next_native_args</span></span><span> = <span><span>(<a href="../CPrimitives/index.html#type-arg_kind">CPrimitives.arg_kind</a> * <span class="type-var">'a</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-stack_member" class="anchored"><a href="#type-stack_member" class="anchor"></a><code><span><span class="keyword">type</span> stack_member</span><span> = </span></code><table><tr id="type-stack_member.Zapp" class="anchored"><td class="def variant constructor"><a href="#type-stack_member.Zapp" class="anchor"></a><code><span>| </span><span><span class="constructor">Zapp</span> <span class="keyword">of</span> <span><a href="#type-fconstr">fconstr</a> array</span></span></code></td></tr><tr id="type-stack_member.ZcaseT" class="anchored"><td class="def variant constructor"><a href="#type-stack_member.ZcaseT" class="anchor"></a><code><span>| </span><span><span class="constructor">ZcaseT</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-case_info">Constr.case_info</a> * <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> * <span><a href="../Constr/index.html#type-constr">Constr.constr</a> array</span> * <a href="../Constr/index.html#type-case_return">Constr.case_return</a> * <span><a href="../Constr/index.html#type-case_branch">Constr.case_branch</a> array</span> * <a href="#type-usubs">usubs</a></span></code></td></tr><tr id="type-stack_member.Zproj" class="anchored"><td class="def variant constructor"><a href="#type-stack_member.Zproj" class="anchor"></a><code><span>| </span><span><span class="constructor">Zproj</span> <span class="keyword">of</span> <a href="../Names/Projection/Repr/index.html#type-t">Names.Projection.Repr.t</a> * <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a></span></code></td></tr><tr id="type-stack_member.Zfix" class="anchored"><td class="def variant constructor"><a href="#type-stack_member.Zfix" class="anchor"></a><code><span>| </span><span><span class="constructor">Zfix</span> <span class="keyword">of</span> <a href="#type-fconstr">fconstr</a> * <a href="#type-stack">stack</a></span></code></td></tr><tr id="type-stack_member.Zprimitive" class="anchored"><td class="def variant constructor"><a href="#type-stack_member.Zprimitive" class="anchor"></a><code><span>| </span><span><span class="constructor">Zprimitive</span> <span class="keyword">of</span> <a href="../CPrimitives/index.html#type-t">CPrimitives.t</a> * <a href="../Constr/index.html#type-pconstant">Constr.pconstant</a> * <span><a href="#type-fconstr">fconstr</a> list</span> * <span><a href="#type-fconstr">fconstr</a> <a href="#type-next_native_args">next_native_args</a></span></span></code></td></tr><tr id="type-stack_member.Zshift" class="anchored"><td class="def variant constructor"><a href="#type-stack_member.Zshift" class="anchor"></a><code><span>| </span><span><span class="constructor">Zshift</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-stack_member.Zupdate" class="anchored"><td class="def variant constructor"><a href="#type-stack_member.Zupdate" class="anchor"></a><code><span>| </span><span><span class="constructor">Zupdate</span> <span class="keyword">of</span> <a href="#type-fconstr">fconstr</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-stack" class="anchored"><a href="#type-stack" class="anchor"></a><code><span><span class="keyword">and</span> stack</span><span> = <span><a href="#type-stack_member">stack_member</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_stack" class="anchored"><a href="#val-empty_stack" class="anchor"></a><code><span><span class="keyword">val</span> empty_stack : <a href="#type-stack">stack</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-append_stack" class="anchored"><a href="#val-append_stack" class="anchor"></a><code><span><span class="keyword">val</span> append_stack : <span><span><a href="#type-fconstr">fconstr</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-stack">stack</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_native_args" class="anchored"><a href="#val-check_native_args" class="anchor"></a><code><span><span class="keyword">val</span> check_native_args : <span><a href="../CPrimitives/index.html#type-t">CPrimitives.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_native_args1" class="anchored"><a href="#val-get_native_args1" class="anchor"></a><code><span><span class="keyword">val</span> get_native_args1 : <span><a href="../CPrimitives/index.html#type-t">CPrimitives.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-pconstant">Constr.pconstant</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> list</span> * <a href="#type-fconstr">fconstr</a> * <span><a href="#type-fconstr">fconstr</a> <a href="#type-next_native_args">next_native_args</a></span> * <a href="#type-stack">stack</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-stack_args_size" class="anchored"><a href="#val-stack_args_size" class="anchor"></a><code><span><span class="keyword">val</span> stack_args_size : <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-inductive_subst" class="anchored"><a href="#val-inductive_subst" class="anchor"></a><code><span><span class="keyword">val</span> inductive_subst : <span><a href="../Declarations/index.html#type-mutual_inductive_body">Declarations.mutual_inductive_body</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-fconstr">fconstr</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-usubs">usubs</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-usubs_lift" class="anchored"><a href="#val-usubs_lift" class="anchor"></a><code><span><span class="keyword">val</span> usubs_lift : <span><a href="#type-usubs">usubs</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-usubs">usubs</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-usubs_liftn" class="anchored"><a href="#val-usubs_liftn" class="anchor"></a><code><span><span class="keyword">val</span> usubs_liftn : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-usubs">usubs</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-usubs">usubs</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-usubs_cons" class="anchored"><a href="#val-usubs_cons" class="anchor"></a><code><span><span class="keyword">val</span> usubs_cons : <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-usubs">usubs</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-usubs">usubs</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-usubst_instance" class="anchored"><a href="#val-usubst_instance" class="anchor"></a><code><span><span class="keyword">val</span> usubst_instance : <span><span><span class="type-var">'a</span> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a></span></code></div><div class="spec-doc"><p>identity if the first instance is empty</p></div></div><div class="odoc-spec"><div class="spec value" id="val-usubst_binder" class="anchored"><a href="#val-usubst_binder" class="anchor"></a><code><span><span class="keyword">val</span> usubst_binder : <span><span><span class="type-var">_</span> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span></span></code></div></div><p>To lazy reduce a constr, create a <code>clos_infos</code> with <code>create_clos_infos</code>, inject the term to reduce with <code>inject</code>; then use a reduction function</p><div class="odoc-spec"><div class="spec value" id="val-inject" class="anchored"><a href="#val-inject" class="anchor"></a><code><span><span class="keyword">val</span> inject : <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fconstr">fconstr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_clos" class="anchored"><a href="#val-mk_clos" class="anchor"></a><code><span><span class="keyword">val</span> mk_clos : <span><a href="#type-usubs">usubs</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fconstr">fconstr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_clos_vect" class="anchored"><a href="#val-mk_clos_vect" class="anchor"></a><code><span><span class="keyword">val</span> mk_clos_vect : <span><a href="#type-usubs">usubs</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Constr/index.html#type-constr">Constr.constr</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_atom" class="anchored"><a href="#val-mk_atom" class="anchor"></a><code><span><span class="keyword">val</span> mk_atom : <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fconstr">fconstr</a></span></code></div><div class="spec-doc"><p>mk_atom: prevents a term from being evaluated</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_red" class="anchored"><a href="#val-mk_red" class="anchor"></a><code><span><span class="keyword">val</span> mk_red : <span><a href="#type-fterm">fterm</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fconstr">fconstr</a></span></code></div><div class="spec-doc"><p>mk_red: makes a reducible term (used in ring)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-zip" class="anchored"><a href="#val-zip" class="anchor"></a><code><span><span class="keyword">val</span> zip : <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fconstr">fconstr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fterm_of" class="anchored"><a href="#val-fterm_of" class="anchor"></a><code><span><span class="keyword">val</span> fterm_of : <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fterm">fterm</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-term_of_fconstr" class="anchored"><a href="#val-term_of_fconstr" class="anchor"></a><code><span><span class="keyword">val</span> term_of_fconstr : <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-term_of_process" class="anchored"><a href="#val-term_of_process" class="anchor"></a><code><span><span class="keyword">val</span> term_of_process : <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-destFLambda" class="anchored"><a href="#val-destFLambda" class="anchor"></a><code><span><span class="keyword">val</span> destFLambda : <span><span>(<span><a href="#type-usubs">usubs</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fconstr">fconstr</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> * <a href="#type-fconstr">fconstr</a> * <a href="#type-fconstr">fconstr</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-clos_infos" class="anchored"><a href="#type-clos_infos" class="anchor"></a><code><span><span class="keyword">type</span> clos_infos</span></code></div><div class="spec-doc"><p>Global and local constant cache</p></div></div><div class="odoc-spec"><div class="spec type" id="type-clos_tab" class="anchored"><a href="#type-clos_tab" class="anchor"></a><code><span><span class="keyword">type</span> clos_tab</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-evar_expansion" class="anchored"><a href="#type-evar_expansion" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a evar_expansion</span></span><span> = </span></code><table><tr id="type-evar_expansion.EvarDefined" class="anchored"><td class="def variant constructor"><a href="#type-evar_expansion.EvarDefined" class="anchor"></a><code><span>| </span><span><span class="constructor">EvarDefined</span> <span class="keyword">of</span> <span class="type-var">'a</span></span></code></td></tr><tr id="type-evar_expansion.EvarUndefined" class="anchored"><td class="def variant constructor"><a href="#type-evar_expansion.EvarUndefined" class="anchor"></a><code><span>| </span><span><span class="constructor">EvarUndefined</span> <span class="keyword">of</span> <a href="../Evar/index.html#type-t">Evar.t</a> * <span><span class="type-var">'a</span> list</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-evar_handler" class="anchored"><a href="#type-evar_handler" class="anchor"></a><code><span><span class="keyword">type</span> evar_handler</span><span> = </span><span>{</span></code><table><tr id="type-evar_handler.evar_expand" class="anchored"><td class="def record field"><a href="#type-evar_handler.evar_expand" class="anchor"></a><code><span>evar_expand : <span><span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="../Constr/index.html#type-pexistential">Constr.pexistential</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="#type-evar_expansion">evar_expansion</a></span>;</span></code></td></tr><tr id="type-evar_handler.evar_repack" class="anchored"><td class="def record field"><a href="#type-evar_handler.evar_repack" class="anchor"></a><code><span>evar_repack : <span><span>(<a href="../Evar/index.html#type-t">Evar.t</a> * <span><a href="../Constr/index.html#type-constr">Constr.constr</a> list</span>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a>;</span></code></td></tr><tr id="type-evar_handler.evar_irrelevant" class="anchored"><td class="def record field"><a href="#type-evar_handler.evar_irrelevant" class="anchor"></a><code><span>evar_irrelevant : <span><span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="../Constr/index.html#type-pexistential">Constr.pexistential</a></span> <span class="arrow">&#45;&gt;</span></span> bool;</span></code></td></tr><tr id="type-evar_handler.qvar_irrelevant" class="anchored"><td class="def record field"><a href="#type-evar_handler.qvar_irrelevant" class="anchor"></a><code><span>qvar_irrelevant : <span><a href="../Sorts/QVar/index.html#type-t">Sorts.QVar.t</a> <span class="arrow">&#45;&gt;</span></span> bool;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-default_evar_handler" class="anchored"><a href="#val-default_evar_handler" class="anchor"></a><code><span><span class="keyword">val</span> default_evar_handler : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_handler">evar_handler</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create_conv_infos" class="anchored"><a href="#val-create_conv_infos" class="anchor"></a><code><span><span class="keyword">val</span> create_conv_infos : <span>?univs:<a href="../UGraph/index.html#type-t">UGraph.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?evars:<a href="#type-evar_handler">evar_handler</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../RedFlags/index.html#type-reds">RedFlags.reds</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-clos_infos">clos_infos</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create_clos_infos" class="anchored"><a href="#val-create_clos_infos" class="anchor"></a><code><span><span class="keyword">val</span> create_clos_infos : <span>?univs:<a href="../UGraph/index.html#type-t">UGraph.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?evars:<a href="#type-evar_handler">evar_handler</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../RedFlags/index.html#type-reds">RedFlags.reds</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-clos_infos">clos_infos</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-oracle_of_infos" class="anchored"><a href="#val-oracle_of_infos" class="anchor"></a><code><span><span class="keyword">val</span> oracle_of_infos : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Conv_oracle/index.html#type-oracle">Conv_oracle.oracle</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create_tab" class="anchored"><a href="#val-create_tab" class="anchor"></a><code><span><span class="keyword">val</span> create_tab : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-clos_tab">clos_tab</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-info_env" class="anchored"><a href="#val-info_env" class="anchor"></a><code><span><span class="keyword">val</span> info_env : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Environ/index.html#type-env">Environ.env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-info_flags" class="anchored"><a href="#val-info_flags" class="anchor"></a><code><span><span class="keyword">val</span> info_flags : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <a href="../RedFlags/index.html#type-reds">RedFlags.reds</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-info_univs" class="anchored"><a href="#val-info_univs" class="anchor"></a><code><span><span class="keyword">val</span> info_univs : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UGraph/index.html#type-t">UGraph.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unfold_projection" class="anchored"><a href="#val-unfold_projection" class="anchor"></a><code><span><span class="keyword">val</span> unfold_projection : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Projection/index.html#type-t">Names.Projection.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack_member">stack_member</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_relevance" class="anchored"><a href="#val-push_relevance" class="anchor"></a><code><span><span class="keyword">val</span> push_relevance : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-clos_infos">clos_infos</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_relevances" class="anchored"><a href="#val-push_relevances" class="anchor"></a><code><span><span class="keyword">val</span> push_relevances : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'b</span> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-clos_infos">clos_infos</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_info_relevances" class="anchored"><a href="#val-set_info_relevances" class="anchor"></a><code><span><span class="keyword">val</span> set_info_relevances : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <a href="../Range/index.html#type-t">Range.t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-clos_infos">clos_infos</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-info_relevances" class="anchored"><a href="#val-info_relevances" class="anchor"></a><code><span><span class="keyword">val</span> info_relevances : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <a href="../Range/index.html#type-t">Range.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_irrelevant" class="anchored"><a href="#val-is_irrelevant" class="anchor"></a><code><span><span class="keyword">val</span> is_irrelevant : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-infos_with_reds" class="anchored"><a href="#val-infos_with_reds" class="anchor"></a><code><span><span class="keyword">val</span> infos_with_reds : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../RedFlags/index.html#type-reds">RedFlags.reds</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-clos_infos">clos_infos</a></span></code></div></div><p>Reduction function</p><div class="odoc-spec"><div class="spec value" id="val-norm_val" class="anchored"><a href="#val-norm_val" class="anchor"></a><code><span><span class="keyword">val</span> norm_val : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-clos_tab">clos_tab</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></div><div class="spec-doc"><p><code>norm_val</code> is for strong normalization</p></div></div><div class="odoc-spec"><div class="spec value" id="val-norm_term" class="anchored"><a href="#val-norm_term" class="anchor"></a><code><span><span class="keyword">val</span> norm_term : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-clos_tab">clos_tab</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-usubs">usubs</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></div><div class="spec-doc"><p>Same as <code>norm_val</code> but for terms</p></div></div><div class="odoc-spec"><div class="spec value" id="val-whd_val" class="anchored"><a href="#val-whd_val" class="anchor"></a><code><span><span class="keyword">val</span> whd_val : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-clos_tab">clos_tab</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></div><div class="spec-doc"><p><code>whd_val</code> is for weak head normalization</p></div></div><div class="odoc-spec"><div class="spec value" id="val-whd_stack" class="anchored"><a href="#val-whd_stack" class="anchor"></a><code><span><span class="keyword">val</span> whd_stack : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-clos_tab">clos_tab</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-fconstr">fconstr</a> * <a href="#type-stack">stack</a></span></code></div><div class="spec-doc"><p><code>whd_stack</code> performs weak head normalization in a given stack. It stops whenever a reduction is blocked.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-skip_irrelevant_stack" class="anchored"><a href="#val-skip_irrelevant_stack" class="anchor"></a><code><span><span class="keyword">val</span> skip_irrelevant_stack : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-stack">stack</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eta_expand_stack" class="anchored"><a href="#val-eta_expand_stack" class="anchor"></a><code><span><span class="keyword">val</span> eta_expand_stack : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-stack">stack</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eta_expand_ind_stack" class="anchored"><a href="#val-eta_expand_ind_stack" class="anchor"></a><code><span><span class="keyword">val</span> eta_expand_ind_stack : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-pinductive">Constr.pinductive</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-fconstr">fconstr</a> * <a href="#type-stack">stack</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-stack">stack</a> * <a href="#type-stack">stack</a></span></code></div><div class="spec-doc"><p><code>eta_expand_ind_stack env ind c s t</code> computes stacks corresponding to the conversion of the eta expansion of t, considered as an inhabitant of ind, and the Constructor c of this inductive type applied to arguments s. Assumes <code>t</code> is a rigid term, and not a constructor. <code>ind</code> is the inductive of the constructor term <code>c</code></p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if the inductive is not a primitive record, or if the constructor is partially applied.</p></li></ul></div></div><p>Conversion auxiliary functions to do step by step normalisation</p><div class="odoc-spec"><div class="spec value" id="val-unfold_ref_with_args" class="anchored"><a href="#val-unfold_ref_with_args" class="anchor"></a><code><span><span class="keyword">val</span> unfold_ref_with_args : <span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-clos_tab">clos_tab</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-table_key">table_key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-stack">stack</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-fconstr">fconstr</a> * <a href="#type-stack">stack</a>)</span> option</span></span></code></div><div class="spec-doc"><p>Like <code>unfold_reference</code>, but handles primitives: if there are not enough arguments, return <code>None</code>. Otherwise return <code>Some</code> with <code>ZPrimitive</code> added to the stack. Produces a <code>FIrrelevant</code> when the reference is irrelevant and the infos was created with <code>create_conv_infos</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_conv" class="anchored"><a href="#val-set_conv" class="anchor"></a><code><span><span class="keyword">val</span> set_conv : <span><span>(<span><a href="#type-clos_infos">clos_infos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-clos_tab">clos_tab</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fconstr">fconstr</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Hook for Reduction</p></div></div></div></body></html>