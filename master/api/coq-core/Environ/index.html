<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Environ (coq-core.Environ)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Environ</nav><header class="odoc-preamble"><h1>Module <code><span>Environ</span></code></h1><p>Unsafe environments. We define here a datatype for environments. Since typing is not yet defined, it is not possible to check the informations added in environments, and that is why we speak here of ``unsafe'' environments.</p></header><nav class="odoc-toc"><ul><li><a href="#context-of-de-bruijn-variables-(rel_context)">Context of de Bruijn variables (<code>rel_context</code>)</a></li><li><a href="#recurrence-on-rel_context">Recurrence on <code>rel_context</code></a></li><li><a href="#context-of-variables-(section-variables-and-goal-assumptions)">Context of variables (section variables and goal assumptions)</a></li><li><a href="#recurrence-on-named_context:-older-declarations-processed-first">Recurrence on <code>named_context</code>: older declarations processed first</a></li><li><a href="#global-constants">Global constants</a></li><li><a href="#add-entries-to-global-environment">Add entries to global environment</a></li><li><a href="#...">...</a></li><li><a href="#primitive-projections">Primitive projections</a></li><li><a href="#changes-of-representation-of-case-nodes">Changes of representation of Case nodes</a></li><li><a href="#name-quotients">Name quotients</a></li><li><a href="#modules">Modules</a></li><li><a href="#universe-constraints">Universe constraints</a></li><li><a href="#sets-of-referred-section-variables">Sets of referred section variables</a></li><li><a href="#unsafe-judgments.">Unsafe judgments.</a></li></ul></nav><div class="odoc-content"><p>Environments have the following components:</p><ul><li>a context for de Bruijn variables</li><li>a context for de Bruijn variables vm values</li><li>a context for section variables and goal assumptions</li><li>a context for section variables and goal assumptions vm values</li><li>a context for global constants and axioms</li><li>a context for inductive definitions</li><li>a set of universe constraints</li><li>a flag telling if Set is, can be, or cannot be set impredicative</li></ul><div class="odoc-spec"><div class="spec type" id="type-link_info" class="anchored"><a href="#type-link_info" class="anchor"></a><code><span><span class="keyword">type</span> link_info</span><span> = </span></code><table><tr id="type-link_info.Linked" class="anchored"><td class="def variant constructor"><a href="#type-link_info.Linked" class="anchor"></a><code><span>| </span><span><span class="constructor">Linked</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-link_info.NotLinked" class="anchored"><td class="def variant constructor"><a href="#type-link_info.NotLinked" class="anchor"></a><code><span>| </span><span><span class="constructor">NotLinked</span></span></code></td></tr></table></div><div class="spec-doc"><p>Linking information for the native compiler</p></div></div><div class="odoc-spec"><div class="spec type" id="type-key" class="anchored"><a href="#type-key" class="anchor"></a><code><span><span class="keyword">type</span> key</span><span> = <span><span><span>int <a href="../CEphemeron/index.html#type-key">CEphemeron.key</a></span> option</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-constant_key" class="anchored"><a href="#type-constant_key" class="anchor"></a><code><span><span class="keyword">type</span> constant_key</span><span> = <a href="../Declarations/index.html#type-constant_body">Declarations.constant_body</a> * <span>(<span><a href="#type-link_info">link_info</a> <span class="xref-unresolved">Stdlib</span>.ref</span> * <a href="#type-key">key</a>)</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-mind_key" class="anchored"><a href="#type-mind_key" class="anchor"></a><code><span><span class="keyword">type</span> mind_key</span><span> = <a href="../Declarations/index.html#type-mutual_inductive_body">Declarations.mutual_inductive_body</a> * <span><a href="#type-link_info">link_info</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Globals" class="anchored"><a href="#module-Globals" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Globals/index.html">Globals</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-named_context_val" class="anchored"><a href="#type-named_context_val" class="anchor"></a><code><span><span class="keyword">type</span> named_context_val</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-named_context_val.env_named_ctx" class="anchored"><td class="def record field"><a href="#type-named_context_val.env_named_ctx" class="anchor"></a><code><span>env_named_ctx : <a href="../Constr/index.html#type-named_context">Constr.named_context</a>;</span></code></td></tr><tr id="type-named_context_val.env_named_map" class="anchored"><td class="def record field"><a href="#type-named_context_val.env_named_map" class="anchor"></a><code><span>env_named_map : <span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <a href="../Names/Id/Map/index.html#type-t">Names.Id.Map.t</a></span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Identifier-indexed version of <code>env_named_ctx</code></p><span class="comment-delim">*)</span></td></tr><tr id="type-named_context_val.env_named_idx" class="anchored"><td class="def record field"><a href="#type-named_context_val.env_named_idx" class="anchor"></a><code><span>env_named_idx : <span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <a href="../Range/index.html#type-t">Range.t</a></span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Same as env_named_ctx but with a fast-access list.</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-rel_context_val" class="anchored"><a href="#type-rel_context_val" class="anchor"></a><code><span><span class="keyword">type</span> rel_context_val</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-rel_context_val.env_rel_ctx" class="anchored"><td class="def record field"><a href="#type-rel_context_val.env_rel_ctx" class="anchor"></a><code><span>env_rel_ctx : <a href="../Constr/index.html#type-rel_context">Constr.rel_context</a>;</span></code></td></tr><tr id="type-rel_context_val.env_rel_map" class="anchored"><td class="def record field"><a href="#type-rel_context_val.env_rel_map" class="anchor"></a><code><span>env_rel_map : <span><a href="../Constr/index.html#type-rel_declaration">Constr.rel_declaration</a> <a href="../Range/index.html#type-t">Range.t</a></span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-env" class="anchored"><a href="#type-env" class="anchor"></a><code><span><span class="keyword">type</span> env</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-env.env_globals" class="anchored"><td class="def record field"><a href="#type-env.env_globals" class="anchor"></a><code><span>env_globals : <a href="Globals/index.html#type-t">Globals.t</a>;</span></code></td></tr><tr id="type-env.env_named_context" class="anchored"><td class="def record field"><a href="#type-env.env_named_context" class="anchor"></a><code><span>env_named_context : <a href="#type-named_context_val">named_context_val</a>;</span></code></td></tr><tr id="type-env.env_rel_context" class="anchored"><td class="def record field"><a href="#type-env.env_rel_context" class="anchor"></a><code><span>env_rel_context : <a href="#type-rel_context_val">rel_context_val</a>;</span></code></td></tr><tr id="type-env.env_nb_rel" class="anchored"><td class="def record field"><a href="#type-env.env_nb_rel" class="anchor"></a><code><span>env_nb_rel : int;</span></code></td></tr><tr id="type-env.env_universes" class="anchored"><td class="def record field"><a href="#type-env.env_universes" class="anchor"></a><code><span>env_universes : <a href="../UGraph/index.html#type-t">UGraph.t</a>;</span></code></td></tr><tr id="type-env.env_universes_lbound" class="anchored"><td class="def record field"><a href="#type-env.env_universes_lbound" class="anchor"></a><code><span>env_universes_lbound : <a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a>;</span></code></td></tr><tr id="type-env.env_qualities" class="anchored"><td class="def record field"><a href="#type-env.env_qualities" class="anchor"></a><code><span>env_qualities : <a href="../Sorts/QVar/Set/index.html#type-t">Sorts.QVar.Set.t</a>;</span></code></td></tr><tr id="type-env.irr_constants" class="anchored"><td class="def record field"><a href="#type-env.irr_constants" class="anchor"></a><code><span>irr_constants : <span><a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <a href="../Names/Cmap_env/index.html#type-t">Names.Cmap_env.t</a></span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p><code>irr_constants</code> is a cache of the relevances which are not Relevant. In other words, <code>const_relevance == Option.default Relevant (find_opt con irr_constants)</code>.</p><span class="comment-delim">*)</span></td></tr><tr id="type-env.irr_inds" class="anchored"><td class="def record field"><a href="#type-env.irr_inds" class="anchor"></a><code><span>irr_inds : <span><a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <a href="../Names/Indmap_env/index.html#type-t">Names.Indmap_env.t</a></span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p><code>irr_inds</code> is a cache of the relevances which are not Relevant. cf <code>irr_constants</code>.</p><span class="comment-delim">*)</span></td></tr><tr id="type-env.symb_pats" class="anchored"><td class="def record field"><a href="#type-env.symb_pats" class="anchor"></a><code><span>symb_pats : <span><span><a href="../Declarations/index.html#type-rewrite_rule">Declarations.rewrite_rule</a> list</span> <a href="../Names/Cmap_env/index.html#type-t">Names.Cmap_env.t</a></span>;</span></code></td></tr><tr id="type-env.env_typing_flags" class="anchored"><td class="def record field"><a href="#type-env.env_typing_flags" class="anchor"></a><code><span>env_typing_flags : <a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a>;</span></code></td></tr><tr id="type-env.retroknowledge" class="anchored"><td class="def record field"><a href="#type-env.retroknowledge" class="anchor"></a><code><span>retroknowledge : <a href="../Retroknowledge/index.html#type-retroknowledge">Retroknowledge.retroknowledge</a>;</span></code></td></tr><tr id="type-env.rewrite_rules_allowed" class="anchored"><td class="def record field"><a href="#type-env.rewrite_rules_allowed" class="anchor"></a><code><span>rewrite_rules_allowed : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Allow rewrite rules (breaks e.g. SR)</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-rewrule_not_allowed" class="anchored"><a href="#type-rewrule_not_allowed" class="anchor"></a><code><span><span class="keyword">type</span> rewrule_not_allowed</span><span> = </span></code><table><tr id="type-rewrule_not_allowed.Symb" class="anchored"><td class="def variant constructor"><a href="#type-rewrule_not_allowed.Symb" class="anchor"></a><code><span>| </span><span><span class="constructor">Symb</span></span></code></td></tr><tr id="type-rewrule_not_allowed.Rule" class="anchored"><td class="def variant constructor"><a href="#type-rewrule_not_allowed.Rule" class="anchor"></a><code><span>| </span><span><span class="constructor">Rule</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec exception" id="exception-RewriteRulesNotAllowed" class="anchored"><a href="#exception-RewriteRulesNotAllowed" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">RewriteRulesNotAllowed</span> <span class="keyword">of</span> <a href="#type-rewrule_not_allowed">rewrule_not_allowed</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-oracle" class="anchored"><a href="#val-oracle" class="anchor"></a><code><span><span class="keyword">val</span> oracle : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Conv_oracle/index.html#type-oracle">Conv_oracle.oracle</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_oracle" class="anchored"><a href="#val-set_oracle" class="anchor"></a><code><span><span class="keyword">val</span> set_oracle : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Conv_oracle/index.html#type-oracle">Conv_oracle.oracle</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eq_named_context_val" class="anchored"><a href="#val-eq_named_context_val" class="anchor"></a><code><span><span class="keyword">val</span> eq_named_context_val : <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_env" class="anchored"><a href="#val-empty_env" class="anchor"></a><code><span><span class="keyword">val</span> empty_env : <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universes" class="anchored"><a href="#val-universes" class="anchor"></a><code><span><span class="keyword">val</span> universes : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UGraph/index.html#type-t">UGraph.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universes_lbound" class="anchored"><a href="#val-universes_lbound" class="anchor"></a><code><span><span class="keyword">val</span> universes_lbound : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_universes_lbound" class="anchored"><a href="#val-set_universes_lbound" class="anchor"></a><code><span><span class="keyword">val</span> set_universes_lbound : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rel_context" class="anchored"><a href="#val-rel_context" class="anchor"></a><code><span><span class="keyword">val</span> rel_context : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-rel_context">Constr.rel_context</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-named_context" class="anchored"><a href="#val-named_context" class="anchor"></a><code><span><span class="keyword">val</span> named_context : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_context">Constr.named_context</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-named_context_val" class="anchored"><a href="#val-named_context_val" class="anchor"></a><code><span><span class="keyword">val</span> named_context_val : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_context_val">named_context_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_universes" class="anchored"><a href="#val-set_universes" class="anchor"></a><code><span><span class="keyword">val</span> set_universes : <span><a href="../UGraph/index.html#type-t">UGraph.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-typing_flags" class="anchored"><a href="#val-typing_flags" class="anchor"></a><code><span><span class="keyword">val</span> typing_flags : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_impredicative_set" class="anchored"><a href="#val-is_impredicative_set" class="anchor"></a><code><span><span class="keyword">val</span> is_impredicative_set : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-type_in_type" class="anchored"><a href="#val-type_in_type" class="anchor"></a><code><span><span class="keyword">val</span> type_in_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-deactivated_guard" class="anchored"><a href="#val-deactivated_guard" class="anchor"></a><code><span><span class="keyword">val</span> deactivated_guard : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-indices_matter" class="anchored"><a href="#val-indices_matter" class="anchor"></a><code><span><span class="keyword">val</span> indices_matter : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_impredicative_sort" class="anchored"><a href="#val-is_impredicative_sort" class="anchor"></a><code><span><span class="keyword">val</span> is_impredicative_sort : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-t">Sorts.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_impredicative_family" class="anchored"><a href="#val-is_impredicative_family" class="anchor"></a><code><span><span class="keyword">val</span> is_impredicative_family : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-family">Sorts.family</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_context" class="anchored"><a href="#val-empty_context" class="anchor"></a><code><span><span class="keyword">val</span> empty_context : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>is the local context empty</p></div></div><h6 id="context-of-de-bruijn-variables-(rel_context)"><a href="#context-of-de-bruijn-variables-(rel_context)" class="anchor"></a>Context of de Bruijn variables (<code>rel_context</code>)</h6><div class="odoc-spec"><div class="spec value" id="val-nb_rel" class="anchored"><a href="#val-nb_rel" class="anchor"></a><code><span><span class="keyword">val</span> nb_rel : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_rel" class="anchored"><a href="#val-push_rel" class="anchor"></a><code><span><span class="keyword">val</span> push_rel : <span><a href="../Constr/index.html#type-rel_declaration">Constr.rel_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_rel_context" class="anchored"><a href="#val-push_rel_context" class="anchor"></a><code><span><span class="keyword">val</span> push_rel_context : <span><a href="../Constr/index.html#type-rel_context">Constr.rel_context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_rec_types" class="anchored"><a href="#val-push_rec_types" class="anchor"></a><code><span><span class="keyword">val</span> push_rec_types : <span><a href="../Constr/index.html#type-rec_declaration">Constr.rec_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_rel_context_val" class="anchored"><a href="#val-push_rel_context_val" class="anchor"></a><code><span><span class="keyword">val</span> push_rel_context_val : <span><a href="../Constr/index.html#type-rel_declaration">Constr.rel_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rel_context_val">rel_context_val</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rel_context_val">rel_context_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_rel_context_val" class="anchored"><a href="#val-set_rel_context_val" class="anchor"></a><code><span><span class="keyword">val</span> set_rel_context_val : <span><a href="#type-rel_context_val">rel_context_val</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_rel_context_val" class="anchored"><a href="#val-empty_rel_context_val" class="anchor"></a><code><span><span class="keyword">val</span> empty_rel_context_val : <a href="#type-rel_context_val">rel_context_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_rel" class="anchored"><a href="#val-lookup_rel" class="anchor"></a><code><span><span class="keyword">val</span> lookup_rel : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-rel_declaration">Constr.rel_declaration</a></span></code></div><div class="spec-doc"><p>Looks up in the context of local vars referred by indice (<code>rel_context</code>) raises <code>Not_found</code> if the index points out of the context</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evaluable_rel" class="anchored"><a href="#val-evaluable_rel" class="anchor"></a><code><span><span class="keyword">val</span> evaluable_rel : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-env_of_rel" class="anchored"><a href="#val-env_of_rel" class="anchor"></a><code><span><span class="keyword">val</span> env_of_rel : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><h6 id="recurrence-on-rel_context"><a href="#recurrence-on-rel_context" class="anchor"></a>Recurrence on <code>rel_context</code></h6><div class="odoc-spec"><div class="spec value" id="val-fold_rel_context" class="anchored"><a href="#val-fold_rel_context" class="anchor"></a><code><span><span class="keyword">val</span> fold_rel_context : <span><span>(<span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-rel_declaration">Constr.rel_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><h6 id="context-of-variables-(section-variables-and-goal-assumptions)"><a href="#context-of-variables-(section-variables-and-goal-assumptions)" class="anchor"></a>Context of variables (section variables and goal assumptions)</h6><div class="odoc-spec"><div class="spec value" id="val-named_context_of_val" class="anchored"><a href="#val-named_context_of_val" class="anchor"></a><code><span><span class="keyword">val</span> named_context_of_val : <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_context">Constr.named_context</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-val_of_named_context" class="anchored"><a href="#val-val_of_named_context" class="anchor"></a><code><span><span class="keyword">val</span> val_of_named_context : <span><a href="../Constr/index.html#type-named_context">Constr.named_context</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_context_val">named_context_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_named_context_val" class="anchored"><a href="#val-empty_named_context_val" class="anchor"></a><code><span><span class="keyword">val</span> empty_named_context_val : <a href="#type-named_context_val">named_context_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ids_of_named_context_val" class="anchored"><a href="#val-ids_of_named_context_val" class="anchor"></a><code><span><span class="keyword">val</span> ids_of_named_context_val : <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Names</span>.Id.Set.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map_named_val" class="anchored"><a href="#val-map_named_val" class="anchor"></a><code><span><span class="keyword">val</span> map_named_val : <span><span>(<span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_context_val">named_context_val</a></span></code></div><div class="spec-doc"><p><code>map_named_val f ctxt</code> apply <code>f</code> to the body and the type of each declarations. *** /!\ *** <code>f t</code> should be convertible with t, and preserve the name</p></div></div><div class="odoc-spec"><div class="spec value" id="val-push_named" class="anchored"><a href="#val-push_named" class="anchor"></a><code><span><span class="keyword">val</span> push_named : <span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_named_context" class="anchored"><a href="#val-push_named_context" class="anchor"></a><code><span><span class="keyword">val</span> push_named_context : <span><a href="../Constr/index.html#type-named_context">Constr.named_context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_named_context_val" class="anchored"><a href="#val-push_named_context_val" class="anchor"></a><code><span><span class="keyword">val</span> push_named_context_val : <span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_context_val">named_context_val</a></span></code></div></div><p>Looks up in the context of local vars referred by names (<code>named_context</code>) raises <code>Not_found</code> if the Id.t is not found</p><div class="odoc-spec"><div class="spec value" id="val-lookup_named" class="anchored"><a href="#val-lookup_named" class="anchor"></a><code><span><span class="keyword">val</span> lookup_named : <span><a href="../Names/index.html#type-variable">Names.variable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_named_ctxt" class="anchored"><a href="#val-lookup_named_ctxt" class="anchor"></a><code><span><span class="keyword">val</span> lookup_named_ctxt : <span><a href="../Names/index.html#type-variable">Names.variable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evaluable_named" class="anchored"><a href="#val-evaluable_named" class="anchor"></a><code><span><span class="keyword">val</span> evaluable_named : <span><a href="../Names/index.html#type-variable">Names.variable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-named_type" class="anchored"><a href="#val-named_type" class="anchor"></a><code><span><span class="keyword">val</span> named_type : <span><a href="../Names/index.html#type-variable">Names.variable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-types">Constr.types</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-named_body" class="anchored"><a href="#val-named_body" class="anchor"></a><code><span><span class="keyword">val</span> named_body : <span><a href="../Names/index.html#type-variable">Names.variable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> option</span></span></code></div></div><h6 id="recurrence-on-named_context:-older-declarations-processed-first"><a href="#recurrence-on-named_context:-older-declarations-processed-first" class="anchor"></a>Recurrence on <code>named_context</code>: older declarations processed first</h6><div class="odoc-spec"><div class="spec value" id="val-fold_named_context" class="anchored"><a href="#val-fold_named_context" class="anchor"></a><code><span><span class="keyword">val</span> fold_named_context : <span><span>(<span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-match_named_context_val" class="anchored"><a href="#val-match_named_context_val" class="anchor"></a><code><span><span class="keyword">val</span> match_named_context_val : <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> * <a href="#type-named_context_val">named_context_val</a>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_named_context_reverse" class="anchored"><a href="#val-fold_named_context_reverse" class="anchor"></a><code><span><span class="keyword">val</span> fold_named_context_reverse : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Recurrence on <code>named_context</code> starting from younger decl</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reset_context" class="anchored"><a href="#val-reset_context" class="anchor"></a><code><span><span class="keyword">val</span> reset_context : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p>This forgets named and rel contexts</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reset_with_named_context" class="anchored"><a href="#val-reset_with_named_context" class="anchor"></a><code><span><span class="keyword">val</span> reset_with_named_context : <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p>This forgets rel context and sets a new named context</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pop_rel_context" class="anchored"><a href="#val-pop_rel_context" class="anchor"></a><code><span><span class="keyword">val</span> pop_rel_context : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p>This removes the <code>n</code> last declarations from the rel context</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_constants" class="anchored"><a href="#val-fold_constants" class="anchor"></a><code><span><span class="keyword">val</span> fold_constants : <span><span>(<span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-constant_body">Declarations.constant_body</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Useful for printing</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_inductives" class="anchored"><a href="#val-fold_inductives" class="anchor"></a><code><span><span class="keyword">val</span> fold_inductives : <span><span>(<span><a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-mutual_inductive_body">Declarations.mutual_inductive_body</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><h6 id="global-constants"><a href="#global-constants" class="anchor"></a>Global constants</h6><h6 id="add-entries-to-global-environment"><a href="#add-entries-to-global-environment" class="anchor"></a>Add entries to global environment</h6><div class="odoc-spec"><div class="spec value" id="val-add_constant" class="anchored"><a href="#val-add_constant" class="anchor"></a><code><span><span class="keyword">val</span> add_constant : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-constant_body">Declarations.constant_body</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_constant_key" class="anchored"><a href="#val-add_constant_key" class="anchor"></a><code><span><span class="keyword">val</span> add_constant_key : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-constant_body">Declarations.constant_body</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-link_info">link_info</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_constant_key" class="anchored"><a href="#val-lookup_constant_key" class="anchor"></a><code><span><span class="keyword">val</span> lookup_constant_key : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-constant_key">constant_key</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_constant" class="anchored"><a href="#val-lookup_constant" class="anchor"></a><code><span><span class="keyword">val</span> lookup_constant : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Declarations/index.html#type-constant_body">Declarations.constant_body</a></span></code></div><div class="spec-doc"><p>Looks up in the context of global constant names raises an anomaly if the required path is not found</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evaluable_constant" class="anchored"><a href="#val-evaluable_constant" class="anchor"></a><code><span><span class="keyword">val</span> evaluable_constant : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mem_constant" class="anchored"><a href="#val-mem_constant" class="anchor"></a><code><span><span class="keyword">val</span> mem_constant : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_rewrite_rules" class="anchored"><a href="#val-add_rewrite_rules" class="anchor"></a><code><span><span class="keyword">val</span> add_rewrite_rules : <span><span><span>(<a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> * <a href="../Declarations/index.html#type-rewrite_rule">Declarations.rewrite_rule</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-polymorphic_constant" class="anchored"><a href="#val-polymorphic_constant" class="anchor"></a><code><span><span class="keyword">val</span> polymorphic_constant : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>New-style polymorphism</p></div></div><div class="odoc-spec"><div class="spec value" id="val-polymorphic_pconstant" class="anchored"><a href="#val-polymorphic_pconstant" class="anchor"></a><code><span><span class="keyword">val</span> polymorphic_pconstant : <span><a href="../Constr/index.html#type-pconstant">Constr.pconstant</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-type_in_type_constant" class="anchored"><a href="#val-type_in_type_constant" class="anchor"></a><code><span><span class="keyword">val</span> type_in_type_constant : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><h6 id="..."><a href="#..." class="anchor"></a>...</h6><p><code>constant_value env c</code> raises <code>NotEvaluableConst Opaque</code> if <code>c</code> is opaque, <code>NotEvaluableConst NoBody</code> if it has no body, <code>NotEvaluableConst IsProj</code> if <code>c</code> is a projection, <code>NotEvaluableConst (IsPrimitive p)</code> if <code>c</code> is primitive <code>p</code> and an anomaly if it does not exist in <code>env</code></p><div class="odoc-spec"><div class="spec type" id="type-const_evaluation_result" class="anchored"><a href="#type-const_evaluation_result" class="anchor"></a><code><span><span class="keyword">type</span> const_evaluation_result</span><span> = </span></code><table><tr id="type-const_evaluation_result.NoBody" class="anchored"><td class="def variant constructor"><a href="#type-const_evaluation_result.NoBody" class="anchor"></a><code><span>| </span><span><span class="constructor">NoBody</span></span></code></td></tr><tr id="type-const_evaluation_result.Opaque" class="anchored"><td class="def variant constructor"><a href="#type-const_evaluation_result.Opaque" class="anchor"></a><code><span>| </span><span><span class="constructor">Opaque</span></span></code></td></tr><tr id="type-const_evaluation_result.IsPrimitive" class="anchored"><td class="def variant constructor"><a href="#type-const_evaluation_result.IsPrimitive" class="anchor"></a><code><span>| </span><span><span class="constructor">IsPrimitive</span> <span class="keyword">of</span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> * <a href="../CPrimitives/index.html#type-t">CPrimitives.t</a></span></code></td></tr><tr id="type-const_evaluation_result.HasRules" class="anchored"><td class="def variant constructor"><a href="#type-const_evaluation_result.HasRules" class="anchor"></a><code><span>| </span><span><span class="constructor">HasRules</span> <span class="keyword">of</span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> * bool * <span><a href="../Declarations/index.html#type-rewrite_rule">Declarations.rewrite_rule</a> list</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec exception" id="exception-NotEvaluableConst" class="anchored"><a href="#exception-NotEvaluableConst" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">NotEvaluableConst</span> <span class="keyword">of</span> <a href="#type-const_evaluation_result">const_evaluation_result</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_type" class="anchored"><a href="#val-constant_type" class="anchor"></a><code><span><span class="keyword">val</span> constant_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-types">Constr.types</a> <a href="../Univ/index.html#type-constrained">Univ.constrained</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_value_and_type" class="anchored"><a href="#val-constant_value_and_type" class="anchor"></a><code><span><span class="keyword">val</span> constant_value_and_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> option</span> * <a href="../Constr/index.html#type-types">Constr.types</a> * <a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a></span></code></div><div class="spec-doc"><p>The universe context associated to the constant, empty if not polymorphic</p></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_context" class="anchored"><a href="#val-constant_context" class="anchor"></a><code><span><span class="keyword">val</span> constant_context : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UVars/AbstractContext/index.html#type-t">UVars.AbstractContext.t</a></span></code></div><div class="spec-doc"><p>The universe context associated to the constant, empty if not polymorphic</p></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_value_in" class="anchored"><a href="#val-constant_value_in" class="anchor"></a><code><span><span class="keyword">val</span> constant_value_in : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_type_in" class="anchored"><a href="#val-constant_type_in" class="anchor"></a><code><span><span class="keyword">val</span> constant_type_in : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-types">Constr.types</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_opt_value_in" class="anchored"><a href="#val-constant_opt_value_in" class="anchor"></a><code><span><span class="keyword">val</span> constant_opt_value_in : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <a href="../UVars/index.html#type-puniverses">UVars.puniverses</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_symbol" class="anchored"><a href="#val-is_symbol" class="anchor"></a><code><span><span class="keyword">val</span> is_symbol : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_primitive" class="anchored"><a href="#val-is_primitive" class="anchor"></a><code><span><span class="keyword">val</span> is_primitive : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_primitive" class="anchored"><a href="#val-get_primitive" class="anchor"></a><code><span><span class="keyword">val</span> get_primitive : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../CPrimitives/index.html#type-t">CPrimitives.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_array_type" class="anchored"><a href="#val-is_array_type" class="anchor"></a><code><span><span class="keyword">val</span> is_array_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_int63_type" class="anchored"><a href="#val-is_int63_type" class="anchor"></a><code><span><span class="keyword">val</span> is_int63_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_float64_type" class="anchored"><a href="#val-is_float64_type" class="anchor"></a><code><span><span class="keyword">val</span> is_float64_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_primitive_type" class="anchored"><a href="#val-is_primitive_type" class="anchor"></a><code><span><span class="keyword">val</span> is_primitive_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><h6 id="primitive-projections"><a href="#primitive-projections" class="anchor"></a>Primitive projections</h6><div class="odoc-spec"><div class="spec value" id="val-lookup_projection" class="anchored"><a href="#val-lookup_projection" class="anchor"></a><code><span><span class="keyword">val</span> lookup_projection : <span><a href="../Names/Projection/index.html#type-t">Names.Projection.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> * <a href="../Constr/index.html#type-types">Constr.types</a></span></code></div><div class="spec-doc"><p>Checks that the number of parameters is correct.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_projection" class="anchored"><a href="#val-get_projection" class="anchor"></a><code><span><span class="keyword">val</span> get_projection : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <span>proj_arg:int <span class="arrow">&#45;&gt;</span></span> <a href="../Names/Projection/Repr/index.html#type-t">Names.Projection.Repr.t</a> * <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a></span></code></div><div class="spec-doc"><p>Anomaly when not a primitive record or invalid proj_arg.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_projections" class="anchored"><a href="#val-get_projections" class="anchor"></a><code><span><span class="keyword">val</span> get_projections : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../Names/Projection/Repr/index.html#type-t">Names.Projection.Repr.t</a> * <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a>)</span> array</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_mind_key" class="anchored"><a href="#val-lookup_mind_key" class="anchor"></a><code><span><span class="keyword">val</span> lookup_mind_key : <span><a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-mind_key">mind_key</a></span></code></div><div class="spec-doc"><p>Inductive types</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_mind_key" class="anchored"><a href="#val-add_mind_key" class="anchor"></a><code><span><span class="keyword">val</span> add_mind_key : <span><a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-mind_key">mind_key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_mind" class="anchored"><a href="#val-add_mind" class="anchor"></a><code><span><span class="keyword">val</span> add_mind : <span><a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-mutual_inductive_body">Declarations.mutual_inductive_body</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_mind" class="anchored"><a href="#val-lookup_mind" class="anchor"></a><code><span><span class="keyword">val</span> lookup_mind : <span><a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Declarations/index.html#type-mutual_inductive_body">Declarations.mutual_inductive_body</a></span></code></div><div class="spec-doc"><p>Looks up in the context of global inductive names raises an anomaly if the required path is not found</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mem_mind" class="anchored"><a href="#val-mem_mind" class="anchor"></a><code><span><span class="keyword">val</span> mem_mind : <span><a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mind_context" class="anchored"><a href="#val-mind_context" class="anchor"></a><code><span><span class="keyword">val</span> mind_context : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UVars/AbstractContext/index.html#type-t">UVars.AbstractContext.t</a></span></code></div><div class="spec-doc"><p>The universe context associated to the inductive, empty if not polymorphic</p></div></div><div class="odoc-spec"><div class="spec value" id="val-polymorphic_ind" class="anchored"><a href="#val-polymorphic_ind" class="anchor"></a><code><span><span class="keyword">val</span> polymorphic_ind : <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>New-style polymorphism</p></div></div><div class="odoc-spec"><div class="spec value" id="val-polymorphic_pind" class="anchored"><a href="#val-polymorphic_pind" class="anchor"></a><code><span><span class="keyword">val</span> polymorphic_pind : <span><a href="../Constr/index.html#type-pinductive">Constr.pinductive</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-type_in_type_ind" class="anchored"><a href="#val-type_in_type_ind" class="anchor"></a><code><span><span class="keyword">val</span> type_in_type_ind : <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-template_polymorphic_ind" class="anchored"><a href="#val-template_polymorphic_ind" class="anchor"></a><code><span><span class="keyword">val</span> template_polymorphic_ind : <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Old-style polymorphism</p></div></div><div class="odoc-spec"><div class="spec value" id="val-template_polymorphic_variables" class="anchored"><a href="#val-template_polymorphic_variables" class="anchor"></a><code><span><span class="keyword">val</span> template_polymorphic_variables : <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-template_polymorphic_pind" class="anchored"><a href="#val-template_polymorphic_pind" class="anchor"></a><code><span><span class="keyword">val</span> template_polymorphic_pind : <span><a href="../Constr/index.html#type-pinductive">Constr.pinductive</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><h6 id="changes-of-representation-of-case-nodes"><a href="#changes-of-representation-of-case-nodes" class="anchor"></a>Changes of representation of Case nodes</h6><div class="odoc-spec"><div class="spec value" id="val-expand_arity" class="anchored"><a href="#val-expand_arity" class="anchor"></a><code><span><span class="keyword">val</span> expand_arity : <span><a href="../Declarations/index.html#type-mind_specif">Declarations.mind_specif</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-pinductive">Constr.pinductive</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Constr/index.html#type-constr">Constr.constr</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-rel_context">Constr.rel_context</a></span></code></div><div class="spec-doc"><p>Given an inductive type and its parameters, builds the context of the return clause, including the inductive being eliminated. The additional binder array is only used to set the names of the context variables, we use the less general type to make it easy to use this function on Case nodes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-expand_branch_contexts" class="anchored"><a href="#val-expand_branch_contexts" class="anchor"></a><code><span><span class="keyword">val</span> expand_branch_contexts : <span><a href="../Declarations/index.html#type-mind_specif">Declarations.mind_specif</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Constr/index.html#type-constr">Constr.constr</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> array</span> * <span class="type-var">'a</span>)</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-rel_context">Constr.rel_context</a> array</span></span></code></div><div class="spec-doc"><p>Given an inductive type and its parameters, builds the context of the return clause, including the inductive being eliminated. The additional binder array is only used to set the names of the context variables, we use the less general type to make it easy to use this function on Case nodes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-instantiate_context" class="anchored"><a href="#val-instantiate_context" class="anchor"></a><code><span><span class="keyword">val</span> instantiate_context : <span><a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vars/index.html#type-substl">Vars.substl</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> <a href="../Context/index.html#type-binder_annot">Context.binder_annot</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-rel_context">Constr.rel_context</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-rel_context">Constr.rel_context</a></span></code></div><div class="spec-doc"><p><code>instantiate_context u subst nas ctx</code> applies both <code>u</code> and <code>subst</code> to <code>ctx</code> while replacing names using <code>nas</code> (order reversed). In particular, assumes that <code>ctx</code> and <code>nas</code> have the same length.</p></div></div><h6 id="name-quotients"><a href="#name-quotients" class="anchor"></a>Name quotients</h6><div class="odoc-spec"><div class="spec module-type" id="module-type-QNameS" class="anchored"><a href="#module-type-QNameS" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-QNameS/index.html">QNameS</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-QConstant" class="anchored"><a href="#module-QConstant" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="QConstant/index.html">QConstant</a></span><span> : <a href="module-type-QNameS/index.html">QNameS</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-QNameS/index.html#type-t">t</a> = <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-QMutInd" class="anchored"><a href="#module-QMutInd" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="QMutInd/index.html">QMutInd</a></span><span> : <a href="module-type-QNameS/index.html">QNameS</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-QNameS/index.html#type-t">t</a> = <a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-QInd" class="anchored"><a href="#module-QInd" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="QInd/index.html">QInd</a></span><span> : <a href="module-type-QNameS/index.html">QNameS</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-QNameS/index.html#type-t">t</a> = <a href="../Names/Ind/index.html#type-t">Names.Ind.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-QConstruct" class="anchored"><a href="#module-QConstruct" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="QConstruct/index.html">QConstruct</a></span><span> : <a href="module-type-QNameS/index.html">QNameS</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-QNameS/index.html#type-t">t</a> = <a href="../Names/Construct/index.html#type-t">Names.Construct.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-QProjection" class="anchored"><a href="#module-QProjection" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="QProjection/index.html">QProjection</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-QGlobRef" class="anchored"><a href="#module-QGlobRef" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="QGlobRef/index.html">QGlobRef</a></span><span> : <a href="module-type-QNameS/index.html">QNameS</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-QNameS/index.html#type-t">t</a> = <a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a></span></span></code></div></div><h6 id="modules"><a href="#modules" class="anchor"></a>Modules</h6><div class="odoc-spec"><div class="spec value" id="val-add_modtype" class="anchored"><a href="#val-add_modtype" class="anchor"></a><code><span><span class="keyword">val</span> add_modtype : <span><a href="../Declarations/index.html#type-module_type_body">Declarations.module_type_body</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shallow_add_module" class="anchored"><a href="#val-shallow_add_module" class="anchor"></a><code><span><span class="keyword">val</span> shallow_add_module : <span><a href="../Declarations/index.html#type-module_body">Declarations.module_body</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p><code>shallow_add_module</code> does not add module components</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_module" class="anchored"><a href="#val-lookup_module" class="anchor"></a><code><span><span class="keyword">val</span> lookup_module : <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Declarations/index.html#type-module_body">Declarations.module_body</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookup_modtype" class="anchored"><a href="#val-lookup_modtype" class="anchor"></a><code><span><span class="keyword">val</span> lookup_modtype : <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Declarations/index.html#type-module_type_body">Declarations.module_type_body</a></span></code></div></div><h6 id="universe-constraints"><a href="#universe-constraints" class="anchor"></a>Universe constraints</h6><div class="odoc-spec"><div class="spec value" id="val-add_constraints" class="anchored"><a href="#val-add_constraints" class="anchor"></a><code><span><span class="keyword">val</span> add_constraints : <span><a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p>Add universe constraints to the environment.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">UniverseInconsistency.</span> </li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-check_constraints" class="anchored"><a href="#val-check_constraints" class="anchor"></a><code><span><span class="keyword">val</span> check_constraints : <span><a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check constraints are satifiable in the environment.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-push_context" class="anchored"><a href="#val-push_context" class="anchor"></a><code><span><span class="keyword">val</span> push_context : <span>?strict:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../UVars/UContext/index.html#type-t">UVars.UContext.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p><code>push_context ?(strict=false) ctx env</code> pushes the universe context to the environment.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">UGraph.AlreadyDeclared</span> <p>if one of the universes is already declared.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-push_context_set" class="anchored"><a href="#val-push_context_set" class="anchor"></a><code><span><span class="keyword">val</span> push_context_set : <span>?strict:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p><code>push_context_set ?(strict=false) ctx env</code> pushes the universe context set to the environment. It does not fail even if one of the universes is already declared.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-push_subgraph" class="anchored"><a href="#val-push_subgraph" class="anchor"></a><code><span><span class="keyword">val</span> push_subgraph : <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p><code>push_subgraph univs env</code> adds the universes and constraints in <code>univs</code> to <code>env</code> as <code>push_context_set ~strict:false univs env</code>, and also checks that they do not imply new transitive constraints between pre-existing universes in <code>env</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_typing_flags" class="anchored"><a href="#val-set_typing_flags" class="anchor"></a><code><span><span class="keyword">val</span> set_typing_flags : <span><a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_impredicative_set" class="anchored"><a href="#val-set_impredicative_set" class="anchor"></a><code><span><span class="keyword">val</span> set_impredicative_set : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_type_in_type" class="anchored"><a href="#val-set_type_in_type" class="anchor"></a><code><span><span class="keyword">val</span> set_type_in_type : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_allow_sprop" class="anchored"><a href="#val-set_allow_sprop" class="anchor"></a><code><span><span class="keyword">val</span> set_allow_sprop : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sprop_allowed" class="anchored"><a href="#val-sprop_allowed" class="anchor"></a><code><span><span class="keyword">val</span> sprop_allowed : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-allow_rewrite_rules" class="anchored"><a href="#val-allow_rewrite_rules" class="anchor"></a><code><span><span class="keyword">val</span> allow_rewrite_rules : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rewrite_rules_allowed" class="anchored"><a href="#val-rewrite_rules_allowed" class="anchor"></a><code><span><span class="keyword">val</span> rewrite_rules_allowed : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-same_flags" class="anchored"><a href="#val-same_flags" class="anchor"></a><code><span><span class="keyword">val</span> same_flags : <span><a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_typing_flags" class="anchored"><a href="#val-update_typing_flags" class="anchor"></a><code><span><span class="keyword">val</span> update_typing_flags : <span>?typing_flags:<a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p><code>update_typing_flags ?typing_flags</code> may update env with optional typing flags</p></div></div><div class="odoc-spec"><div class="spec value" id="val-universes_of_global" class="anchored"><a href="#val-universes_of_global" class="anchor"></a><code><span><span class="keyword">val</span> universes_of_global : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UVars/AbstractContext/index.html#type-t">UVars.AbstractContext.t</a></span></code></div></div><h6 id="sets-of-referred-section-variables"><a href="#sets-of-referred-section-variables" class="anchor"></a>Sets of referred section variables</h6><p><code>global_vars_set env c</code> returns the list of <code>id</code>'s occurring either directly as <code>Var id</code> in <code>c</code> or indirectly as a section variable dependent in a global reference occurring in <code>c</code></p><div class="odoc-spec"><div class="spec value" id="val-global_vars_set" class="anchored"><a href="#val-global_vars_set" class="anchor"></a><code><span><span class="keyword">val</span> global_vars_set : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Names</span>.Id.Set.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-vars_of_global" class="anchored"><a href="#val-vars_of_global" class="anchor"></a><code><span><span class="keyword">val</span> vars_of_global : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Names</span>.Id.Set.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-really_needed" class="anchored"><a href="#val-really_needed" class="anchor"></a><code><span><span class="keyword">val</span> really_needed : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Names</span>.Id.Set.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Names</span>.Id.Set.t</span></code></div><div class="spec-doc"><p>closure of the input id set w.r.t. dependency</p></div></div><div class="odoc-spec"><div class="spec value" id="val-keep_hyps" class="anchored"><a href="#val-keep_hyps" class="anchor"></a><code><span><span class="keyword">val</span> keep_hyps : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Names</span>.Id.Set.t <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_context">Constr.named_context</a></span></code></div><div class="spec-doc"><p>like <code>really_needed</code> but computes a well ordered named context</p></div></div><h6 id="unsafe-judgments."><a href="#unsafe-judgments." class="anchor"></a>Unsafe judgments.</h6><p>We introduce here the pre-type of judgments, which is actually only a datatype to store a term with its type and the type of its type.</p><div class="odoc-spec"><div class="spec type" id="type-punsafe_judgment" class="anchored"><a href="#type-punsafe_judgment" class="anchor"></a><code><span><span class="keyword">type</span> <span>('constr, 'types) punsafe_judgment</span></span><span> = </span><span>{</span></code><table><tr id="type-punsafe_judgment.uj_val" class="anchored"><td class="def record field"><a href="#type-punsafe_judgment.uj_val" class="anchor"></a><code><span>uj_val : <span class="type-var">'constr</span>;</span></code></td></tr><tr id="type-punsafe_judgment.uj_type" class="anchored"><td class="def record field"><a href="#type-punsafe_judgment.uj_type" class="anchor"></a><code><span>uj_type : <span class="type-var">'types</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-on_judgment" class="anchored"><a href="#val-on_judgment" class="anchor"></a><code><span><span class="keyword">val</span> on_judgment : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'a</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>,Â <span class="type-var">'b</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-on_judgment_value" class="anchored"><a href="#val-on_judgment_value" class="anchor"></a><code><span><span class="keyword">val</span> on_judgment_value : <span><span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'c</span>,Â <span class="type-var">'t</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>,Â <span class="type-var">'t</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-on_judgment_type" class="anchored"><a href="#val-on_judgment_type" class="anchor"></a><code><span><span class="keyword">val</span> on_judgment_type : <span><span>(<span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'c</span>,Â <span class="type-var">'t</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>,Â <span class="type-var">'t</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-unsafe_judgment" class="anchored"><a href="#type-unsafe_judgment" class="anchor"></a><code><span><span class="keyword">type</span> unsafe_judgment</span><span> = <span><span>(<a href="../Constr/index.html#type-constr">Constr.constr</a>,Â <a href="../Constr/index.html#type-types">Constr.types</a>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_judge" class="anchored"><a href="#val-make_judge" class="anchor"></a><code><span><span class="keyword">val</span> make_judge : <span><span class="type-var">'constr</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'types</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'constr</span>,Â <span class="type-var">'types</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-j_val" class="anchored"><a href="#val-j_val" class="anchor"></a><code><span><span class="keyword">val</span> j_val : <span><span><span>(<span class="type-var">'constr</span>,Â <span class="type-var">'types</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'constr</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-j_type" class="anchored"><a href="#val-j_type" class="anchor"></a><code><span><span class="keyword">val</span> j_type : <span><span><span>(<span class="type-var">'constr</span>,Â <span class="type-var">'types</span>)</span> <a href="#type-punsafe_judgment">punsafe_judgment</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'types</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-punsafe_type_judgment" class="anchored"><a href="#type-punsafe_type_judgment" class="anchor"></a><code><span><span class="keyword">type</span> <span>('types, 'sorts) punsafe_type_judgment</span></span><span> = </span><span>{</span></code><table><tr id="type-punsafe_type_judgment.utj_val" class="anchored"><td class="def record field"><a href="#type-punsafe_type_judgment.utj_val" class="anchor"></a><code><span>utj_val : <span class="type-var">'types</span>;</span></code></td></tr><tr id="type-punsafe_type_judgment.utj_type" class="anchored"><td class="def record field"><a href="#type-punsafe_type_judgment.utj_type" class="anchor"></a><code><span>utj_type : <span class="type-var">'sorts</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-unsafe_type_judgment" class="anchored"><a href="#type-unsafe_type_judgment" class="anchor"></a><code><span><span class="keyword">type</span> unsafe_type_judgment</span><span> = <span><span>(<a href="../Constr/index.html#type-types">Constr.types</a>,Â <a href="../Sorts/index.html#type-t">Sorts.t</a>)</span> <a href="#type-punsafe_type_judgment">punsafe_type_judgment</a></span></span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Hyp_not_found" class="anchored"><a href="#exception-Hyp_not_found" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Hyp_not_found</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-apply_to_hyp" class="anchored"><a href="#val-apply_to_hyp" class="anchor"></a><code><span><span class="keyword">val</span> apply_to_hyp : <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/index.html#type-variable">Names.variable</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Constr/index.html#type-named_context">Constr.named_context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-named_context">Constr.named_context</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_context_val">named_context_val</a></span></code></div><div class="spec-doc"><p><code>apply_to_hyp sign id f</code> split <code>sign</code> into <code>tail::(id,_,_)::head</code> and return <code>tail::(f head (id,_,_) (rev tail))::head</code>. the value associated to id should not change</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_hyps" class="anchored"><a href="#val-remove_hyps" class="anchor"></a><code><span><span class="keyword">val</span> remove_hyps : <span><span class="xref-unresolved">Names</span>.Id.Set.t <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-named_declaration">Constr.named_declaration</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-named_context_val">named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_context_val">named_context_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_polymorphic" class="anchored"><a href="#val-is_polymorphic" class="anchor"></a><code><span><span class="keyword">val</span> is_polymorphic : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_template_polymorphic" class="anchored"><a href="#val-is_template_polymorphic" class="anchor"></a><code><span><span class="keyword">val</span> is_template_polymorphic : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_template_polymorphic_variables" class="anchored"><a href="#val-get_template_polymorphic_variables" class="anchor"></a><code><span><span class="keyword">val</span> get_template_polymorphic_variables : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_type_in_type" class="anchored"><a href="#val-is_type_in_type" class="anchor"></a><code><span><span class="keyword">val</span> is_type_in_type : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-no_link_info" class="anchored"><a href="#val-no_link_info" class="anchor"></a><code><span><span class="keyword">val</span> no_link_info : <a href="#type-link_info">link_info</a></span></code></div><div class="spec-doc"><p>Native compiler</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_retroknowledge" class="anchored"><a href="#val-set_retroknowledge" class="anchor"></a><code><span><span class="keyword">val</span> set_retroknowledge : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Retroknowledge/index.html#type-retroknowledge">Retroknowledge.retroknowledge</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div><div class="spec-doc"><p>Primitives</p></div></div></div></body></html>