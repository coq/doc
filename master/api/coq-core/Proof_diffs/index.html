<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Proof_diffs (coq-core.Proof_diffs)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Proof_diffs</nav><header class="odoc-preamble"><h1>Module <code><span>Proof_diffs</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-opt_name" class="anchored"><a href="#val-opt_name" class="anchor"></a><code><span><span class="keyword">val</span> opt_name : <span>string list</span></span></code></div><div class="spec-doc"><p>Name of Diffs option</p></div></div><div class="odoc-spec"><div class="spec value" id="val-show_diffs" class="anchored"><a href="#val-show_diffs" class="anchor"></a><code><span><span class="keyword">val</span> show_diffs : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns true if the diffs option is &quot;on&quot; or &quot;removed&quot;</p></div></div><div class="odoc-spec"><div class="spec value" id="val-show_removed" class="anchored"><a href="#val-show_removed" class="anchor"></a><code><span><span class="keyword">val</span> show_removed : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns true if the diffs option is &quot;removed&quot;</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_color_enabled" class="anchored"><a href="#val-write_color_enabled" class="anchor"></a><code><span><span class="keyword">val</span> write_color_enabled : <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>controls whether color output is enabled</p></div></div><div class="odoc-spec"><div class="spec value" id="val-color_enabled" class="anchored"><a href="#val-color_enabled" class="anchor"></a><code><span><span class="keyword">val</span> color_enabled : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>true indicates that color output is enabled</p></div></div><div class="odoc-spec"><div class="spec type" id="type-diffOpt" class="anchored"><a href="#type-diffOpt" class="anchor"></a><code><span><span class="keyword">type</span> diffOpt</span><span> = </span></code><table><tr id="type-diffOpt.DiffOff" class="anchored"><td class="def variant constructor"><a href="#type-diffOpt.DiffOff" class="anchor"></a><code><span>| </span><span><span class="constructor">DiffOff</span></span></code></td></tr><tr id="type-diffOpt.DiffOn" class="anchored"><td class="def variant constructor"><a href="#type-diffOpt.DiffOn" class="anchor"></a><code><span>| </span><span><span class="constructor">DiffOn</span></span></code></td></tr><tr id="type-diffOpt.DiffRemoved" class="anchored"><td class="def variant constructor"><a href="#type-diffOpt.DiffRemoved" class="anchor"></a><code><span>| </span><span><span class="constructor">DiffRemoved</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-string_to_diffs" class="anchored"><a href="#val-string_to_diffs" class="anchor"></a><code><span><span class="keyword">val</span> string_to_diffs : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-diffOpt">diffOpt</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-goal" class="anchored"><a href="#type-goal" class="anchor"></a><code><span><span class="keyword">type</span> goal</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_goal" class="anchored"><a href="#val-make_goal" class="anchor"></a><code><span><span class="keyword">val</span> make_goal : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-goal">goal</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-diff_goal" class="anchored"><a href="#val-diff_goal" class="anchor"></a><code><span><span class="keyword">val</span> diff_goal : <span>?short:bool <span class="arrow">&#45;&gt;</span></span> <span>?og_s:<a href="#type-goal">goal</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-goal">goal</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pp/index.html#type-t">Pp.t</a> list</span> * <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div><div class="spec-doc"><p>Computes the diff between the goals of two Proofs and returns the highlighted lists of hypotheses and conclusions.</p><p>If the strings used to display the goal are not lexable (this is believed unlikely), this routine will generate a Diff_Failure. This routine may also raise Diff_Failure under some &quot;impossible&quot; conditions.</p><p>If you want to make your call especially bulletproof, catch these exceptions, print a user-visible message, then recall this routine with the second argument ('og_s') set to None, which will skip the diff.</p><p>The 'short' flag skips computing the diffs of the hypotheses, which allows the Subgoals XML command to fetch just the conclusion of a goal. This is useful, for example, when an IDE only needs to display the number of admitted goals or preview the next unsolved goal.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tokenize_string" class="anchored"><a href="#val-tokenize_string" class="anchor"></a><code><span><span class="keyword">val</span> tokenize_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Convert a string to a list of token strings using the lexer</p></div></div><div class="odoc-spec"><div class="spec value" id="val-diff_concl" class="anchored"><a href="#val-diff_concl" class="anchor"></a><code><span><span class="keyword">val</span> diff_concl : <span>?og_s:<a href="#type-goal">goal</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-goal">goal</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div><div class="spec-doc"><p>Computes diffs for a single conclusion</p></div></div><div class="odoc-spec"><div class="spec type" id="type-goal_map" class="anchored"><a href="#type-goal_map" class="anchor"></a><code><span><span class="keyword">type</span> goal_map</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_goal_map" class="anchored"><a href="#val-make_goal_map" class="anchor"></a><code><span><span class="keyword">val</span> make_goal_map : <span><a href="../Proof/index.html#type-t">Proof.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Proof/index.html#type-t">Proof.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-goal_map">goal_map</a></span></code></div><div class="spec-doc"><p>Generates a map from <code>np</code> to <code>op</code> that maps changed goals to their prior forms. The map doesn't include entries for unchanged goals; unchanged goals will have the same goal id in both versions.</p><p><code>op</code> and <code>np</code> must be from the same proof document and <code>op</code> must be for a state before <code>np</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_goal" class="anchored"><a href="#val-map_goal" class="anchor"></a><code><span><span class="keyword">val</span> map_goal : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-goal_map">goal_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-goal">goal</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-log_out_ch" class="anchored"><a href="#val-log_out_ch" class="anchor"></a><code><span><span class="keyword">val</span> log_out_ch : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-hyp_info" class="anchored"><a href="#type-hyp_info" class="anchor"></a><code><span><span class="keyword">type</span> hyp_info</span><span> = </span><span>{</span></code><table><tr id="type-hyp_info.idents" class="anchored"><td class="def record field"><a href="#type-hyp_info.idents" class="anchor"></a><code><span>idents : <span>string list</span>;</span></code></td></tr><tr id="type-hyp_info.rhs_pp" class="anchored"><td class="def record field"><a href="#type-hyp_info.rhs_pp" class="anchor"></a><code><span>rhs_pp : <a href="../Pp/index.html#type-t">Pp.t</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-diff_hyps" class="anchored"><a href="#val-diff_hyps" class="anchor"></a><code><span><span class="keyword">val</span> diff_hyps : <span><span><span>string list</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-hyp_info">hyp_info</a> <a href="../CString/Map/index.html#type-t">CString.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>string list</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-hyp_info">hyp_info</a> <a href="../CString/Map/index.html#type-t">CString.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pp/index.html#type-t">Pp.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-diff_proofs" class="anchored"><a href="#val-diff_proofs" class="anchor"></a><code><span><span class="keyword">val</span> diff_proofs : <span>diff_opt:<a href="#type-diffOpt">diffOpt</a> <span class="arrow">&#45;&gt;</span></span> <span>?old:<a href="../Proof/index.html#type-t">Proof.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Proof/index.html#type-t">Proof.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-notify_proof_diff_failure" class="anchored"><a href="#val-notify_proof_diff_failure" class="anchor"></a><code><span><span class="keyword">val</span> notify_proof_diff_failure : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>