<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tacred (coq-core.Tacred)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">coq-core</a> &#x00BB; Tacred</nav><header class="odoc-preamble"><h1>Module <code><span>Tacred</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#reduction-functions-associated-to-tactics.">Reduction functions associated to tactics.</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-subst_evaluable_reference" class="anchored"><a href="#val-subst_evaluable_reference" class="anchor"></a><code><span><span class="keyword">val</span> subst_evaluable_reference : <span><a href="../Mod_subst/index.html#type-substitution">Mod_subst.substitution</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evaluable/index.html#type-t">Evaluable.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Evaluable/index.html#type-t">Evaluable.t</a></span></code></div><div class="spec-doc"><p>Here the semantics is completely unclear. What does &quot;Hint Unfold t&quot; means when &quot;t&quot; is a parameter? Does the user mean &quot;Unfold X.t&quot; or does she mean &quot;Unfold y&quot; where X.t is later on instantiated with y? I choose the first interpretation (i.e. an evaluable reference is never expanded).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-reduction_tactic_error" class="anchored"><a href="#type-reduction_tactic_error" class="anchor"></a><code><span><span class="keyword">type</span> reduction_tactic_error</span><span> = </span></code><table><tr id="type-reduction_tactic_error.InvalidAbstraction" class="anchored"><td class="def variant constructor"><a href="#type-reduction_tactic_error.InvalidAbstraction" class="anchor"></a><code><span>| </span><span><span class="constructor">InvalidAbstraction</span> <span class="keyword">of</span> <a href="../Environ/index.html#type-env">Environ.env</a> * <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../EConstr/index.html#type-constr">EConstr.constr</a> * <a href="../Environ/index.html#type-env">Environ.env</a> * <a href="../Type_errors/index.html#type-type_error">Type_errors.type_error</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec exception" id="exception-ReductionTacticError" class="anchored"><a href="#exception-ReductionTacticError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">ReductionTacticError</span> <span class="keyword">of</span> <a href="#type-reduction_tactic_error">reduction_tactic_error</a></span></code></div></div><h6 id="reduction-functions-associated-to-tactics."><a href="#reduction-functions-associated-to-tactics." class="anchor"></a>Reduction functions associated to tactics.</h6><p>Evaluable global reference</p><div class="odoc-spec"><div class="spec value" id="val-is_evaluable" class="anchored"><a href="#val-is_evaluable" class="anchor"></a><code><span><span class="keyword">val</span> is_evaluable : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evaluable/index.html#type-t">Evaluable.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-NotEvaluableRef" class="anchored"><a href="#exception-NotEvaluableRef" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">NotEvaluableRef</span> <span class="keyword">of</span> <a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-error_not_evaluable" class="anchored"><a href="#val-error_not_evaluable" class="anchor"></a><code><span><span class="keyword">val</span> error_not_evaluable : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evaluable_of_global_reference" class="anchored"><a href="#val-evaluable_of_global_reference" class="anchor"></a><code><span><span class="keyword">val</span> evaluable_of_global_reference : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Evaluable/index.html#type-t">Evaluable.t</a></span></code></div><div class="spec-doc"><p>Fails on opaque constants and variables (both those without bodies and those marked Opaque in the conversion oracle).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-soft_evaluable_of_global_reference" class="anchored"><a href="#val-soft_evaluable_of_global_reference" class="anchor"></a><code><span><span class="keyword">val</span> soft_evaluable_of_global_reference : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Evaluable/index.html#type-t">Evaluable.t</a></span></code></div><div class="spec-doc"><p>Succeeds for any constant or variable even if marked opaque or otherwise not evaluable.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-global_of_evaluable_reference" class="anchored"><a href="#val-global_of_evaluable_reference" class="anchor"></a><code><span><span class="keyword">val</span> global_of_evaluable_reference : <span><a href="../Evaluable/index.html#type-t">Evaluable.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-red_product" class="anchored"><a href="#val-red_product" class="anchor"></a><code><span><span class="keyword">val</span> red_product : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> option</span></span></code></div><div class="spec-doc"><p>Red (returns None if nothing reducible)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-simpl" class="anchored"><a href="#val-simpl" class="anchor"></a><code><span><span class="keyword">val</span> simpl : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>Simpl</p></div></div><div class="odoc-spec"><div class="spec value" id="val-whd_simpl" class="anchored"><a href="#val-whd_simpl" class="anchor"></a><code><span><span class="keyword">val</span> whd_simpl : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>Simpl only at the head</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hnf_constr" class="anchored"><a href="#val-hnf_constr" class="anchor"></a><code><span><span class="keyword">val</span> hnf_constr : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>Hnf: like whd_simpl but force delta-reduction of constants that do not immediately hide a non reducible fix or cofix</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hnf_constr0" class="anchored"><a href="#val-hnf_constr0" class="anchor"></a><code><span><span class="keyword">val</span> hnf_constr0 : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>Variant of the above that does not perform nf-βι</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unfoldn" class="anchored"><a href="#val-unfoldn" class="anchor"></a><code><span><span class="keyword">val</span> unfoldn : <span><span><span>(<a href="../Locus/index.html#type-occurrences">Locus.occurrences</a> * <a href="../Evaluable/index.html#type-t">Evaluable.t</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>Unfold</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_commands" class="anchored"><a href="#val-fold_commands" class="anchor"></a><code><span><span class="keyword">val</span> fold_commands : <span><span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>Fold</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pattern_occs" class="anchored"><a href="#val-pattern_occs" class="anchor"></a><code><span><span class="keyword">val</span> pattern_occs : <span><span><span>(<a href="../Locus/index.html#type-occurrences">Locus.occurrences</a> * <a href="../EConstr/index.html#type-constr">EConstr.constr</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-e_reduction_function">Reductionops.e_reduction_function</a></span></code></div><div class="spec-doc"><p>Pattern</p></div></div><p>Rem: Lazy strategies are defined in Reduction</p><div class="odoc-spec"><div class="spec value" id="val-cbv_norm_flags" class="anchored"><a href="#val-cbv_norm_flags" class="anchor"></a><code><span><span class="keyword">val</span> cbv_norm_flags : <span><a href="../RedFlags/index.html#type-reds">RedFlags.reds</a> <span class="arrow">&#45;&gt;</span></span> <span>strong:bool <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>Call by value strategy (uses Closures)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cbv_beta" class="anchored"><a href="#val-cbv_beta" class="anchor"></a><code><span><span class="keyword">val</span> cbv_beta : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cbv_betaiota" class="anchored"><a href="#val-cbv_betaiota" class="anchor"></a><code><span><span class="keyword">val</span> cbv_betaiota : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cbv_betadeltaiota" class="anchored"><a href="#val-cbv_betadeltaiota" class="anchor"></a><code><span><span class="keyword">val</span> cbv_betadeltaiota : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-whd_compute" class="anchored"><a href="#val-whd_compute" class="anchor"></a><code><span><span class="keyword">val</span> whd_compute : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compute" class="anchored"><a href="#val-compute" class="anchor"></a><code><span><span class="keyword">val</span> compute : <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div><div class="spec-doc"><p>= <code>cbv_betadeltaiota</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-reduce_to_atomic_ind" class="anchored"><a href="#val-reduce_to_atomic_ind" class="anchor"></a><code><span><span class="keyword">val</span> reduce_to_atomic_ind : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-types">EConstr.types</a> <span class="arrow">&#45;&gt;</span></span> <span>(<a href="../Names/index.html#type-inductive">Names.inductive</a> * <a href="../EConstr/EInstance/index.html#type-t">EConstr.EInstance.t</a>)</span> * <a href="../EConstr/index.html#type-types">EConstr.types</a></span></code></div><div class="spec-doc"><p><code>reduce_to_atomic_ind env sigma t</code> puts <code>t</code> in the form <code>t'=(I args)</code> with <code>I</code> an inductive definition; returns <code>I</code> and <code>t'</code> or fails with a user error</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reduce_to_quantified_ind" class="anchored"><a href="#val-reduce_to_quantified_ind" class="anchor"></a><code><span><span class="keyword">val</span> reduce_to_quantified_ind : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-types">EConstr.types</a> <span class="arrow">&#45;&gt;</span></span> <span>(<a href="../Names/index.html#type-inductive">Names.inductive</a> * <a href="../EConstr/EInstance/index.html#type-t">EConstr.EInstance.t</a>)</span> * <a href="../EConstr/index.html#type-types">EConstr.types</a></span></code></div><div class="spec-doc"><p><code>reduce_to_quantified_ind env sigma t</code> puts <code>t</code> in the form <code>t'=(x1:A1)..(xn:An)(I args)</code> with <code>I</code> an inductive definition; returns <code>I</code> and <code>t'</code> or fails with a user error</p></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_to_quantified_ind" class="anchored"><a href="#val-eval_to_quantified_ind" class="anchor"></a><code><span><span class="keyword">val</span> eval_to_quantified_ind : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-types">EConstr.types</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/index.html#type-inductive">Names.inductive</a> * <a href="../EConstr/EInstance/index.html#type-t">EConstr.EInstance.t</a></span></code></div><div class="spec-doc"><p>Same as <a href="#val-reduce_to_quantified_ind"><code>reduce_to_quantified_ind</code></a> but more efficient because it does not return the normalized type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reduce_to_quantified_ref" class="anchored"><a href="#val-reduce_to_quantified_ref" class="anchor"></a><code><span><span class="keyword">val</span> reduce_to_quantified_ref : <span>?allow_failure:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-types">EConstr.types</a> <span class="arrow">&#45;&gt;</span></span> <a href="../EConstr/index.html#type-types">EConstr.types</a></span></code></div><div class="spec-doc"><p><code>reduce_to_quantified_ref env sigma ref t</code> try to put <code>t</code> in the form <code>t'=(x1:A1)..(xn:An)(ref args)</code>. When this is not possible, if <code>allow_failure</code> is specified, <code>t</code> is unfolded until the point where this impossibility is plainly visible. Otherwise, it fails with user error.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reduce_to_atomic_ref" class="anchored"><a href="#val-reduce_to_atomic_ref" class="anchor"></a><code><span><span class="keyword">val</span> reduce_to_atomic_ref : <span>?allow_failure:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-types">EConstr.types</a> <span class="arrow">&#45;&gt;</span></span> <a href="../EConstr/index.html#type-types">EConstr.types</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-find_hnf_rectype" class="anchored"><a href="#val-find_hnf_rectype" class="anchor"></a><code><span><span class="keyword">val</span> find_hnf_rectype : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../EConstr/index.html#type-types">EConstr.types</a> <span class="arrow">&#45;&gt;</span></span> <span>(<a href="../Names/index.html#type-inductive">Names.inductive</a> * <a href="../EConstr/EInstance/index.html#type-t">EConstr.EInstance.t</a>)</span> * <span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-contextually" class="anchored"><a href="#val-contextually" class="anchor"></a><code><span><span class="keyword">val</span> contextually : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Locus/index.html#type-occurrences">Locus.occurrences</a> * <a href="../Pattern/index.html#type-constr_pattern">Pattern.constr_pattern</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Ltac_pretype/index.html#type-patvar_map">Ltac_pretype.patvar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-reduction_function">Reductionops.reduction_function</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e_contextually" class="anchored"><a href="#val-e_contextually" class="anchor"></a><code><span><span class="keyword">val</span> e_contextually : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Locus/index.html#type-occurrences">Locus.occurrences</a> * <a href="../Pattern/index.html#type-constr_pattern">Pattern.constr_pattern</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Ltac_pretype/index.html#type-patvar_map">Ltac_pretype.patvar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-e_reduction_function">Reductionops.e_reduction_function</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Reductionops/index.html#type-e_reduction_function">Reductionops.e_reduction_function</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_privacy" class="anchored"><a href="#val-check_privacy" class="anchor"></a><code><span><span class="keyword">val</span> check_privacy : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Errors if the inductive is not allowed for pattern-matching. *</p></div></div></div></body></html>