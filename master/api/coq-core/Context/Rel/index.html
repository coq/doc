<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Rel (coq-core.Context.Rel)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">coq-core</a> &#x00BB; <a href="../index.html">Context</a> &#x00BB; Rel</nav><h1>Module <code>Context.Rel</code></h1><p>Representation of contexts that can capture anonymous as well as non-anonymous variables. Individual declarations are then designated by de Bruijn indexes.</p></header><div class="spec module" id="module-Declaration"><a href="#module-Declaration" class="anchor"></a><code><span class="keyword">module</span> <a href="Declaration/index.html">Declaration</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-pt"><a href="#type-pt" class="anchor"></a><code><span class="keyword">type</span> <span>('constr, 'types) pt</span></code><code> = <span><span><span>(<span class="type-var">'constr</span>, <span class="type-var">'types</span>)</span> <a href="Declaration/index.html#type-pt">Declaration.pt</a></span> list</span></code></dt><dd><p>Rel-context is represented as a list of declarations. Inner-most declarations are at the beginning of the list. Outer-most declarations are at the end of the list.</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span></code></dt><dd><p>empty rel-context</p></dd></dl><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="Declaration/index.html#type-pt">Declaration.pt</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span></code></dt><dd><p>Return a new rel-context enriched by with a given inner-most declaration.</p></dd></dl><dl><dt class="spec value" id="val-length"><a href="#val-length" class="anchor"></a><code><span class="keyword">val</span> length : <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Return the number of <em>local declarations</em> in a given rel-context.</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check whether given two rel-contexts are equal.</p></dd></dl><dl><dt class="spec value" id="val-nhyps"><a href="#val-nhyps" class="anchor"></a><code><span class="keyword">val</span> nhyps : <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Return the number of <em>local assumptions</em> in a given rel-context.</p></dd></dl><dl><dt class="spec value" id="val-lookup"><a href="#val-lookup" class="anchor"></a><code><span class="keyword">val</span> lookup : int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="Declaration/index.html#type-pt">Declaration.pt</a></span></code></dt><dd><p>Return a declaration designated by a given de Bruijn index.</p><dl><dt>raises Not_found</dt><dd><p>if the designated de Bruijn index outside the range.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pt">pt</a></span></code></dt><dd><p>Map all terms in a given rel-context.</p></dd></dl><dl><dt class="spec value" id="val-map_with_binders"><a href="#val-map_with_binders" class="anchor"></a><code><span class="keyword">val</span> map_with_binders : <span>(int <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pt">pt</a></span></code></dt><dd><p>Map all terms in a given rel-context taking into account the position of the binder in the context starting at 1.</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Perform a given action on every declaration in a given rel-context.</p></dd></dl><dl><dt class="spec value" id="val-fold_inside"><a href="#val-fold_inside" class="anchor"></a><code><span class="keyword">val</span> fold_inside : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="Declaration/index.html#type-pt">Declaration.pt</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span>init:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Reduce all terms in a given rel-context to a single value. Innermost declarations are processed first.</p></dd></dl><dl><dt class="spec value" id="val-fold_outside"><a href="#val-fold_outside" class="anchor"></a><code><span class="keyword">val</span> fold_outside : <span>(<span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="Declaration/index.html#type-pt">Declaration.pt</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span>init:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Reduce all terms in a given rel-context to a single value. Outermost declarations are processed first.</p></dd></dl><dl><dt class="spec value" id="val-to_tags"><a href="#val-to_tags" class="anchor"></a><code><span class="keyword">val</span> to_tags : <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span>bool list</span></code></dt><dd><p>Map a given rel-context to a list where each <em>local assumption</em> is mapped to <code>true</code> and each <em>local definition</em> is mapped to <code>false</code>. The resulting list is in reverse order compared to the order of declarations in the context.</p></dd></dl><dl><dt class="spec value" id="val-drop_bodies"><a href="#val-drop_bodies" class="anchor"></a><code><span class="keyword">val</span> drop_bodies : <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span></code></dt><dd><p>Turn all <code>LocalDef</code> into <code>LocalAssum</code>, leave <code>LocalAssum</code> unchanged.</p></dd></dl><dl><dt class="spec value" id="val-instance"><a href="#val-instance" class="anchor"></a><code><span class="keyword">val</span> instance : <span>(int <span>&#45;&gt;</span> <span class="type-var">'r</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'r</span> array</span></code></dt><dd><p><code>instance mk n Γ</code> builds an instance <code>args</code> such that <code>Γ,Δ ⊢ args:Γ</code> with n = |Δ| and with the <em>local definitions</em> of <code>Γ</code> skipped in <code>args</code> where <code>mk</code> is used to build the corresponding variables. Example: for <code>x:T, y:=c, z:U</code> and <code>n</code>=2, it gives <code>mk 5, mk 3</code>.</p></dd></dl><dl><dt class="spec value" id="val-instance_list"><a href="#val-instance_list" class="anchor"></a><code><span class="keyword">val</span> instance_list : <span>(int <span>&#45;&gt;</span> <span class="type-var">'r</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'r</span> list</span></code></dt><dd><p><code>instance_list</code> is like <code>instance</code> but returning a list.</p></dd></dl><dl><dt class="spec value" id="val-to_extended_vect"><a href="#val-to_extended_vect" class="anchor"></a><code><span class="keyword">val</span> to_extended_vect : <span>(int <span>&#45;&gt;</span> <span class="type-var">'r</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'r</span> array</span></code></dt><dt class="spec value" id="val-to_extended_list"><a href="#val-to_extended_list" class="anchor"></a><code><span class="keyword">val</span> to_extended_list : <span>(int <span>&#45;&gt;</span> <span class="type-var">'r</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'t</span>)</span> <a href="index.html#type-pt">pt</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'r</span> list</span></code></dt></dl></div></body></html>