<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stm (coq-core.Stm)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Stm</nav><header class="odoc-preamble"><h1>Module <code><span>Stm</span></code></h1><p>state-transaction-machine interface</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-AsyncOpts" class="anchored"><a href="#module-AsyncOpts" class="anchor"></a><code><span><span class="keyword">module</span> <a href="AsyncOpts/index.html">AsyncOpts</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-stm_doc_type" class="anchored"><a href="#type-stm_doc_type" class="anchor"></a><code><span><span class="keyword">type</span> stm_doc_type</span><span> = </span></code><table><tr id="type-stm_doc_type.VoDoc" class="anchored"><td class="def variant constructor"><a href="#type-stm_doc_type.VoDoc" class="anchor"></a><code><span>| </span><span><span class="constructor">VoDoc</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-stm_doc_type.VioDoc" class="anchored"><td class="def variant constructor"><a href="#type-stm_doc_type.VioDoc" class="anchor"></a><code><span>| </span><span><span class="constructor">VioDoc</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-stm_doc_type.Interactive" class="anchored"><td class="def variant constructor"><a href="#type-stm_doc_type.Interactive" class="anchor"></a><code><span>| </span><span><span class="constructor">Interactive</span> <span class="keyword">of</span> <a href="../Coqargs/index.html#type-top">Coqargs.top</a></span></code></td></tr></table></div><div class="spec-doc"><p>The STM document type <code>stm_doc_type</code> determines some properties such as what uncompleted proofs are allowed and what gets recorded to aux files.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-stm_init_options" class="anchored"><a href="#type-stm_init_options" class="anchor"></a><code><span><span class="keyword">type</span> stm_init_options</span><span> = </span><span>{</span></code><table><tr id="type-stm_init_options.doc_type" class="anchored"><td class="def record field"><a href="#type-stm_init_options.doc_type" class="anchor"></a><code><span>doc_type : <a href="#type-stm_doc_type">stm_doc_type</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The STM does set some internal flags differently depending on the specified <code>doc_type</code>. This distinction should disappear at some some point.</p><span class="comment-delim">*)</span></td></tr><tr id="type-stm_init_options.injections" class="anchored"><td class="def record field"><a href="#type-stm_init_options.injections" class="anchor"></a><code><span>injections : <span><a href="../Coqargs/index.html#type-injection_command">Coqargs.injection_command</a> list</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Injects Require and Set/Unset commands before the initial state is ready</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>STM initialization options:</p></div></div><div class="odoc-spec"><div class="spec type" id="type-doc" class="anchored"><a href="#type-doc" class="anchor"></a><code><span><span class="keyword">type</span> doc</span></code></div><div class="spec-doc"><p>The type of a STM document</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init_process" class="anchored"><a href="#val-init_process" class="anchor"></a><code><span><span class="keyword">val</span> init_process : <span><a href="AsyncOpts/index.html#type-stm_opt">AsyncOpts.stm_opt</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>init_process</code> performs some low-level initialization, call early</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init_core" class="anchored"><a href="#val-init_core" class="anchor"></a><code><span><span class="keyword">val</span> init_core : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>init_core</code> snapshorts the initial system state</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new_doc" class="anchored"><a href="#val-new_doc" class="anchor"></a><code><span><span class="keyword">val</span> new_doc : <span><a href="#type-stm_init_options">stm_init_options</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a> * <a href="../Stateid/index.html#type-t">Stateid.t</a></span></code></div><div class="spec-doc"><p><code>new_doc opt</code> Creates a new document with options <code>opt</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_sentence" class="anchored"><a href="#val-parse_sentence" class="anchor"></a><code><span><span class="keyword">val</span> parse_sentence : 
  <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>entry:<span>( <span><span><a href="../Pvernac/index.html#type-proof_mode">Pvernac.proof_mode</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Pcoq/Entry/index.html#type-t">Pcoq.Entry.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Pcoq/Parsable/index.html#type-t">Pcoq.Parsable.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>parse_sentence sid entry pa</code> Reads a sentence from <code>pa</code> with parsing state <code>sid</code> and non terminal <code>entry</code>. <code>entry</code> receives in input the current proof mode. <code>sid</code> should be associated with a valid parsing state (which may not be the case if an error was raised at parsing time).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-add_focus" class="anchored"><a href="#type-add_focus" class="anchor"></a><code><span><span class="keyword">type</span> add_focus</span><span> = </span></code><table><tr id="type-add_focus.NewAddTip" class="anchored"><td class="def variant constructor"><a href="#type-add_focus.NewAddTip" class="anchor"></a><code><span>| </span><span><span class="constructor">NewAddTip</span></span></code></td></tr><tr id="type-add_focus.Unfocus" class="anchored"><td class="def variant constructor"><a href="#type-add_focus.Unfocus" class="anchor"></a><code><span>| </span><span><span class="constructor">Unfocus</span> <span class="keyword">of</span> <a href="../Stateid/index.html#type-t">Stateid.t</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : 
  <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span>ontop:<a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?newtip:<a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vernacexpr/index.html#type-vernac_control">Vernacexpr.vernac_control</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-doc">doc</a> * <a href="../Stateid/index.html#type-t">Stateid.t</a> * <a href="#type-add_focus">add_focus</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_prev_proof" class="anchored"><a href="#val-get_prev_proof" class="anchor"></a><code><span><span class="keyword">val</span> get_prev_proof : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Proof/index.html#type-t">Proof.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_proof" class="anchored"><a href="#val-get_proof" class="anchor"></a><code><span><span class="keyword">val</span> get_proof : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Proof/index.html#type-t">Proof.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-query" class="anchored"><a href="#val-query" class="anchor"></a><code><span><span class="keyword">val</span> query : 
  <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span>at:<a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>route:<a href="../Feedback/index.html#type-route_id">Feedback.route_id</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Pcoq/Parsable/index.html#type-t">Pcoq.Parsable.t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-focus" class="anchored"><a href="#type-focus" class="anchor"></a><code><span><span class="keyword">type</span> focus</span><span> = </span><span>{</span></code><table><tr id="type-focus.start" class="anchored"><td class="def record field"><a href="#type-focus.start" class="anchor"></a><code><span>start : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr><tr id="type-focus.stop" class="anchored"><td class="def record field"><a href="#type-focus.stop" class="anchor"></a><code><span>stop : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr><tr id="type-focus.tip" class="anchored"><td class="def record field"><a href="#type-focus.tip" class="anchor"></a><code><span>tip : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-edit_focus" class="anchored"><a href="#type-edit_focus" class="anchor"></a><code><span><span class="keyword">type</span> edit_focus</span><span> = </span></code><table><tr id="type-edit_focus.NewTip" class="anchored"><td class="def variant constructor"><a href="#type-edit_focus.NewTip" class="anchor"></a><code><span>| </span><span><span class="constructor">NewTip</span></span></code></td></tr><tr id="type-edit_focus.Focus" class="anchored"><td class="def variant constructor"><a href="#type-edit_focus.Focus" class="anchor"></a><code><span>| </span><span><span class="constructor">Focus</span> <span class="keyword">of</span> <a href="#type-focus">focus</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-edit_at" class="anchored"><a href="#val-edit_at" class="anchor"></a><code><span><span class="keyword">val</span> edit_at : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a> * <a href="#type-edit_focus">edit_focus</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-observe" class="anchored"><a href="#val-observe" class="anchor"></a><code><span><span class="keyword">val</span> observe : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-finish" class="anchored"><a href="#val-finish" class="anchor"></a><code><span><span class="keyword">val</span> finish : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a> * <a href="../Vernacstate/index.html#type-t">Vernacstate.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait" class="anchored"><a href="#val-wait" class="anchor"></a><code><span><span class="keyword">val</span> wait : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-stop_worker" class="anchored"><a href="#val-stop_worker" class="anchor"></a><code><span><span class="keyword">val</span> stop_worker : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-join" class="anchored"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a> * <a href="../Vernacstate/index.html#type-t">Vernacstate.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-snapshot_vio" class="anchored"><a href="#val-snapshot_vio" class="anchor"></a><code><span><span class="keyword">val</span> snapshot_vio : 
  <span>create_vos:bool <span class="arrow">&#45;&gt;</span></span>
  <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span>output_native_objects:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-doc">doc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-reset_task_queue" class="anchored"><a href="#val-reset_task_queue" class="anchor"></a><code><span><span class="keyword">val</span> reset_task_queue : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-document" class="anchored"><a href="#type-document" class="anchor"></a><code><span><span class="keyword">type</span> document</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-tasks" class="anchored"><a href="#type-tasks" class="anchor"></a><code><span><span class="keyword">type</span> tasks</span><span> = <span><span>( <span><a href="../Opaqueproof/index.html#type-opaque_handle">Opaqueproof.opaque_handle</a> option</span>, <a href="#type-document">document</a> )</span> <a href="../Library/index.html#type-tasks">Library.tasks</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_task" class="anchored"><a href="#val-check_task" class="anchor"></a><code><span><span class="keyword">val</span> check_task : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-tasks">tasks</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-info_tasks" class="anchored"><a href="#val-info_tasks" class="anchor"></a><code><span><span class="keyword">val</span> info_tasks : <span><a href="#type-tasks">tasks</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * float * int)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-finish_tasks" class="anchored"><a href="#val-finish_tasks" class="anchor"></a><code><span><span class="keyword">val</span> finish_tasks : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Library/index.html#type-seg_univ">Library.seg_univ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Library/index.html#type-seg_proofs">Library.seg_proofs</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-tasks">tasks</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Library/index.html#type-seg_univ">Library.seg_univ</a> * <a href="../Library/index.html#type-seg_proofs">Library.seg_proofs</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_current_state" class="anchored"><a href="#val-get_current_state" class="anchor"></a><code><span><span class="keyword">val</span> get_current_state : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Stateid/index.html#type-t">Stateid.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_ldir" class="anchored"><a href="#val-get_ldir" class="anchor"></a><code><span><span class="keyword">val</span> get_ldir : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_ast" class="anchored"><a href="#val-get_ast" class="anchor"></a><code><span><span class="keyword">val</span> get_ast : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vernacexpr/index.html#type-vernac_control">Vernacexpr.vernac_control</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_compilation_hints" class="anchored"><a href="#val-set_compilation_hints" class="anchor"></a><code><span><span class="keyword">val</span> set_compilation_hints : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_perspective" class="anchored"><a href="#val-set_perspective" class="anchor"></a><code><span><span class="keyword">val</span> set_perspective : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Stateid/index.html#type-t">Stateid.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><p>workers **************************************************************** *</p><div class="odoc-spec"><div class="spec module" id="module-ProofTask" class="anchored"><a href="#module-ProofTask" class="anchor"></a><code><span><span class="keyword">module</span> <a href="ProofTask/index.html">ProofTask</a></span><span> : <a href="../AsyncTaskQueue/module-type-Task/index.html">AsyncTaskQueue.Task</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-QueryTask" class="anchored"><a href="#module-QueryTask" class="anchor"></a><code><span><span class="keyword">module</span> <a href="QueryTask/index.html">QueryTask</a></span><span> : <a href="../AsyncTaskQueue/module-type-Task/index.html">AsyncTaskQueue.Task</a></span></code></div></div><p>document structure customization *************************************** *</p><div class="odoc-spec"><div class="spec module" id="module-DynBlockData" class="anchored"><a href="#module-DynBlockData" class="anchor"></a><code><span><span class="keyword">module</span> <a href="DynBlockData/index.html">DynBlockData</a></span><span> : <a href="../Dyn/module-type-S/index.html">Dyn.S</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-static_block_declaration" class="anchored"><a href="#type-static_block_declaration" class="anchor"></a><code><span><span class="keyword">type</span> static_block_declaration</span><span> = </span><span>{</span></code><table><tr id="type-static_block_declaration.block_start" class="anchored"><td class="def record field"><a href="#type-static_block_declaration.block_start" class="anchor"></a><code><span>block_start : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr><tr id="type-static_block_declaration.block_stop" class="anchored"><td class="def record field"><a href="#type-static_block_declaration.block_stop" class="anchor"></a><code><span>block_stop : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr><tr id="type-static_block_declaration.dynamic_switch" class="anchored"><td class="def record field"><a href="#type-static_block_declaration.dynamic_switch" class="anchor"></a><code><span>dynamic_switch : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr><tr id="type-static_block_declaration.carry_on_data" class="anchored"><td class="def record field"><a href="#type-static_block_declaration.carry_on_data" class="anchor"></a><code><span>carry_on_data : <a href="DynBlockData/index.html#type-t">DynBlockData.t</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-document_node" class="anchored"><a href="#type-document_node" class="anchor"></a><code><span><span class="keyword">type</span> document_node</span><span> = </span><span>{</span></code><table><tr id="type-document_node.indentation" class="anchored"><td class="def record field"><a href="#type-document_node.indentation" class="anchor"></a><code><span>indentation : int;</span></code></td></tr><tr id="type-document_node.ast" class="anchored"><td class="def record field"><a href="#type-document_node.ast" class="anchor"></a><code><span>ast : <a href="../Vernacexpr/index.html#type-vernac_control">Vernacexpr.vernac_control</a>;</span></code></td></tr><tr id="type-document_node.id" class="anchored"><td class="def record field"><a href="#type-document_node.id" class="anchor"></a><code><span>id : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-document_view" class="anchored"><a href="#type-document_view" class="anchor"></a><code><span><span class="keyword">type</span> document_view</span><span> = </span><span>{</span></code><table><tr id="type-document_view.entry_point" class="anchored"><td class="def record field"><a href="#type-document_view.entry_point" class="anchor"></a><code><span>entry_point : <a href="#type-document_node">document_node</a>;</span></code></td></tr><tr id="type-document_view.prev_node" class="anchored"><td class="def record field"><a href="#type-document_view.prev_node" class="anchor"></a><code><span>prev_node : <span><a href="#type-document_node">document_node</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-document_node">document_node</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-static_block_detection" class="anchored"><a href="#type-static_block_detection" class="anchor"></a><code><span><span class="keyword">type</span> static_block_detection</span><span> = <span><a href="#type-document_view">document_view</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-static_block_declaration">static_block_declaration</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-recovery_action" class="anchored"><a href="#type-recovery_action" class="anchor"></a><code><span><span class="keyword">type</span> recovery_action</span><span> = </span><span>{</span></code><table><tr id="type-recovery_action.base_state" class="anchored"><td class="def record field"><a href="#type-recovery_action.base_state" class="anchor"></a><code><span>base_state : <a href="../Stateid/index.html#type-t">Stateid.t</a>;</span></code></td></tr><tr id="type-recovery_action.goals_to_admit" class="anchored"><td class="def record field"><a href="#type-recovery_action.goals_to_admit" class="anchor"></a><code><span>goals_to_admit : <span><a href="../Evar/index.html#type-t">Evar.t</a> list</span>;</span></code></td></tr><tr id="type-recovery_action.recovery_command" class="anchored"><td class="def record field"><a href="#type-recovery_action.recovery_command" class="anchor"></a><code><span>recovery_command : <span><a href="../Vernacexpr/index.html#type-vernac_control">Vernacexpr.vernac_control</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-block_classification" class="anchored"><a href="#type-block_classification" class="anchor"></a><code><span><span class="keyword">type</span> block_classification</span><span> = </span></code><table><tr id="type-block_classification.ValidBlock" class="anchored"><td class="def variant constructor"><a href="#type-block_classification.ValidBlock" class="anchor"></a><code><span>| </span><span><span class="constructor">ValidBlock</span> <span class="keyword">of</span> <a href="#type-recovery_action">recovery_action</a></span></code></td></tr><tr id="type-block_classification.Leaks" class="anchored"><td class="def variant constructor"><a href="#type-block_classification.Leaks" class="anchor"></a><code><span>| </span><span><span class="constructor">Leaks</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-dynamic_block_error_recovery" class="anchored"><a href="#type-dynamic_block_error_recovery" class="anchor"></a><code><span><span class="keyword">type</span> dynamic_block_error_recovery</span><span> =
  <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-static_block_declaration">static_block_declaration</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-block_classification">block_classification</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-register_proof_block_delimiter" class="anchored"><a href="#val-register_proof_block_delimiter" class="anchor"></a><code><span><span class="keyword">val</span> register_proof_block_delimiter : 
  <span><a href="../Vernacextend/index.html#type-proof_block_name">Vernacextend.proof_block_name</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-static_block_detection">static_block_detection</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-dynamic_block_error_recovery">dynamic_block_error_recovery</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><p>customization ********************************************************** *</p><div class="odoc-spec"><div class="spec value" id="val-state_computed_hook" class="anchored"><a href="#val-state_computed_hook" class="anchor"></a><code><span><span class="keyword">val</span> state_computed_hook : 
  <span><span>( <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <span>in_cache:bool <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unreachable_state_hook" class="anchored"><a href="#val-unreachable_state_hook" class="anchor"></a><code><span><span class="keyword">val</span> unreachable_state_hook : 
  <span><span>( <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-state_ready_hook" class="anchored"><a href="#val-state_ready_hook" class="anchor"></a><code><span><span class="keyword">val</span> state_ready_hook : <span><span>( <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-forward_feedback_hook" class="anchored"><a href="#val-forward_feedback_hook" class="anchor"></a><code><span><span class="keyword">val</span> forward_feedback_hook : <span><span>( <span><a href="../Feedback/index.html#type-feedback">Feedback.feedback</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-document_add_hook" class="anchored"><a href="#val-document_add_hook" class="anchor"></a><code><span><span class="keyword">val</span> document_add_hook : 
  <span><span>( <span><a href="../Vernacexpr/index.html#type-vernac_control">Vernacexpr.vernac_control</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>User adds a sentence to the document (after parsing)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-document_edit_hook" class="anchored"><a href="#val-document_edit_hook" class="anchor"></a><code><span><span class="keyword">val</span> document_edit_hook : <span><span>( <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>User edits a sentence in the document</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sentence_exec_hook" class="anchored"><a href="#val-sentence_exec_hook" class="anchor"></a><code><span><span class="keyword">val</span> sentence_exec_hook : <span><span>( <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>User requests evaluation of a sentence</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_doc" class="anchored"><a href="#val-get_doc" class="anchor"></a><code><span><span class="keyword">val</span> get_doc : <span><a href="../Feedback/index.html#type-doc_id">Feedback.doc_id</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-state" class="anchored"><a href="#type-state" class="anchor"></a><code><span><span class="keyword">type</span> state</span><span> = </span></code><table><tr id="type-state.Valid" class="anchored"><td class="def variant constructor"><a href="#type-state.Valid" class="anchor"></a><code><span>| </span><span><span class="constructor">Valid</span> <span class="keyword">of</span> <span><a href="../Vernacstate/index.html#type-t">Vernacstate.t</a> option</span></span></code></td></tr><tr id="type-state.Expired" class="anchored"><td class="def variant constructor"><a href="#type-state.Expired" class="anchor"></a><code><span>| </span><span><span class="constructor">Expired</span></span></code></td></tr><tr id="type-state.Error" class="anchored"><td class="def variant constructor"><a href="#type-state.Error" class="anchor"></a><code><span>| </span><span><span class="constructor">Error</span> <span class="keyword">of</span> exn</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-state_of_id" class="anchored"><a href="#val-state_of_id" class="anchor"></a><code><span><span class="keyword">val</span> state_of_id : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stateid/index.html#type-t">Stateid.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-state">state</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-current_proof_depth" class="anchored"><a href="#val-current_proof_depth" class="anchor"></a><code><span><span class="keyword">val</span> current_proof_depth : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_all_proof_names" class="anchored"><a href="#val-get_all_proof_names" class="anchor"></a><code><span><span class="keyword">val</span> get_all_proof_names : <span>doc:<a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-stm_debug" class="anchored"><a href="#val-stm_debug" class="anchor"></a><code><span><span class="keyword">val</span> stm_debug : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Enable STM debugging</p></div></div><div class="odoc-spec"><div class="spec value" id="val-backup" class="anchored"><a href="#val-backup" class="anchor"></a><code><span><span class="keyword">val</span> backup : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-document">document</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-restore" class="anchored"><a href="#val-restore" class="anchor"></a><code><span><span class="keyword">val</span> restore : <span><a href="#type-document">document</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>