<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Coqtop (coq-core.Coqtop)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">coq-core</a> &#x00BB; Coqtop</nav><header class="odoc-preamble"><h1>Module <code><span>Coqtop</span></code></h1><p>Definition of custom toplevels. <code>init_extra</code> is used to do custom initialization <code>run</code> launches a custom toplevel.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-custom_toplevel" class="anchored"><a href="#type-custom_toplevel" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) custom_toplevel</span></span><span> = </span><span>{</span></code><table><tr id="type-custom_toplevel.parse_extra" class="anchored"><td class="def record field"><a href="#type-custom_toplevel.parse_extra" class="anchor"></a><code><span>parse_extra : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> * <span>string list</span>;</span></code></td></tr><tr id="type-custom_toplevel.usage" class="anchored"><td class="def record field"><a href="#type-custom_toplevel.usage" class="anchor"></a><code><span>usage : <a href="../Boot/Usage/index.html#type-specific_usage">Boot.Usage.specific_usage</a>;</span></code></td></tr><tr id="type-custom_toplevel.init_extra" class="anchored"><td class="def record field"><a href="#type-custom_toplevel.init_extra" class="anchor"></a><code><span>init_extra : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Coqargs/index.html#type-injection_command">Coqargs.injection_command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>opts:<a href="../Coqargs/index.html#type-t">Coqargs.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>;</span></code></td></tr><tr id="type-custom_toplevel.initial_args" class="anchored"><td class="def record field"><a href="#type-custom_toplevel.initial_args" class="anchor"></a><code><span>initial_args : <a href="../Coqargs/index.html#type-t">Coqargs.t</a>;</span></code></td></tr><tr id="type-custom_toplevel.run" class="anchored"><td class="def record field"><a href="#type-custom_toplevel.run" class="anchor"></a><code><span>run : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>opts:<a href="../Coqargs/index.html#type-t">Coqargs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> unit;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-start_coq" class="anchored"><a href="#val-start_coq" class="anchor"></a><code><span><span class="keyword">val</span> start_coq : <span><span><span>(<span class="type-var">'a</span> * <a href="../Stm/AsyncOpts/index.html#type-stm_opt">Stm.AsyncOpts.stm_opt</a>, <span class="type-var">'b</span>)</span> <a href="#type-custom_toplevel">custom_toplevel</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>The generic Coq main module. <code>start custom</code> will parse the command line, print the banner, initialize the load path, load the input state, load the files given on the command line, load the resource file, produce the output state if any, and finally will launch <code>custom.run</code>.</p></div></div><p>Prepare state for interactive loop</p><div class="odoc-spec"><div class="spec value" id="val-init_toploop" class="anchored"><a href="#val-init_toploop" class="anchor"></a><code><span><span class="keyword">val</span> init_toploop : <span><a href="../Coqargs/index.html#type-t">Coqargs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stm/AsyncOpts/index.html#type-stm_opt">Stm.AsyncOpts.stm_opt</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Coqargs/index.html#type-injection_command">Coqargs.injection_command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Vernac/State/index.html#type-t">Vernac.State.t</a></span></code></div></div><p>The specific characterization of the coqtop_toplevel</p><div class="odoc-spec"><div class="spec type" id="type-query" class="anchored"><a href="#type-query" class="anchor"></a><code><span><span class="keyword">type</span> query</span><span> = </span></code><table><tr id="type-query.PrintTags" class="anchored"><td class="def variant constructor"><a href="#type-query.PrintTags" class="anchor"></a><code><span>| </span><span><span class="constructor">PrintTags</span></span></code></td></tr><tr id="type-query.PrintModUid" class="anchored"><td class="def variant constructor"><a href="#type-query.PrintModUid" class="anchor"></a><code><span>| </span><span><span class="constructor">PrintModUid</span> <span class="keyword">of</span> <span>string list</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-run_mode" class="anchored"><a href="#type-run_mode" class="anchor"></a><code><span><span class="keyword">type</span> run_mode</span><span> = </span></code><table><tr id="type-run_mode.Interactive" class="anchored"><td class="def variant constructor"><a href="#type-run_mode.Interactive" class="anchor"></a><code><span>| </span><span><span class="constructor">Interactive</span></span></code></td></tr><tr id="type-run_mode.Batch" class="anchored"><td class="def variant constructor"><a href="#type-run_mode.Batch" class="anchor"></a><code><span>| </span><span><span class="constructor">Batch</span></span></code></td></tr><tr id="type-run_mode.Query" class="anchored"><td class="def variant constructor"><a href="#type-run_mode.Query" class="anchor"></a><code><span>| </span><span><span class="constructor">Query</span> <span class="keyword">of</span> <a href="#type-query">query</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-toplevel_options" class="anchored"><a href="#type-toplevel_options" class="anchor"></a><code><span><span class="keyword">type</span> toplevel_options</span><span> = </span><span>{</span></code><table><tr id="type-toplevel_options.run_mode" class="anchored"><td class="def record field"><a href="#type-toplevel_options.run_mode" class="anchor"></a><code><span>run_mode : <a href="#type-run_mode">run_mode</a>;</span></code></td></tr><tr id="type-toplevel_options.color_mode" class="anchored"><td class="def record field"><a href="#type-toplevel_options.color_mode" class="anchor"></a><code><span>color_mode : <a href="../Colors/index.html#type-color">Colors.color</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-coqtop_toplevel" class="anchored"><a href="#val-coqtop_toplevel" class="anchor"></a><code><span><span class="keyword">val</span> coqtop_toplevel : <span><span>(<a href="#type-toplevel_options">toplevel_options</a> * <a href="../Stm/AsyncOpts/index.html#type-stm_opt">Stm.AsyncOpts.stm_opt</a>, <a href="../Vernac/State/index.html#type-t">Vernac.State.t</a>)</span> <a href="#type-custom_toplevel">custom_toplevel</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ltac_debug_answer" class="anchored"><a href="#val-ltac_debug_answer" class="anchor"></a><code><span><span class="keyword">val</span> ltac_debug_answer : <span><a href="../DebugHook/Answer/index.html#type-t">DebugHook.Answer.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ltac_debug_parse" class="anchored"><a href="#val-ltac_debug_parse" class="anchor"></a><code><span><span class="keyword">val</span> ltac_debug_parse : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../DebugHook/Action/index.html#type-t">DebugHook.Action.t</a></span></code></div></div></div></body></html>