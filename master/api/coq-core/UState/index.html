<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>UState (coq-core.UState)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">coq-core</a> &#x00BB; UState</nav><header class="odoc-preamble"><h1>Module <code><span>UState</span></code></h1><p>This file defines universe unification states which are part of evarmaps. Most of the API below is reexported in <a href="../Evd/index.html"><code>Evd</code></a>. Consider using higher-level primitives when needed.</p></header><nav class="odoc-toc"><ul><li><a href="#constructors">Constructors</a></li><li><a href="#projections-and-other-destructors">Projections and other destructors</a></li><li><a href="#constraints-handling">Constraints handling</a></li><li><a href="#names">Names</a></li><li><a href="#unification">Unification</a></li><li><a href="#todo:-document-me">TODO: Document me</a></li><li><a href="#pretty-printing">Pretty-printing</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-universes_entry" class="anchored"><a href="#type-universes_entry" class="anchor"></a><code><span><span class="keyword">type</span> universes_entry</span><span> = </span></code><table><tr id="type-universes_entry.Monomorphic_entry" class="anchored"><td class="def variant constructor"><a href="#type-universes_entry.Monomorphic_entry" class="anchor"></a><code><span>| </span><span><span class="constructor">Monomorphic_entry</span> <span class="keyword">of</span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span></code></td></tr><tr id="type-universes_entry.Polymorphic_entry" class="anchored"><td class="def variant constructor"><a href="#type-universes_entry.Polymorphic_entry" class="anchor"></a><code><span>| </span><span><span class="constructor">Polymorphic_entry</span> <span class="keyword">of</span> <a href="../UVars/UContext/index.html#type-t">UVars.UContext.t</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec exception" id="exception-UniversesDiffer" class="anchored"><a href="#exception-UniversesDiffer" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">UniversesDiffer</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Type of universe unification states. They allow the incremental building of universe constraints during an interactive proof.</p></div></div><h6 id="constructors"><a href="#constructors" class="anchor"></a>Constructors</h6><p>Different ways to create a new universe state</p><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>lbound:<a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UGraph/index.html#type-t">UGraph.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_with_initial_binders" class="anchored"><a href="#val-make_with_initial_binders" class="anchor"></a><code><span><span class="keyword">val</span> make_with_initial_binders : <span>lbound:<a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UGraph/index.html#type-t">UGraph.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/index.html#type-lident">Names.lident</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-from_env" class="anchored"><a href="#val-from_env" class="anchor"></a><code><span><span class="keyword">val</span> from_env : <span>?binders:<span><a href="../Names/index.html#type-lident">Names.lident</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Main entry point at the beginning of a declaration declaring the binding names as rigid universes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_names" class="anchored"><a href="#val-of_names" class="anchor"></a><code><span><span class="keyword">val</span> of_names : <span><span>(<a href="../UnivNames/index.html#type-universe_binders">UnivNames.universe_binders</a> * <a href="../UnivNames/index.html#type-rev_binders">UnivNames.rev_binders</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Main entry point when only names matter, e.g. for printing.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_context_set" class="anchored"><a href="#val-of_context_set" class="anchor"></a><code><span><span class="keyword">val</span> of_context_set : <span><a href="../UnivGen/index.html#type-sort_context_set">UnivGen.sort_context_set</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Main entry point when starting from the instance of a global reference, e.g. when building a scheme.</p></div></div><p>Misc</p><div class="odoc-spec"><div class="spec value" id="val-is_empty" class="anchored"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-union" class="anchored"><a href="#val-union" class="anchor"></a><code><span><span class="keyword">val</span> union : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><h6 id="projections-and-other-destructors"><a href="#projections-and-other-destructors" class="anchor"></a>Projections and other destructors</h6><div class="odoc-spec"><div class="spec value" id="val-context_set" class="anchored"><a href="#val-context_set" class="anchor"></a><code><span><span class="keyword">val</span> context_set : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span></code></div><div class="spec-doc"><p>The local context of the state, i.e. a set of bound variables together with their associated constraints.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sort_context_set" class="anchored"><a href="#val-sort_context_set" class="anchor"></a><code><span><span class="keyword">val</span> sort_context_set : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UnivGen/index.html#type-sort_context_set">UnivGen.sort_context_set</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-universe_opt_subst" class="anchored"><a href="#type-universe_opt_subst" class="anchor"></a><code><span><span class="keyword">type</span> universe_opt_subst</span><span> = <a href="../UnivFlex/index.html#type-t">UnivFlex.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-subst" class="anchored"><a href="#val-subst" class="anchor"></a><code><span><span class="keyword">val</span> subst : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UnivFlex/index.html#type-t">UnivFlex.t</a></span></code></div><div class="spec-doc"><p>The local universes that are unification variables</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_universes" class="anchored"><a href="#val-nf_universes" class="anchor"></a><code><span><span class="keyword">val</span> nf_universes : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-t">Constr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-t">Constr.t</a></span></code></div><div class="spec-doc"><p>Apply the local substitution <code>subst</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-ugraph" class="anchored"><a href="#val-ugraph" class="anchor"></a><code><span><span class="keyword">val</span> ugraph : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UGraph/index.html#type-t">UGraph.t</a></span></code></div><div class="spec-doc"><p>The current graph extended with the local constraints</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_algebraic" class="anchored"><a href="#val-is_algebraic" class="anchor"></a><code><span><span class="keyword">val</span> is_algebraic : <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Can this universe be instantiated with an algebraic universe (ie it appears in inferred types only).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-constraints" class="anchored"><a href="#val-constraints" class="anchor"></a><code><span><span class="keyword">val</span> constraints : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a></span></code></div><div class="spec-doc"><p>Shorthand for <a href="#val-context_set"><code>context_set</code></a> composed with <code>ContextSet</code>.constraints.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-context" class="anchored"><a href="#val-context" class="anchor"></a><code><span><span class="keyword">val</span> context : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UVars/UContext/index.html#type-t">UVars.UContext.t</a></span></code></div><div class="spec-doc"><p>Shorthand for <a href="#val-context_set"><code>context_set</code></a> with <code>Context_set</code>.to_context.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-named_universes_entry" class="anchored"><a href="#type-named_universes_entry" class="anchor"></a><code><span><span class="keyword">type</span> named_universes_entry</span><span> = <a href="#type-universes_entry">universes_entry</a> * <a href="../UnivNames/index.html#type-universe_binders">UnivNames.universe_binders</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_entry" class="anchored"><a href="#val-univ_entry" class="anchor"></a><code><span><span class="keyword">val</span> univ_entry : <span>poly:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_universes_entry">named_universes_entry</a></span></code></div><div class="spec-doc"><p>Pick from <a href="#val-context"><code>context</code></a> or <a href="#val-context_set"><code>context_set</code></a> based on <code>poly</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_binders" class="anchored"><a href="#val-universe_binders" class="anchor"></a><code><span><span class="keyword">val</span> universe_binders : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UnivNames/index.html#type-universe_binders">UnivNames.universe_binders</a></span></code></div><div class="spec-doc"><p>Return local names of universes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_qvar" class="anchored"><a href="#val-nf_qvar" class="anchor"></a><code><span><span class="keyword">val</span> nf_qvar : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/QVar/index.html#type-t">Sorts.QVar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Sorts/Quality/index.html#type-t">Sorts.Quality.t</a></span></code></div><div class="spec-doc"><p>Returns the normal form of the sort variable.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_quality" class="anchored"><a href="#val-nf_quality" class="anchor"></a><code><span><span class="keyword">val</span> nf_quality : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/Quality/index.html#type-t">Sorts.Quality.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Sorts/Quality/index.html#type-t">Sorts.Quality.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_instance" class="anchored"><a href="#val-nf_instance" class="anchor"></a><code><span><span class="keyword">val</span> nf_instance : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_level" class="anchored"><a href="#val-nf_level" class="anchor"></a><code><span><span class="keyword">val</span> nf_level : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/Level/index.html#type-t">Univ.Level.t</a></span></code></div><div class="spec-doc"><p>Must not be allowed to be algebraic</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_universe" class="anchored"><a href="#val-nf_universe" class="anchor"></a><code><span><span class="keyword">val</span> nf_universe : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Universe/index.html#type-t">Univ.Universe.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/Universe/index.html#type-t">Univ.Universe.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_sort" class="anchored"><a href="#val-nf_sort" class="anchor"></a><code><span><span class="keyword">val</span> nf_sort : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-t">Sorts.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Sorts/index.html#type-t">Sorts.t</a></span></code></div><div class="spec-doc"><p>Returns the normal form of the sort.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_relevance" class="anchored"><a href="#val-nf_relevance" class="anchor"></a><code><span><span class="keyword">val</span> nf_relevance : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a></span></code></div><div class="spec-doc"><p>Returns the normal form of the relevance.</p></div></div><h6 id="constraints-handling"><a href="#constraints-handling" class="anchor"></a>Constraints handling</h6><div class="odoc-spec"><div class="spec value" id="val-add_constraints" class="anchored"><a href="#val-add_constraints" class="anchor"></a><code><span><span class="keyword">val</span> add_constraints : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">UniversesDiffer</span> <p>when universes differ</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-add_universe_constraints" class="anchored"><a href="#val-add_universe_constraints" class="anchor"></a><code><span><span class="keyword">val</span> add_universe_constraints : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UnivProblem/Set/index.html#type-t">UnivProblem.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">UniversesDiffer</span> <p>when universes differ</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-check_qconstraints" class="anchored"><a href="#val-check_qconstraints" class="anchor"></a><code><span><span class="keyword">val</span> check_qconstraints : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/QConstraints/index.html#type-t">Sorts.QConstraints.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_universe_constraints" class="anchored"><a href="#val-check_universe_constraints" class="anchor"></a><code><span><span class="keyword">val</span> check_universe_constraints : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UnivProblem/Set/index.html#type-t">UnivProblem.Set.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_quconstraints" class="anchored"><a href="#val-add_quconstraints" class="anchor"></a><code><span><span class="keyword">val</span> add_quconstraints : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/QUConstraints/index.html#type-t">Sorts.QUConstraints.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><h6 id="names"><a href="#names" class="anchor"></a>Names</h6><div class="odoc-spec"><div class="spec value" id="val-quality_of_name" class="anchored"><a href="#val-quality_of_name" class="anchor"></a><code><span><span class="keyword">val</span> quality_of_name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Sorts/QVar/index.html#type-t">Sorts.QVar.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_of_name" class="anchored"><a href="#val-universe_of_name" class="anchor"></a><code><span><span class="keyword">val</span> universe_of_name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/Level/index.html#type-t">Univ.Level.t</a></span></code></div><div class="spec-doc"><p>Retrieve the universe associated to the name.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-name_level" class="anchored"><a href="#val-name_level" class="anchor"></a><code><span><span class="keyword">val</span> name_level : <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Gives a name to the level (making it a binder). Asserts the name is not already used by a level</p></div></div><h6 id="unification"><a href="#unification" class="anchor"></a>Unification</h6><div class="odoc-spec"><div class="spec value" id="val-restrict_universe_context" class="anchored"><a href="#val-restrict_universe_context" class="anchor"></a><code><span><span class="keyword">val</span> restrict_universe_context : <span>?lbound:<a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/Set/index.html#type-t">Univ.Level.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span></code></div><div class="spec-doc"><p><code>restrict_universe_context lbound (univs,csts) keep</code> restricts <code>univs</code> to the universes in <code>keep</code>. The constraints <code>csts</code> are adjusted so that transitive constraints between remaining universes (those in <code>keep</code> and those not in <code>univs</code>) are preserved.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-restrict" class="anchored"><a href="#val-restrict" class="anchor"></a><code><span><span class="keyword">val</span> restrict : <span>?lbound:<a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/Set/index.html#type-t">Univ.Level.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>restrict uctx ctx</code> restricts the local universes of <code>uctx</code> to <code>ctx</code> extended by local named universes and side effect universes (from <code>demote_seff_univs</code>). Transitive constraints between retained universes are preserved.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-restrict_even_binders" class="anchored"><a href="#val-restrict_even_binders" class="anchor"></a><code><span><span class="keyword">val</span> restrict_even_binders : <span>?lbound:<a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/Set/index.html#type-t">Univ.Level.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>restrict_even_binders uctx ctx</code> restricts the local universes of <code>uctx</code> to <code>ctx</code> extended by side effect universes (from <code>demote_seff_univs</code>). Transitive constraints between retained universes are preserved.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-rigid" class="anchored"><a href="#type-rigid" class="anchor"></a><code><span><span class="keyword">type</span> rigid</span><span> = </span></code><table><tr id="type-rigid.UnivRigid" class="anchored"><td class="def variant constructor"><a href="#type-rigid.UnivRigid" class="anchor"></a><code><span>| </span><span><span class="constructor">UnivRigid</span></span></code></td></tr><tr id="type-rigid.UnivFlexible" class="anchored"><td class="def variant constructor"><a href="#type-rigid.UnivFlexible" class="anchor"></a><code><span>| </span><span><span class="constructor">UnivFlexible</span> <span class="keyword">of</span> bool</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Is substitution by an algebraic ok?</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_rigid" class="anchored"><a href="#val-univ_rigid" class="anchor"></a><code><span><span class="keyword">val</span> univ_rigid : <a href="#type-rigid">rigid</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_flexible" class="anchored"><a href="#val-univ_flexible" class="anchor"></a><code><span><span class="keyword">val</span> univ_flexible : <a href="#type-rigid">rigid</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_flexible_alg" class="anchored"><a href="#val-univ_flexible_alg" class="anchor"></a><code><span><span class="keyword">val</span> univ_flexible_alg : <a href="#type-rigid">rigid</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-merge" class="anchored"><a href="#val-merge" class="anchor"></a><code><span><span class="keyword">val</span> merge : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>sideff:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-merge_sort_variables" class="anchored"><a href="#val-merge_sort_variables" class="anchor"></a><code><span><span class="keyword">val</span> merge_sort_variables : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>sideff:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/QVar/Set/index.html#type-t">Sorts.QVar.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-merge_sort_context" class="anchored"><a href="#val-merge_sort_context" class="anchor"></a><code><span><span class="keyword">val</span> merge_sort_context : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>sideff:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UnivGen/index.html#type-sort_context_set">UnivGen.sort_context_set</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-demote_global_univs" class="anchored"><a href="#val-demote_global_univs" class="anchor"></a><code><span><span class="keyword">val</span> demote_global_univs : <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>After declaring global universes, call this if you want to keep using the UState.</p><p>Removes from the uctx_local part of the UState the universes that are present in the input constraint set (supposedly the global ones), and adds any new universes and constraints to the UGraph part of the UState.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-demote_global_univ_entry" class="anchored"><a href="#val-demote_global_univ_entry" class="anchor"></a><code><span><span class="keyword">val</span> demote_global_univ_entry : <span><a href="#type-universes_entry">universes_entry</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>After declaring a global, call this with its universe entry if you want to keep using the ustate instead of restarting it with <code>from_env (Global.env())</code> or using the slow <code>update_sigma_univs _ (Environ.universes (Global/env()))</code>.</p><p>Equivalently:</p><ul><li>In the monomorphic case, call <code>demote_global_univs</code> on the contextset.</li><li>In the polymorphic case, do nothing.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-emit_side_effects" class="anchored"><a href="#val-emit_side_effects" class="anchor"></a><code><span><span class="keyword">val</span> emit_side_effects : <span><a href="../Safe_typing/index.html#type-private_constants">Safe_typing.private_constants</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Calls <code>demote_global_univs</code> for the private constant universes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new_sort_variable" class="anchored"><a href="#val-new_sort_variable" class="anchor"></a><code><span><span class="keyword">val</span> new_sort_variable : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a> * <a href="../Sorts/QVar/index.html#type-t">Sorts.QVar.t</a></span></code></div><div class="spec-doc"><p>Declare a new local sort.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new_univ_variable" class="anchored"><a href="#val-new_univ_variable" class="anchor"></a><code><span><span class="keyword">val</span> new_univ_variable : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a> * <a href="../Univ/Level/index.html#type-t">Univ.Level.t</a></span></code></div><div class="spec-doc"><p>Declare a new local universe; use rigid if a global or bound universe; use flexible for a universe existential variable; use univ_flexible_alg for a universe existential variable allowed to be instantiated with an algebraic universe</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_forgotten_univ" class="anchored"><a href="#val-add_forgotten_univ" class="anchor"></a><code><span><span class="keyword">val</span> add_forgotten_univ : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Don't use this, it only exists for funind</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_nonalgebraic_variable" class="anchored"><a href="#val-make_nonalgebraic_variable" class="anchor"></a><code><span><span class="keyword">val</span> make_nonalgebraic_variable : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>cf UnivFlex</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_flexible_nonalgebraic" class="anchored"><a href="#val-make_flexible_nonalgebraic" class="anchor"></a><code><span><span class="keyword">val</span> make_flexible_nonalgebraic : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>cf UnivFlex</p></div></div><div class="odoc-spec"><div class="spec value" id="val-normalize_variables" class="anchored"><a href="#val-normalize_variables" class="anchor"></a><code><span><span class="keyword">val</span> normalize_variables : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-constrain_variables" class="anchored"><a href="#val-constrain_variables" class="anchor"></a><code><span><span class="keyword">val</span> constrain_variables : <span><a href="../Univ/Level/Set/index.html#type-t">Univ.Level.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fix_undefined_variables" class="anchored"><a href="#val-fix_undefined_variables" class="anchor"></a><code><span><span class="keyword">val</span> fix_undefined_variables : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>cf UnivFlex</p></div></div><div class="odoc-spec"><div class="spec value" id="val-minimize" class="anchored"><a href="#val-minimize" class="anchor"></a><code><span><span class="keyword">val</span> minimize : <span>?lbound:<a href="../UGraph/Bound/index.html#type-t">UGraph.Bound.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Universe minimization</p></div></div><div class="odoc-spec"><div class="spec value" id="val-collapse_above_prop_sort_variables" class="anchored"><a href="#val-collapse_above_prop_sort_variables" class="anchor"></a><code><span><span class="keyword">val</span> collapse_above_prop_sort_variables : <span>to_prop:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-collapse_sort_variables" class="anchored"><a href="#val-collapse_sort_variables" class="anchor"></a><code><span><span class="keyword">val</span> collapse_sort_variables : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-gen_universe_decl" class="anchored"><a href="#type-gen_universe_decl" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b, 'c) gen_universe_decl</span></span><span> = </span><span>{</span></code><table><tr id="type-gen_universe_decl.univdecl_qualities" class="anchored"><td class="def record field"><a href="#type-gen_universe_decl.univdecl_qualities" class="anchor"></a><code><span>univdecl_qualities : <span class="type-var">'a</span>;</span></code></td></tr><tr id="type-gen_universe_decl.univdecl_extensible_qualities" class="anchored"><td class="def record field"><a href="#type-gen_universe_decl.univdecl_extensible_qualities" class="anchor"></a><code><span>univdecl_extensible_qualities : bool;</span></code></td></tr><tr id="type-gen_universe_decl.univdecl_instance" class="anchored"><td class="def record field"><a href="#type-gen_universe_decl.univdecl_instance" class="anchor"></a><code><span>univdecl_instance : <span class="type-var">'b</span>;</span></code></td></tr><tr id="type-gen_universe_decl.univdecl_extensible_instance" class="anchored"><td class="def record field"><a href="#type-gen_universe_decl.univdecl_extensible_instance" class="anchor"></a><code><span>univdecl_extensible_instance : bool;</span></code></td></tr><tr id="type-gen_universe_decl.univdecl_constraints" class="anchored"><td class="def record field"><a href="#type-gen_universe_decl.univdecl_constraints" class="anchor"></a><code><span>univdecl_constraints : <span class="type-var">'c</span>;</span></code></td></tr><tr id="type-gen_universe_decl.univdecl_extensible_constraints" class="anchored"><td class="def record field"><a href="#type-gen_universe_decl.univdecl_extensible_constraints" class="anchor"></a><code><span>univdecl_extensible_constraints : bool;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-universe_decl" class="anchored"><a href="#type-universe_decl" class="anchor"></a><code><span><span class="keyword">type</span> universe_decl</span><span> = <span><span>(<span><a href="../Sorts/QVar/index.html#type-t">Sorts.QVar.t</a> list</span>, <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> list</span>, <a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a>)</span> <a href="#type-gen_universe_decl">gen_universe_decl</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-default_univ_decl" class="anchored"><a href="#val-default_univ_decl" class="anchor"></a><code><span><span class="keyword">val</span> default_univ_decl : <a href="#type-universe_decl">universe_decl</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_univ_decl" class="anchored"><a href="#val-check_univ_decl" class="anchor"></a><code><span><span class="keyword">val</span> check_univ_decl : <span>poly:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-universe_decl">universe_decl</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-named_universes_entry">named_universes_entry</a></span></code></div><div class="spec-doc"><p><code>check_univ_decl ctx decl</code></p><p>If non extensible in <code>decl</code>, check that the local universes (resp. universe constraints) in <code>ctx</code> are implied by <code>decl</code>.</p><p>Return a <code>universes_entry</code> containing the local universes of <code>ctx</code> and their constraints.</p><p>When polymorphic, the universes corresponding to <code>decl.univdecl_instance</code> come first in the order defined by that list.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-check_univ_decl_rev" class="anchored"><a href="#val-check_univ_decl_rev" class="anchor"></a><code><span><span class="keyword">val</span> check_univ_decl_rev : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-universe_decl">universe_decl</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a> * <a href="../UVars/UContext/index.html#type-t">UVars.UContext.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_uctx_impl" class="anchored"><a href="#val-check_uctx_impl" class="anchor"></a><code><span><span class="keyword">val</span> check_uctx_impl : <span>fail:<span>(<span><a href="../Pp/index.html#type-t">Pp.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_mono_univ_decl" class="anchored"><a href="#val-check_mono_univ_decl" class="anchor"></a><code><span><span class="keyword">val</span> check_mono_univ_decl : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-universe_decl">universe_decl</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span></code></div></div><h6 id="todo:-document-me"><a href="#todo:-document-me" class="anchor"></a>TODO: Document me</h6><div class="odoc-spec"><div class="spec value" id="val-update_sigma_univs" class="anchored"><a href="#val-update_sigma_univs" class="anchor"></a><code><span><span class="keyword">val</span> update_sigma_univs : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UGraph/index.html#type-t">UGraph.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><h6 id="pretty-printing"><a href="#pretty-printing" class="anchor"></a>Pretty-printing</h6><div class="odoc-spec"><div class="spec value" id="val-pr_uctx_level" class="anchored"><a href="#val-pr_uctx_level" class="anchor"></a><code><span><span class="keyword">val</span> pr_uctx_level : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pr_uctx_qvar" class="anchored"><a href="#val-pr_uctx_qvar" class="anchor"></a><code><span><span class="keyword">val</span> pr_uctx_qvar : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/QVar/index.html#type-t">Sorts.QVar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qualid_of_level" class="anchored"><a href="#val-qualid_of_level" class="anchor"></a><code><span><span class="keyword">val</span> qualid_of_level : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Libnames/index.html#type-qualid">Libnames.qualid</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-id_of_level" class="anchored"><a href="#val-id_of_level" class="anchor"></a><code><span><span class="keyword">val</span> id_of_level : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> option</span></span></code></div><div class="spec-doc"><p>Only looks in the local names, not in the nametab.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-id_of_qvar" class="anchored"><a href="#val-id_of_qvar" class="anchor"></a><code><span><span class="keyword">val</span> id_of_qvar : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/QVar/index.html#type-t">Sorts.QVar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pr_weak" class="anchored"><a href="#val-pr_weak" class="anchor"></a><code><span><span class="keyword">val</span> pr_weak : <span><span>(<span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pr" class="anchored"><a href="#val-pr" class="anchor"></a><code><span><span class="keyword">val</span> pr : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pr_sort_opt_subst" class="anchored"><a href="#val-pr_sort_opt_subst" class="anchor"></a><code><span><span class="keyword">val</span> pr_sort_opt_subst : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Internal" class="anchored"><a href="#module-Internal" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Internal/index.html">Internal</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>