<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Declaremods (coq-core.Declaremods)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Declaremods</nav><h1>Module <code>Declaremods</code></h1><nav class="toc"><ul><li><a href="#modules">Modules</a></li><li><a href="#module-types">Module types</a></li><li><a href="#libraries-i.e.-modules-on-disk">Libraries i.e. modules on disk</a></li><li><a href="#...">...</a></li></ul></nav></header><section><header><h6 id="modules"><a href="#modules" class="anchor"></a>Modules</h6></header><aside><p>Rigid / flexible module signature</p></aside><dl><dt class="spec type" id="type-module_signature"><a href="#type-module_signature" class="anchor"></a><code><span class="keyword">type</span> <span>'a module_signature</span></code><code> = </code><table class="variant"><tr id="type-module_signature.Enforce" class="anchored"><td class="def constructor"><a href="#type-module_signature.Enforce" class="anchor"></a><code>| </code><code><span class="constructor">Enforce</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td><td class="doc"><p>... : T</p></td></tr><tr id="type-module_signature.Check" class="anchored"><td class="def constructor"><a href="#type-module_signature.Check" class="anchor"></a><code>| </code><code><span class="constructor">Check</span> <span class="keyword">of</span> <span><span class="type-var">'a</span> list</span></code></td><td class="doc"><p>... &lt;: T1 &lt;: T2, possibly empty</p></td></tr></table></dt></dl><aside><p>Which module inline annotations should we honor, either None or the ones whose level is less or equal to the given integer</p></aside><dl><dt class="spec type" id="type-inline"><a href="#type-inline" class="anchor"></a><code><span class="keyword">type</span> inline</code><code> = </code><table class="variant"><tr id="type-inline.NoInline" class="anchored"><td class="def constructor"><a href="#type-inline.NoInline" class="anchor"></a><code>| </code><code><span class="constructor">NoInline</span></code></td></tr><tr id="type-inline.DefaultInline" class="anchored"><td class="def constructor"><a href="#type-inline.DefaultInline" class="anchor"></a><code>| </code><code><span class="constructor">DefaultInline</span></code></td></tr><tr id="type-inline.InlineAt" class="anchored"><td class="def constructor"><a href="#type-inline.InlineAt" class="anchor"></a><code>| </code><code><span class="constructor">InlineAt</span> <span class="keyword">of</span> int</code></td></tr></table></dt></dl><aside><p>Kinds of modules</p></aside><dl><dt class="spec type" id="type-module_params"><a href="#type-module_params" class="anchor"></a><code><span class="keyword">type</span> module_params</code><code> = <span><span>(<span><a href="../Names/index.html#type-lident">Names.lident</a> list</span> * <span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span>)</span> list</span></code></dt></dl><aside><p><code>declare_module id fargs typ exprs</code> declares module <code>id</code>, from functor arguments <code>fargs</code>, with final type <code>typ</code>. <code>exprs</code> is usually of length 1 (Module definition with a concrete body), but it could also be empty (&quot;Declare Module&quot;, with non-empty <code>typ</code>), or multiple (body of the shape M &lt;+ N &lt;+ ...).</p></aside><dl><dt class="spec value" id="val-declare_module"><a href="#val-declare_module" class="anchor"></a><code><span class="keyword">val</span> declare_module : <a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> <a href="index.html#type-module_params">module_params</a> <span>&#45;&gt;</span> <span><span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span> <a href="index.html#type-module_signature">module_signature</a></span> <span>&#45;&gt;</span> <span><span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span> list</span> <span>&#45;&gt;</span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a></code></dt><dt class="spec value" id="val-start_module"><a href="#val-start_module" class="anchor"></a><code><span class="keyword">val</span> start_module : <span>bool option</span> <span>&#45;&gt;</span> <a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> <a href="index.html#type-module_params">module_params</a> <span>&#45;&gt;</span> <span><span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span> <a href="index.html#type-module_signature">module_signature</a></span> <span>&#45;&gt;</span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a></code></dt><dt class="spec value" id="val-end_module"><a href="#val-end_module" class="anchor"></a><code><span class="keyword">val</span> end_module : unit <span>&#45;&gt;</span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a></code></dt></dl></section><section><header><h6 id="module-types"><a href="#module-types" class="anchor"></a>Module types</h6></header><aside><p><code>declare_modtype interp_modast id fargs typs exprs</code> Similar to <code>declare_module</code>, except that the types could be multiple</p></aside><dl><dt class="spec value" id="val-declare_modtype"><a href="#val-declare_modtype" class="anchor"></a><code><span class="keyword">val</span> declare_modtype : <a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> <a href="index.html#type-module_params">module_params</a> <span>&#45;&gt;</span> <span><span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span> list</span> <span>&#45;&gt;</span> <span><span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span> list</span> <span>&#45;&gt;</span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a></code></dt><dt class="spec value" id="val-start_modtype"><a href="#val-start_modtype" class="anchor"></a><code><span class="keyword">val</span> start_modtype : <a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> <a href="index.html#type-module_params">module_params</a> <span>&#45;&gt;</span> <span><span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span> list</span> <span>&#45;&gt;</span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a></code></dt><dt class="spec value" id="val-end_modtype"><a href="#val-end_modtype" class="anchor"></a><code><span class="keyword">val</span> end_modtype : unit <span>&#45;&gt;</span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a></code></dt></dl></section><section><header><h6 id="libraries-i.e.-modules-on-disk"><a href="#libraries-i.e.-modules-on-disk" class="anchor"></a>Libraries i.e. modules on disk</h6></header><dl><dt class="spec type" id="type-library_name"><a href="#type-library_name" class="anchor"></a><code><span class="keyword">type</span> library_name</code><code> = <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a></code></dt><dt class="spec type" id="type-library_objects"><a href="#type-library_objects" class="anchor"></a><code><span class="keyword">type</span> library_objects</code></dt></dl><dl><dt class="spec value" id="val-register_library"><a href="#val-register_library" class="anchor"></a><code><span class="keyword">val</span> register_library : <a href="index.html#type-library_name">library_name</a> <span>&#45;&gt;</span> <a href="../Safe_typing/index.html#type-compiled_library">Safe_typing.compiled_library</a> <span>&#45;&gt;</span> <a href="index.html#type-library_objects">library_objects</a> <span>&#45;&gt;</span> <a href="../Safe_typing/index.html#type-vodigest">Safe_typing.vodigest</a> <span>&#45;&gt;</span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-start_library"><a href="#val-start_library" class="anchor"></a><code><span class="keyword">val</span> start_library : <a href="index.html#type-library_name">library_name</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-end_library"><a href="#val-end_library" class="anchor"></a><code><span class="keyword">val</span> end_library : <span>output_native_objects:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-library_name">library_name</a> <span>&#45;&gt;</span> <a href="../Safe_typing/index.html#type-compiled_library">Safe_typing.compiled_library</a> * <a href="index.html#type-library_objects">library_objects</a> * <a href="../Nativelib/index.html#type-native_library">Nativelib.native_library</a></code></dt><dt class="spec value" id="val-append_end_library_hook"><a href="#val-append_end_library_hook" class="anchor"></a><code><span class="keyword">val</span> append_end_library_hook : <span>(unit <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>append a function to be executed at end_library</p></dd></dl><aside><p><code>import_module export mp</code> imports the module <code>mp</code>. It modifies Nametab and performs the <code>open_object</code> function for every object of the module. Raises <code>Not_found</code> when <code>mp</code> is unknown or when <code>mp</code> corresponds to a functor. If <code>export</code> is <code>true</code>, the module is also opened every time the module containing it is.</p></aside><dl><dt class="spec value" id="val-import_module"><a href="#val-import_module" class="anchor"></a><code><span class="keyword">val</span> import_module : <a href="../Libobject/index.html#type-open_filter">Libobject.open_filter</a> <span>&#45;&gt;</span> <span>export:bool</span> <span>&#45;&gt;</span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-import_modules"><a href="#val-import_modules" class="anchor"></a><code><span class="keyword">val</span> import_modules : <span>export:bool</span> <span>&#45;&gt;</span> <span><span>(<a href="../Libobject/index.html#type-open_filter">Libobject.open_filter</a> * <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a>)</span> list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <code>import_module</code> but for multiple modules, and more optimized than iterating <code>import_module</code>.</p></dd></dl><aside><p>Include</p></aside><dl><dt class="spec value" id="val-declare_include"><a href="#val-declare_include" class="anchor"></a><code><span class="keyword">val</span> declare_include : <span><span>(<a href="../Constrexpr/index.html#type-module_ast">Constrexpr.module_ast</a> * <a href="index.html#type-inline">inline</a>)</span> list</span> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h6 id="..."><a href="#..." class="anchor"></a>...</h6></header><aside><p><code>iter_all_segments</code> iterate over all segments, the modules' segments first and then the current segment. Modules are presented in an arbitrary order. The given function is applied to all leaves (together with their section path).</p></aside><dl><dt class="spec value" id="val-iter_all_segments"><a href="#val-iter_all_segments" class="anchor"></a><code><span class="keyword">val</span> iter_all_segments : <span>(<a href="../Libobject/index.html#type-object_name">Libobject.object_name</a> <span>&#45;&gt;</span> <a href="../Libobject/index.html#type-t">Libobject.t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-debug_print_modtab"><a href="#val-debug_print_modtab" class="anchor"></a><code><span class="keyword">val</span> debug_print_modtab : unit <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt></dl><aside><p>For printing modules, <code>process_module_binding</code> adds names of bound module (and its components) to Nametab. It also loads objects associated to it. It may raise a <code>Failure</code> when the bound module hasn't an atomic type.</p></aside><dl><dt class="spec value" id="val-process_module_binding"><a href="#val-process_module_binding" class="anchor"></a><code><span class="keyword">val</span> process_module_binding : <a href="../Names/MBId/index.html#type-t">Names.MBId.t</a> <span>&#45;&gt;</span> <a href="../Declarations/index.html#type-module_alg_expr">Declarations.module_alg_expr</a> <span>&#45;&gt;</span> unit</code></dt></dl></section></div></body></html>