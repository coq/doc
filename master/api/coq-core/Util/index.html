<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Util (coq-core.Util)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Util</nav><h1>Module <code>Util</code></h1><p>This module contains numerous utility functions on strings, lists, arrays, etc.</p><nav class="toc"><ul><li><a href="#projections-from-triplets">Projections from triplets</a></li><li><a href="#chars.">Chars.</a></li><li><a href="#empty-type">Empty type</a></li><li><a href="#strings.">Strings.</a></li><li><a href="#lists.">Lists.</a></li><li><a href="#arrays.">Arrays.</a></li><li><a href="#sets.">Sets.</a></li><li><a href="#maps.">Maps.</a></li><li><a href="#matrices.">Matrices.</a></li><li><a href="#functions.">Functions.</a></li><li><a href="#delayed-computations.">Delayed computations.</a></li><li><a href="#enriched-exceptions">Enriched exceptions</a></li><li><a href="#misc.">Misc.</a></li></ul></nav></header><aside><p>Mapping under pairs</p></aside><dl><dt class="spec value" id="val-on_fst"><a href="#val-on_fst" class="anchor"></a><code><span class="keyword">val</span> on_fst : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> * <span class="type-var">'c</span></code></dt><dt class="spec value" id="val-on_snd"><a href="#val-on_snd" class="anchor"></a><code><span class="keyword">val</span> on_snd : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'c</span> * <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> * <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-map_pair"><a href="#val-map_pair" class="anchor"></a><code><span class="keyword">val</span> map_pair : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> * <span class="type-var">'b</span></code></dt></dl><aside><p>Folding under pairs</p></aside><dl><dt class="spec value" id="val-fold_fst"><a href="#val-fold_fst" class="anchor"></a><code><span class="keyword">val</span> fold_fst : <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> * <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> * <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span></code></dt><dt class="spec value" id="val-fold_snd"><a href="#val-fold_snd" class="anchor"></a><code><span class="keyword">val</span> fold_snd : <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> * <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> * <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span></code></dt></dl><aside><p>Equality on pairs</p></aside><dl><dt class="spec value" id="val-eq_pair"><a href="#val-eq_pair" class="anchor"></a><code><span class="keyword">val</span> eq_pair : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> bool</code></dt></dl><aside><p>Mapping under triplets</p></aside><dl><dt class="spec value" id="val-on_pi1"><a href="#val-on_pi1" class="anchor"></a><code><span class="keyword">val</span> on_pi1 : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span></code></dt><dt class="spec value" id="val-on_pi2"><a href="#val-on_pi2" class="anchor"></a><code><span class="keyword">val</span> on_pi2 : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'c</span> * <span class="type-var">'a</span> * <span class="type-var">'d</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> * <span class="type-var">'b</span> * <span class="type-var">'d</span></code></dt><dt class="spec value" id="val-on_pi3"><a href="#val-on_pi3" class="anchor"></a><code><span class="keyword">val</span> on_pi3 : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'b</span></code></dt></dl><section><header><h6 id="projections-from-triplets"><a href="#projections-from-triplets" class="anchor"></a>Projections from triplets</h6></header><dl><dt class="spec value" id="val-pi1"><a href="#val-pi1" class="anchor"></a><code><span class="keyword">val</span> pi1 : <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-pi2"><a href="#val-pi2" class="anchor"></a><code><span class="keyword">val</span> pi2 : <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-pi3"><a href="#val-pi3" class="anchor"></a><code><span class="keyword">val</span> pi3 : <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt></dl></section><section><header><h6 id="chars."><a href="#chars." class="anchor"></a>Chars.</h6></header><dl><dt class="spec value" id="val-is_letter"><a href="#val-is_letter" class="anchor"></a><code><span class="keyword">val</span> is_letter : char <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_digit"><a href="#val-is_digit" class="anchor"></a><code><span class="keyword">val</span> is_digit : char <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_ident_tail"><a href="#val-is_ident_tail" class="anchor"></a><code><span class="keyword">val</span> is_ident_tail : char <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_blank"><a href="#val-is_blank" class="anchor"></a><code><span class="keyword">val</span> is_blank : char <span>&#45;&gt;</span> bool</code></dt></dl></section><section><header><h6 id="empty-type"><a href="#empty-type" class="anchor"></a>Empty type</h6></header><div class="spec module" id="module-Empty"><a href="#module-Empty" class="anchor"></a><code><span class="keyword">module</span> <a href="Empty/index.html">Empty</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h6 id="strings."><a href="#strings." class="anchor"></a>Strings.</h6></header><div class="spec module" id="module-String"><a href="#module-String" class="anchor"></a><code><span class="keyword">module</span> String = <a href="../CString/index.html">CString</a></code></div><dl><dt class="spec value" id="val-subst_command_placeholder"><a href="#val-subst_command_placeholder" class="anchor"></a><code><span class="keyword">val</span> subst_command_placeholder : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p>Substitute %s in the first chain by the second chain</p></dd></dl></section><section><header><h6 id="lists."><a href="#lists." class="anchor"></a>Lists.</h6></header><div class="spec module" id="module-List"><a href="#module-List" class="anchor"></a><code><span class="keyword">module</span> <a href="List/index.html">List</a> : <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../CList/index.html">CList</a></code></div><dl><dt class="spec value" id="val-(@)"><a href="#val-(@)" class="anchor"></a><code><span class="keyword">val</span> (@) : <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt></dl></section><section><header><h6 id="arrays."><a href="#arrays." class="anchor"></a>Arrays.</h6></header><div class="spec module" id="module-Array"><a href="#module-Array" class="anchor"></a><code><span class="keyword">module</span> <a href="Array/index.html">Array</a> : <a href="../CArray/index.html#module-type-ExtS">CArray.ExtS</a></code></div></section><section><header><h6 id="sets."><a href="#sets." class="anchor"></a>Sets.</h6></header><div class="spec module" id="module-Set"><a href="#module-Set" class="anchor"></a><code><span class="keyword">module</span> <a href="Set/index.html">Set</a> : <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../CSet/index.html">CSet</a></code></div></section><section><header><h6 id="maps."><a href="#maps." class="anchor"></a>Maps.</h6></header><div class="spec module" id="module-Map"><a href="#module-Map" class="anchor"></a><code><span class="keyword">module</span> <a href="Map/index.html">Map</a> : <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../CMap/index.html">CMap</a></code></div></section><section><header><h6 id="matrices."><a href="#matrices." class="anchor"></a>Matrices.</h6></header><dl><dt class="spec value" id="val-matrix_transpose"><a href="#val-matrix_transpose" class="anchor"></a><code><span class="keyword">val</span> matrix_transpose : <span><span><span class="type-var">'a</span> list</span> list</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> list</span></code></dt></dl></section><section><header><h6 id="functions."><a href="#functions." class="anchor"></a>Functions.</h6></header><dl><dt class="spec value" id="val-identity"><a href="#val-identity" class="anchor"></a><code><span class="keyword">val</span> identity : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-(%&gt;)"><a href="#val-(%&gt;)" class="anchor"></a><code><span class="keyword">val</span> (%&gt;) : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt><dd><p>Left-to-right function composition:</p><p><code>f1 %&gt; f2</code> is <code>fun x -&gt; f2 (f1 x)</code>.</p><p><code>f1 %&gt; f2 %&gt; f3</code> is <code>fun x -&gt; f3 (f2 (f1 x))</code>.</p><p><code>f1 %&gt; f2 %&gt; f3 %&gt; f4</code> is <code>fun x -&gt; f4 (f3 (f2 (f1 x)))</code></p><p>etc.</p></dd></dl><dl><dt class="spec value" id="val-const"><a href="#val-const" class="anchor"></a><code><span class="keyword">val</span> const : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-iterate"><a href="#val-iterate" class="anchor"></a><code><span class="keyword">val</span> iterate : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-repeat"><a href="#val-repeat" class="anchor"></a><code><span class="keyword">val</span> repeat : int <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-app_opt"><a href="#val-app_opt" class="anchor"></a><code><span class="keyword">val</span> app_opt : <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> option</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl></section><section><header><h6 id="delayed-computations."><a href="#delayed-computations." class="anchor"></a>Delayed computations.</h6></header><dl><dt class="spec type" id="type-delayed"><a href="#type-delayed" class="anchor"></a><code><span class="keyword">type</span> <span>'a delayed</span></code><code> = unit <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><dl><dt class="spec value" id="val-delayed_force"><a href="#val-delayed_force" class="anchor"></a><code><span class="keyword">val</span> delayed_force : <span><span class="type-var">'a</span> <a href="index.html#type-delayed">delayed</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-try_finally"><a href="#val-try_finally" class="anchor"></a><code><span class="keyword">val</span> try_finally : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>try_finally f x g y</code> applies the main code <code>f</code> to <code>x</code> and returns the result after having applied the finalization code <code>g</code> to <code>y</code>. If the main code raises the exception <code>exn</code>, the finalization code is executed and <code>exn</code> is raised. If the finalization code itself fails, the exception returned is always the one from the finalization code. Credit X.Leroy, D.Remy.</p></dd></dl></section><section><header><h6 id="enriched-exceptions"><a href="#enriched-exceptions" class="anchor"></a>Enriched exceptions</h6></header><dl><dt class="spec type" id="type-iexn"><a href="#type-iexn" class="anchor"></a><code><span class="keyword">type</span> iexn</code><code> = <a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a></code></dt></dl><dl><dt class="spec value" id="val-iraise"><a href="#val-iraise" class="anchor"></a><code><span class="keyword">val</span> iraise : <a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl></section><section><header><h6 id="misc."><a href="#misc." class="anchor"></a>Misc.</h6></header><dl><dt class="spec type" id="type-union"><a href="#type-union" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) union</span></code><code> = <span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'b</span>)</span> <a href="../CSig/index.html#type-union">CSig.union</a></span></code><code> = </code><table class="variant"><tr id="type-union.Inl" class="anchored"><td class="def constructor"><a href="#type-union.Inl" class="anchor"></a><code>| </code><code><span class="constructor">Inl</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-union.Inr" class="anchored"><td class="def constructor"><a href="#type-union.Inr" class="anchor"></a><code>| </code><code><span class="constructor">Inr</span> <span class="keyword">of</span> <span class="type-var">'b</span></code></td><td class="doc"><p>Union type</p></td></tr></table></dt></dl><div class="spec module" id="module-Union"><a href="#module-Union" class="anchor"></a><code><span class="keyword">module</span> <a href="Union/index.html">Union</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-map_union"><a href="#val-map_union" class="anchor"></a><code><span class="keyword">val</span> map_union : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'b</span>)</span> <a href="index.html#type-union">union</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>,Â <span class="type-var">'d</span>)</span> <a href="index.html#type-union">union</a></span></code></dt><dd><p>Alias for <code>Union.map</code></p></dd></dl><dl><dt class="spec type" id="type-until"><a href="#type-until" class="anchor"></a><code><span class="keyword">type</span> <span>'a until</span></code><code> = <span><span class="type-var">'a</span> <a href="../CSig/index.html#type-until">CSig.until</a></span></code><code> = </code><table class="variant"><tr id="type-until.Stop" class="anchored"><td class="def constructor"><a href="#type-until.Stop" class="anchor"></a><code>| </code><code><span class="constructor">Stop</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-until.Cont" class="anchored"><td class="def constructor"><a href="#type-until.Cont" class="anchor"></a><code>| </code><code><span class="constructor">Cont</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td><td class="doc"><p>Used for browsable-until structures.</p></td></tr></table></dt><dt class="spec type" id="type-eq"><a href="#type-eq" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) eq</span></code><code> = <span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'b</span>)</span> <a href="../CSig/index.html#type-eq">CSig.eq</a></span></code><code> = </code><table class="variant"><tr id="type-eq.Refl" class="anchored"><td class="def constructor"><a href="#type-eq.Refl" class="anchor"></a><code>| </code><code><span class="constructor">Refl</span> : <span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'a</span>)</span> <a href="index.html#type-eq">eq</a></span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-sym"><a href="#val-sym" class="anchor"></a><code><span class="keyword">val</span> sym : <span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'b</span>)</span> <a href="index.html#type-eq">eq</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>,Â <span class="type-var">'a</span>)</span> <a href="index.html#type-eq">eq</a></span></code></dt><dt class="spec value" id="val-open_utf8_file_in"><a href="#val-open_utf8_file_in" class="anchor"></a><code><span class="keyword">val</span> open_utf8_file_in : string <span>&#45;&gt;</span> Stdlib.in_channel</code></dt><dd><p>Open an utf-8 encoded file and skip the byte-order mark if any.</p></dd></dl><dl><dt class="spec value" id="val-set_temporary_memory"><a href="#val-set_temporary_memory" class="anchor"></a><code><span class="keyword">val</span> set_temporary_memory : unit <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> * <span>(unit <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span></code></dt><dd><p>A trick which can typically be used to store on the fly the computation of values in the &quot;when&quot; clause of a &quot;match&quot; then retrieve the evaluated result in the r.h.s of the clause</p></dd></dl></section></div></body></html>