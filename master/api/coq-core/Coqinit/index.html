<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Coqinit (coq-core.Coqinit)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Coqinit</nav><header class="odoc-preamble"><h1>Module <code><span>Coqinit</span></code></h1><p>Main etry point to the sysinit component, all other modules are private.</p><p>The following API shoud be called in order, and the first 3 steps only once since they initialize global data. On the contrary step 4 can be called many times to init the compilation of a unit.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-init_ocaml" class="anchored"><a href="#val-init_ocaml" class="anchor"></a><code><span><span class="keyword">val</span> init_ocaml : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>1 initialization of OCaml's runtime</p><p>Profiling, GC parameters and signals. Nothing specific to Coq per se, but the defaults here are good for Coq. This API should be called up very early, or not at all.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dirpath_of_top" class="anchored"><a href="#val-dirpath_of_top" class="anchor"></a><code><span><span class="keyword">val</span> dirpath_of_top : <span><a href="../Coqargs/index.html#type-top">Coqargs.top</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_arguments" class="anchored"><a href="#val-parse_arguments" class="anchor"></a><code><span><span class="keyword">val</span> parse_arguments : <span>parse_extra:<span>(<span><a href="../Coqargs/index.html#type-t">Coqargs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> * <span>string list</span>)</span> <span class="arrow">&#45;&gt;</span></span>
<span>?initial_args:<a href="../Coqargs/index.html#type-t">Coqargs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Coqargs/index.html#type-t">Coqargs.t</a> * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>2 parsing of Sys.argv</p><p>This API parses command line options which are known by Coq components. Ideally it is functional, but some values in the `Flags` modules are set on the spot instead of being represented as &quot;injection commands&quot; (a field of Coqargs.t).</p><p>The <code>string list</code> argument is typically <code>List.tl (Array.to_list Sys.argv)</code>.</p><p><code>parse_extra</code> and <code>usage</code> can be used to parse/document more options.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init_runtime" class="anchored"><a href="#val-init_runtime" class="anchor"></a><code><span><span class="keyword">val</span> init_runtime : <span>usage:<a href="../Boot/Usage/index.html#type-specific_usage">Boot.Usage.specific_usage</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Coqargs/index.html#type-t">Coqargs.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>3 initialization of global runtime data</p><p>All global setup is done here, like COQLIB and the paths for native compilation. If Coq is used to process multiple libraries, what is set up here is really global and common to all of them.</p><p>This API must be called, typically jsut after parsing arguments.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init_document" class="anchored"><a href="#val-init_document" class="anchor"></a><code><span><span class="keyword">val</span> init_document : <span><a href="../Coqargs/index.html#type-t">Coqargs.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-start_library" class="anchored"><a href="#val-start_library" class="anchor"></a><code><span><span class="keyword">val</span> start_library : <span>intern:<a href="../Library/Intern/index.html#type-t">Library.Intern.t</a> <span class="arrow">&#45;&gt;</span></span> <span>top:<a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Coqargs/index.html#type-injection_command">Coqargs.injection_command</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>4 Start a library (sets options and loads objects like the prelude)</p><p>Given the logical name <code>top</code> of the current library and the set of initial options and required libraries, it starts its processing (see also Declaremods.start_library)</p></div></div></div></body></html>