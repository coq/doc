<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Section (coq-core.Section)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Section</nav><h1>Module <code>Section</code></h1><nav class="toc"><ul><li><a href="#manipulating-sections">Manipulating sections</a></li><li><a href="#extending-sections">Extending sections</a></li><li><a href="#retrieving-section-data">Retrieving section data</a></li></ul></nav></header><aside><p>Kernel implementation of sections.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt><dd><p>Type of sections with additional data <code>'a</code></p></dd></dl><dl><dt class="spec value" id="val-depth"><a href="#val-depth" class="anchor"></a><code><span class="keyword">val</span> depth : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Number of nested sections.</p></dd></dl><dl><dt class="spec value" id="val-map_custom"><a href="#val-map_custom" class="anchor"></a><code><span class="keyword">val</span> map_custom : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Modify the custom data</p></dd></dl><section><header><h6 id="manipulating-sections"><a href="#manipulating-sections" class="anchor"></a>Manipulating sections</h6></header><dl><dt class="spec type" id="type-section_entry"><a href="#type-section_entry" class="anchor"></a><code><span class="keyword">type</span> section_entry</code><code> = </code><table class="variant"><tr id="type-section_entry.SecDefinition" class="anchored"><td class="def constructor"><a href="#type-section_entry.SecDefinition" class="anchor"></a><code>| </code><code><span class="constructor">SecDefinition</span> <span class="keyword">of</span> <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a></code></td></tr><tr id="type-section_entry.SecInductive" class="anchored"><td class="def constructor"><a href="#type-section_entry.SecInductive" class="anchor"></a><code>| </code><code><span class="constructor">SecInductive</span> <span class="keyword">of</span> <a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-open_section"><a href="#val-open_section" class="anchor"></a><code><span class="keyword">val</span> open_section : <span>custom:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> option</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Open a new section with the provided universe polymorphic status. Sections can be nested, with the proviso that polymorphic sections cannot appear inside a monomorphic one. A custom data can be attached to this section, that will be returned by <a href="index.html#val-close_section"><code>close_section</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-close_section"><a href="#val-close_section" class="anchor"></a><code><span class="keyword">val</span> close_section : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> option</span> * <span><a href="index.html#type-section_entry">section_entry</a> list</span> * <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> * <span class="type-var">'a</span></code></dt><dd><p>Close the current section and returns the entries defined inside, the set of global monomorphic constraints added in this section, and the custom data provided at the opening of the section.</p></dd></dl></section><section><header><h6 id="extending-sections"><a href="#extending-sections" class="anchor"></a>Extending sections</h6></header><dl><dt class="spec value" id="val-push_local"><a href="#val-push_local" class="anchor"></a><code><span class="keyword">val</span> push_local : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Extend the current section with a local definition (cf. push_named).</p></dd></dl><dl><dt class="spec value" id="val-push_context"><a href="#val-push_context" class="anchor"></a><code><span class="keyword">val</span> push_context : <span>(<span><a href="../Names/Name/index.html#type-t">Names.Name.t</a> array</span> * <a href="../Univ/UContext/index.html#type-t">Univ.UContext.t</a>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Extend the current section with a local universe context. Assumes that the last opened section is polymorphic.</p></dd></dl><dl><dt class="spec value" id="val-push_constraints"><a href="#val-push_constraints" class="anchor"></a><code><span class="keyword">val</span> push_constraints : <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Extend the current section with a global universe context. Assumes that the last opened section is monomorphic.</p></dd></dl><dl><dt class="spec value" id="val-push_constant"><a href="#val-push_constant" class="anchor"></a><code><span class="keyword">val</span> push_constant : <span>poly:bool</span> <span>&#45;&gt;</span> <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Make the constant as having been defined in this section.</p></dd></dl><dl><dt class="spec value" id="val-push_inductive"><a href="#val-push_inductive" class="anchor"></a><code><span class="keyword">val</span> push_inductive : <span>poly:bool</span> <span>&#45;&gt;</span> <a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Make the inductive block as having been defined in this section.</p></dd></dl></section><section><header><h6 id="retrieving-section-data"><a href="#retrieving-section-data" class="anchor"></a>Retrieving section data</h6></header><dl><dt class="spec value" id="val-all_poly_univs"><a href="#val-all_poly_univs" class="anchor"></a><code><span class="keyword">val</span> all_poly_univs : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> array</span></code></dt><dd><p>Returns all polymorphic universes, including those from previous sections. Earlier sections are earlier in the array.</p><p>NB: even if the array is empty there may be polymorphic constraints about monomorphic universes, which prevent declaring monomorphic globals.</p></dd></dl><dl><dt class="spec type" id="type-abstr_info"><a href="#type-abstr_info" class="anchor"></a><code><span class="keyword">type</span> abstr_info</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-abstr_info.abstr_ctx" class="anchored"><td class="def field"><a href="#type-abstr_info.abstr_ctx" class="anchor"></a><code>abstr_ctx : <a href="../Constr/index.html#type-named_context">Constr.named_context</a>;</code></td><td class="doc"><p>Section variables of this prefix</p></td></tr><tr id="type-abstr_info.abstr_subst" class="anchored"><td class="def field"><a href="#type-abstr_info.abstr_subst" class="anchor"></a><code>abstr_subst : <a href="../Univ/Instance/index.html#type-t">Univ.Instance.t</a>;</code></td><td class="doc"><p>Actual names of the abstracted variables</p></td></tr><tr id="type-abstr_info.abstr_uctx" class="anchored"><td class="def field"><a href="#type-abstr_info.abstr_uctx" class="anchor"></a><code>abstr_uctx : <a href="../Univ/AUContext/index.html#type-t">Univ.AUContext.t</a>;</code></td><td class="doc"><p>Universe quantification, same length as the substitution</p></td></tr></table><code>}</code></dt><dd><p>Data needed to abstract over the section variable and universe hypotheses</p></dd></dl><dl><dt class="spec value" id="val-empty_segment"><a href="#val-empty_segment" class="anchor"></a><code><span class="keyword">val</span> empty_segment : <a href="index.html#type-abstr_info">abstr_info</a></code></dt><dd><p>Nothing to abstract</p></dd></dl><dl><dt class="spec value" id="val-segment_of_constant"><a href="#val-segment_of_constant" class="anchor"></a><code><span class="keyword">val</span> segment_of_constant : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-abstr_info">abstr_info</a></code></dt><dd><p>Section segment at the time of the constant declaration</p></dd></dl><dl><dt class="spec value" id="val-segment_of_inductive"><a href="#val-segment_of_inductive" class="anchor"></a><code><span class="keyword">val</span> segment_of_inductive : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-abstr_info">abstr_info</a></code></dt><dd><p>Section segment at the time of the inductive declaration</p></dd></dl><dl><dt class="spec value" id="val-replacement_context"><a href="#val-replacement_context" class="anchor"></a><code><span class="keyword">val</span> replacement_context : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Opaqueproof/index.html#type-work_list">Opaqueproof.work_list</a></code></dt><dd><p>Section segments of all declarations from this section.</p></dd></dl><dl><dt class="spec value" id="val-is_in_section"><a href="#val-is_in_section" class="anchor"></a><code><span class="keyword">val</span> is_in_section : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></dt></dl></section></div></body></html>