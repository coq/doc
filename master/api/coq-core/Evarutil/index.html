<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Evarutil (coq-core.Evarutil)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Evarutil</nav><h1>Module <code>Evarutil</code></h1><nav class="toc"><ul><li><a href="#metas">Metas</a></li><li><a href="#creating-a-fresh-evar-given-their-type-and-context">Creating a fresh evar given their type and context</a></li><li><a href="#unification-utils">Unification utils</a></li><li><a href="#value/type-constraints">Value/Type constraints</a></li><li><a href="#term-manipulation-up-to-instantiation">Term manipulation up to instantiation</a></li><li><a href="#removing-hyps-in-evars'context">Removing hyps in evars'context</a></li></ul></nav></header><aside><p>This module provides useful higher-level functions for evar manipulation.</p></aside><section><header><h6 id="metas"><a href="#metas" class="anchor"></a>Metas</h6></header><dl><dt class="spec value" id="val-new_meta"><a href="#val-new_meta" class="anchor"></a><code><span class="keyword">val</span> new_meta : unit <span>&#45;&gt;</span> <a href="../Constr/index.html#type-metavariable">Constr.metavariable</a></code></dt><dd><p><code>new_meta</code> is a generator of unique meta variables</p></dd></dl></section><section><header><h6 id="creating-a-fresh-evar-given-their-type-and-context"><a href="#creating-a-fresh-evar-given-their-type-and-context" class="anchor"></a>Creating a fresh evar given their type and context</h6></header><dl><dt class="spec value" id="val-next_evar_name"><a href="#val-next_evar_name" class="anchor"></a><code><span class="keyword">val</span> next_evar_name : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Namegen/index.html#type-intro_pattern_naming_expr">Namegen.intro_pattern_naming_expr</a> <span>&#45;&gt;</span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> option</span></code></dt></dl><div class="spec module" id="module-VarSet"><a href="#module-VarSet" class="anchor"></a><code><span class="keyword">module</span> <a href="VarSet/index.html">VarSet</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-naming_mode"><a href="#type-naming_mode" class="anchor"></a><code><span class="keyword">type</span> naming_mode</code><code> = </code><table class="variant"><tr id="type-naming_mode.RenameExistingBut" class="anchored"><td class="def constructor"><a href="#type-naming_mode.RenameExistingBut" class="anchor"></a><code>| </code><code><span class="constructor">RenameExistingBut</span> <span class="keyword">of</span> <a href="VarSet/index.html#type-t">VarSet.t</a></code></td></tr><tr id="type-naming_mode.FailIfConflict" class="anchored"><td class="def constructor"><a href="#type-naming_mode.FailIfConflict" class="anchor"></a><code>| </code><code><span class="constructor">FailIfConflict</span></code></td></tr><tr id="type-naming_mode.ProgramNaming" class="anchored"><td class="def constructor"><a href="#type-naming_mode.ProgramNaming" class="anchor"></a><code>| </code><code><span class="constructor">ProgramNaming</span> <span class="keyword">of</span> <a href="VarSet/index.html#type-t">VarSet.t</a></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-new_evar"><a href="#val-new_evar" class="anchor"></a><code><span class="keyword">val</span> new_evar : <span>?&#8288;src:<span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;filter:<a href="../Evd/Filter/index.html#type-t">Evd.Filter.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;relevance:<a href="../Sorts/index.html#type-relevance">Sorts.relevance</a></span> <span>&#45;&gt;</span> <span>?&#8288;abstract_arguments:<a href="../Evd/Abstraction/index.html#type-t">Evd.Abstraction.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;candidates:<span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;naming:<a href="../Namegen/index.html#type-intro_pattern_naming_expr">Namegen.intro_pattern_naming_expr</a></span> <span>&#45;&gt;</span> <span>?&#8288;typeclass_candidate:bool</span> <span>&#45;&gt;</span> <span>?&#8288;principal:bool</span> <span>&#45;&gt;</span> <span>?&#8288;hypnaming:<a href="index.html#type-naming_mode">naming_mode</a></span> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../EConstr/index.html#type-t">EConstr.t</a></code></dt><dt class="spec value" id="val-new_pure_evar"><a href="#val-new_pure_evar" class="anchor"></a><code><span class="keyword">val</span> new_pure_evar : <span>?&#8288;src:<span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;filter:<a href="../Evd/Filter/index.html#type-t">Evd.Filter.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;relevance:<a href="../Sorts/index.html#type-relevance">Sorts.relevance</a></span> <span>&#45;&gt;</span> <span>?&#8288;abstract_arguments:<a href="../Evd/Abstraction/index.html#type-t">Evd.Abstraction.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;candidates:<span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;typeclass_candidate:bool</span> <span>&#45;&gt;</span> <span>?&#8288;principal:bool</span> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Evar/index.html#type-t">Evar.t</a></code></dt><dd><p>Alias of <a href="../Evd/index.html#val-new_pure_evar"><code>Evd.new_pure_evar</code></a></p></dd></dl><dl><dt class="spec value" id="val-new_type_evar"><a href="#val-new_type_evar" class="anchor"></a><code><span class="keyword">val</span> new_type_evar : <span>?&#8288;src:<span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;filter:<a href="../Evd/Filter/index.html#type-t">Evd.Filter.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;naming:<a href="../Namegen/index.html#type-intro_pattern_naming_expr">Namegen.intro_pattern_naming_expr</a></span> <span>&#45;&gt;</span> <span>?&#8288;principal:bool</span> <span>&#45;&gt;</span> <span>?&#8288;hypnaming:<a href="index.html#type-naming_mode">naming_mode</a></span> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-rigid">Evd.rigid</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <span>(<a href="../EConstr/index.html#type-constr">EConstr.constr</a> * <a href="../EConstr/ESorts/index.html#type-t">EConstr.ESorts.t</a>)</span></code></dt><dd><p>Create a new Type existential variable, as we keep track of them during type-checking and unification.</p></dd></dl><dl><dt class="spec value" id="val-new_Type"><a href="#val-new_Type" class="anchor"></a><code><span class="keyword">val</span> new_Type : <span>?&#8288;rigid:<a href="../Evd/index.html#type-rigid">Evd.rigid</a></span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../EConstr/index.html#type-constr">EConstr.constr</a></code></dt></dl></section><section><header><h6 id="unification-utils"><a href="#unification-utils" class="anchor"></a>Unification utils</h6></header><dl><dt class="spec exception" id="exception-NoHeadEvar"><a href="#exception-NoHeadEvar" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">NoHeadEvar</span></code></dt><dd><p><code>head_evar c</code> returns the head evar of <code>c</code> if any</p></dd></dl><dl><dt class="spec value" id="val-head_evar"><a href="#val-head_evar" class="anchor"></a><code><span class="keyword">val</span> head_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../Evar/index.html#type-t">Evar.t</a></code></dt><dd><p>may raise NoHeadEvar</p></dd></dl><dl><dt class="spec value" id="val-whd_head_evar"><a href="#val-whd_head_evar" class="anchor"></a><code><span class="keyword">val</span> whd_head_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dt class="spec value" id="val-has_undefined_evars"><a href="#val-has_undefined_evars" class="anchor"></a><code><span class="keyword">val</span> has_undefined_evars : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_ground_term"><a href="#val-is_ground_term" class="anchor"></a><code><span class="keyword">val</span> is_ground_term : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_ground_env"><a href="#val-is_ground_env" class="anchor"></a><code><span class="keyword">val</span> is_ground_env : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-advance"><a href="#val-advance" class="anchor"></a><code><span class="keyword">val</span> advance : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evar/index.html#type-t">Evar.t</a> <span>&#45;&gt;</span> <span><a href="../Evar/index.html#type-t">Evar.t</a> option</span></code></dt><dd><p><code>advance sigma g</code> returns <code>Some g'</code> if <code>g'</code> is undefined and is the current avatar of <code>g</code> (for instance <code>g</code> was changed by <code>clear</code> into <code>g'</code>). It returns <code>None</code> if <code>g</code> has been (partially) solved.</p></dd></dl><dl><dt class="spec value" id="val-reachable_from_evars"><a href="#val-reachable_from_evars" class="anchor"></a><code><span class="keyword">val</span> reachable_from_evars : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evar/index.html#module-Set">Evar.Set</a>.t <span>&#45;&gt;</span> <a href="../Evar/index.html#module-Set">Evar.Set</a>.t</code></dt><dd><p><code>reachable_from_evars sigma seeds</code> computes the descendents of evars in <code>seeds</code> by restriction or evar-evar unifications in <code>sigma</code>.</p></dd></dl><aside><p>The following functions return the set of undefined evars contained in the object, the defined evars being traversed. This is roughly a combination of the previous functions and <code>nf_evar</code>.</p></aside><dl><dt class="spec value" id="val-undefined_evars_of_term"><a href="#val-undefined_evars_of_term" class="anchor"></a><code><span class="keyword">val</span> undefined_evars_of_term : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../Evar/index.html#module-Set">Evar.Set</a>.t</code></dt><dt class="spec value" id="val-undefined_evars_of_named_context"><a href="#val-undefined_evars_of_named_context" class="anchor"></a><code><span class="keyword">val</span> undefined_evars_of_named_context : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-named_context">Constr.named_context</a> <span>&#45;&gt;</span> <a href="../Evar/index.html#module-Set">Evar.Set</a>.t</code></dt></dl><dl><dt class="spec type" id="type-undefined_evars_cache"><a href="#type-undefined_evars_cache" class="anchor"></a><code><span class="keyword">type</span> undefined_evars_cache</code></dt></dl><dl><dt class="spec value" id="val-create_undefined_evars_cache"><a href="#val-create_undefined_evars_cache" class="anchor"></a><code><span class="keyword">val</span> create_undefined_evars_cache : unit <span>&#45;&gt;</span> <a href="index.html#type-undefined_evars_cache">undefined_evars_cache</a></code></dt><dt class="spec value" id="val-filtered_undefined_evars_of_evar_info"><a href="#val-filtered_undefined_evars_of_evar_info" class="anchor"></a><code><span class="keyword">val</span> filtered_undefined_evars_of_evar_info : <span>?&#8288;cache:<a href="index.html#type-undefined_evars_cache">undefined_evars_cache</a></span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Evd/index.html#type-evar_info">Evd.evar_info</a></span> <span>&#45;&gt;</span> <a href="../Evar/index.html#module-Set">Evar.Set</a>.t</code></dt><dt class="spec value" id="val-occur_evar_upto"><a href="#val-occur_evar_upto" class="anchor"></a><code><span class="keyword">val</span> occur_evar_upto : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evar/index.html#type-t">Evar.t</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>occur_evar_upto sigma k c</code> returns <code>true</code> if <code>k</code> appears in <code>c</code>. It looks up recursively in <code>sigma</code> for the value of existential variables.</p></dd></dl></section><section><header><h6 id="value/type-constraints"><a href="#value/type-constraints" class="anchor"></a>Value/Type constraints</h6></header><dl><dt class="spec value" id="val-judge_of_new_Type"><a href="#val-judge_of_new_Type" class="anchor"></a><code><span class="keyword">val</span> judge_of_new_Type : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../EConstr/index.html#type-unsafe_judgment">EConstr.unsafe_judgment</a></code></dt><dt class="spec value" id="val-create_clos_infos"><a href="#val-create_clos_infos" class="anchor"></a><code><span class="keyword">val</span> create_clos_infos : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../RedFlags/index.html#type-reds">RedFlags.reds</a> <span>&#45;&gt;</span> <a href="../CClosure/index.html#type-clos_infos">CClosure.clos_infos</a></code></dt></dl><aside><p><code>flush_and_check_evars</code> raise <code>Uninstantiated_evar</code> if an evar remains uninstantiated; <code>nf_evar</code> leaves uninstantiated evars as is</p></aside><dl><dt class="spec value" id="val-whd_evar"><a href="#val-whd_evar" class="anchor"></a><code><span class="keyword">val</span> whd_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dt class="spec value" id="val-nf_evar"><a href="#val-nf_evar" class="anchor"></a><code><span class="keyword">val</span> nf_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dt class="spec value" id="val-j_nf_evar"><a href="#val-j_nf_evar" class="anchor"></a><code><span class="keyword">val</span> j_nf_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-unsafe_judgment">EConstr.unsafe_judgment</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-unsafe_judgment">EConstr.unsafe_judgment</a></code></dt><dt class="spec value" id="val-jl_nf_evar"><a href="#val-jl_nf_evar" class="anchor"></a><code><span class="keyword">val</span> jl_nf_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <span><a href="../EConstr/index.html#type-unsafe_judgment">EConstr.unsafe_judgment</a> list</span> <span>&#45;&gt;</span> <span><a href="../EConstr/index.html#type-unsafe_judgment">EConstr.unsafe_judgment</a> list</span></code></dt><dt class="spec value" id="val-jv_nf_evar"><a href="#val-jv_nf_evar" class="anchor"></a><code><span class="keyword">val</span> jv_nf_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <span><a href="../EConstr/index.html#type-unsafe_judgment">EConstr.unsafe_judgment</a> array</span> <span>&#45;&gt;</span> <span><a href="../EConstr/index.html#type-unsafe_judgment">EConstr.unsafe_judgment</a> array</span></code></dt><dt class="spec value" id="val-tj_nf_evar"><a href="#val-tj_nf_evar" class="anchor"></a><code><span class="keyword">val</span> tj_nf_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-unsafe_type_judgment">EConstr.unsafe_type_judgment</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-unsafe_type_judgment">EConstr.unsafe_type_judgment</a></code></dt><dt class="spec value" id="val-nf_named_context_evar"><a href="#val-nf_named_context_evar" class="anchor"></a><code><span class="keyword">val</span> nf_named_context_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-named_context">Constr.named_context</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-named_context">Constr.named_context</a></code></dt><dt class="spec value" id="val-nf_rel_context_evar"><a href="#val-nf_rel_context_evar" class="anchor"></a><code><span class="keyword">val</span> nf_rel_context_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-rel_context">EConstr.rel_context</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-rel_context">EConstr.rel_context</a></code></dt><dt class="spec value" id="val-nf_env_evar"><a href="#val-nf_env_evar" class="anchor"></a><code><span class="keyword">val</span> nf_env_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-env">Environ.env</a></code></dt><dt class="spec value" id="val-nf_evar_info"><a href="#val-nf_evar_info" class="anchor"></a><code><span class="keyword">val</span> nf_evar_info : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Evd/index.html#type-evar_info">Evd.evar_info</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Evd/index.html#type-evar_info">Evd.evar_info</a></span></code></dt><dt class="spec value" id="val-nf_evar_map"><a href="#val-nf_evar_map" class="anchor"></a><code><span class="keyword">val</span> nf_evar_map : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a></code></dt><dt class="spec value" id="val-nf_evar_map_undefined"><a href="#val-nf_evar_map_undefined" class="anchor"></a><code><span class="keyword">val</span> nf_evar_map_undefined : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a></code></dt><dt class="spec value" id="val-nf_relevance"><a href="#val-nf_relevance" class="anchor"></a><code><span class="keyword">val</span> nf_relevance : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <span>&#45;&gt;</span> <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a></code></dt></dl><aside><p>Presenting terms without solved evars</p></aside><dl><dt class="spec value" id="val-nf_evars_universes"><a href="#val-nf_evars_universes" class="anchor"></a><code><span class="keyword">val</span> nf_evars_universes : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-constr">Constr.constr</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-constr">Constr.constr</a></code></dt></dl><dl><dt class="spec exception" id="exception-Uninstantiated_evar"><a href="#exception-Uninstantiated_evar" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Uninstantiated_evar</span> <span class="keyword">of</span> <a href="../Evar/index.html#type-t">Evar.t</a></code></dt><dd><p>Replacing all evars, possibly raising <code>Uninstantiated_evar</code></p></dd></dl><dl><dt class="spec value" id="val-flush_and_check_evars"><a href="#val-flush_and_check_evars" class="anchor"></a><code><span class="keyword">val</span> flush_and_check_evars : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-constr">Constr.constr</a></code></dt><dt class="spec value" id="val-finalize"><a href="#val-finalize" class="anchor"></a><code><span class="keyword">val</span> finalize : <span>?&#8288;abort_on_undefined_evars:bool</span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <span>(<span>(<a href="../EConstr/index.html#type-t">EConstr.t</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-t">Constr.t</a>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <span class="type-var">'a</span></code></dt><dd><p><code>finalize env sigma f</code> combines universe minimisation, evar-and-universe normalisation and universe restriction.</p><p>It minimizes universes in <code>sigma</code>, calls <code>f</code> a normalisation function with respect to the updated <code>sigma</code> and restricts the local universes of <code>sigma</code> to those encountered while running <code>f</code>.</p><p>Note that the normalizer passed to <code>f</code> holds some imperative state in its closure.</p></dd></dl></section><section><header><h6 id="term-manipulation-up-to-instantiation"><a href="#term-manipulation-up-to-instantiation" class="anchor"></a>Term manipulation up to instantiation</h6></header><dl><dt class="spec value" id="val-kind_of_term_upto"><a href="#val-kind_of_term_upto" class="anchor"></a><code><span class="keyword">val</span> kind_of_term_upto : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-constr">Constr.constr</a> <span>&#45;&gt;</span> <span><span>(<a href="../Constr/index.html#type-constr">Constr.constr</a>,Â <a href="../Constr/index.html#type-types">Constr.types</a>,Â <a href="../Sorts/index.html#type-t">Sorts.t</a>,Â <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a>)</span> <a href="../Constr/index.html#type-kind_of_term">Constr.kind_of_term</a></span></code></dt><dd><p>Like <a href="../Constr/index.html#val-kind"><code>Constr.kind</code></a> except that <code>kind_of_term sigma t</code> exposes <code>t</code> as an evar <code>e</code> only if <code>e</code> is uninstantiated in <code>sigma</code>. Otherwise the value of <code>e</code> in <code>sigma</code> is (recursively) used.</p></dd></dl><dl><dt class="spec value" id="val-eq_constr_univs_test"><a href="#val-eq_constr_univs_test" class="anchor"></a><code><span class="keyword">val</span> eq_constr_univs_test : <span>evd:<a href="../Evd/index.html#type-evar_map">Evd.evar_map</a></span> <span>&#45;&gt;</span> <span>extended_evd:<a href="../Evd/index.html#type-evar_map">Evd.evar_map</a></span> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>eq_constr_univs_test ~evd ~extended_evd t u</code> tests equality of <code>t</code> and <code>u</code> up to existential variable instantiation and equalisable universes. The term <code>t</code> is interpreted in <code>evd</code> while <code>u</code> is interpreted in <code>extended_evd</code>. The universe constraints in <code>extended_evd</code> are assumed to be an extension of those in <code>evd</code>.</p></dd></dl><dl><dt class="spec value" id="val-compare_cumulative_instances"><a href="#val-compare_cumulative_instances" class="anchor"></a><code><span class="keyword">val</span> compare_cumulative_instances : <a href="../Conversion/index.html#type-conv_pb">Conversion.conv_pb</a> <span>&#45;&gt;</span> <span><a href="../UVars/Variance/index.html#type-t">UVars.Variance.t</a> array</span> <span>&#45;&gt;</span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span>&#45;&gt;</span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <span><span>(<a href="../Evd/index.html#type-evar_map">Evd.evar_map</a>,Â <a href="../UGraph/index.html#type-univ_inconsistency">UGraph.univ_inconsistency</a>)</span> <a href="../Util/index.html#type-union">Util.union</a></span></code></dt><dd><p><code>compare_cumulative_instances cv_pb variance u1 u2 sigma</code> Returns <code>Inl sigma'</code> where <code>sigma'</code> is <code>sigma</code> augmented with universe constraints such that <code>u1 cv_pb? u2</code> according to <code>variance</code>. Additionally flexible universes in irrelevant positions are unified if possible. Returns <code>Inr p</code> when the former is impossible.</p></dd></dl><dl><dt class="spec value" id="val-compare_constructor_instances"><a href="#val-compare_constructor_instances" class="anchor"></a><code><span class="keyword">val</span> compare_constructor_instances : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span>&#45;&gt;</span> <a href="../UVars/Instance/index.html#type-t">UVars.Instance.t</a> <span>&#45;&gt;</span> <span><span>(<a href="../Evd/index.html#type-evar_map">Evd.evar_map</a>,Â <a href="../UGraph/index.html#type-univ_inconsistency">UGraph.univ_inconsistency</a>)</span> <a href="../Util/index.html#type-union">Util.union</a></span></code></dt><dd><p>We should only compare constructors at convertible types, so this is only an opportunity to unify universes.</p><p>But what about qualities?</p></dd></dl><dl><dt class="spec type" id="type-unification_pb"><a href="#type-unification_pb" class="anchor"></a><code><span class="keyword">type</span> unification_pb</code><code> = <a href="../Evd/index.html#type-conv_pb">Evd.conv_pb</a> * <a href="../Environ/index.html#type-env">Environ.env</a> * <a href="../EConstr/index.html#type-constr">EConstr.constr</a> * <a href="../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dd><h6 id="unification-problems"><a href="#unification-problems" class="anchor"></a>Unification problems</h6></dd></dl><dl><dt class="spec value" id="val-add_unification_pb"><a href="#val-add_unification_pb" class="anchor"></a><code><span class="keyword">val</span> add_unification_pb : <span>?&#8288;tail:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-unification_pb">unification_pb</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a></code></dt><dd><p><code>add_unification_pb ?tail pb sigma</code> Add a unification problem <code>pb</code> to <code>sigma</code>, if not already present. Put it at the end of the list if <code>tail</code> is true, by default it is false.</p></dd></dl></section><section><header><h6 id="removing-hyps-in-evars'context"><a href="#removing-hyps-in-evars'context" class="anchor"></a>Removing hyps in evars'context</h6><p>raise OccurHypInSimpleClause if the removal breaks dependencies</p></header><dl><dt class="spec type" id="type-clear_dependency_error"><a href="#type-clear_dependency_error" class="anchor"></a><code><span class="keyword">type</span> clear_dependency_error</code><code> = </code><table class="variant"><tr id="type-clear_dependency_error.OccurHypInSimpleClause" class="anchored"><td class="def constructor"><a href="#type-clear_dependency_error.OccurHypInSimpleClause" class="anchor"></a><code>| </code><code><span class="constructor">OccurHypInSimpleClause</span> <span class="keyword">of</span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> option</span></code></td></tr><tr id="type-clear_dependency_error.EvarTypingBreak" class="anchored"><td class="def constructor"><a href="#type-clear_dependency_error.EvarTypingBreak" class="anchor"></a><code>| </code><code><span class="constructor">EvarTypingBreak</span> <span class="keyword">of</span> <a href="../Constr/index.html#type-existential">Constr.existential</a></code></td></tr><tr id="type-clear_dependency_error.NoCandidatesLeft" class="anchored"><td class="def constructor"><a href="#type-clear_dependency_error.NoCandidatesLeft" class="anchor"></a><code>| </code><code><span class="constructor">NoCandidatesLeft</span> <span class="keyword">of</span> <a href="../Evar/index.html#type-t">Evar.t</a></code></td></tr></table></dt></dl><dl><dt class="spec exception" id="exception-ClearDependencyError"><a href="#exception-ClearDependencyError" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">ClearDependencyError</span> <span class="keyword">of</span> <a href="../Names/Id/index.html#type-t">Names.Id.t</a> * <a href="index.html#type-clear_dependency_error">clear_dependency_error</a> * <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> option</span></code></dt></dl><aside><p>Restrict an undefined evar according to a (sub)filter and candidates. The evar will be defined if there is only one candidate left,</p><dl><dt>raises ClearDependencyError</dt><dd><p>NoCandidatesLeft if the filter turns the candidates into an empty list.</p></dd></dl></aside><dl><dt class="spec value" id="val-restrict_evar"><a href="#val-restrict_evar" class="anchor"></a><code><span class="keyword">val</span> restrict_evar : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evar/index.html#type-t">Evar.t</a> <span>&#45;&gt;</span> <a href="../Evd/Filter/index.html#type-t">Evd.Filter.t</a> <span>&#45;&gt;</span> <span><span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> list</span> option</span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Evar/index.html#type-t">Evar.t</a></code></dt><dt class="spec value" id="val-clear_hyps_in_evi"><a href="#val-clear_hyps_in_evi" class="anchor"></a><code><span class="keyword">val</span> clear_hyps_in_evi : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> <span>&#45;&gt;</span> <a href="../Names/Id/index.html#module-Set">Names.Id.Set</a>.t <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a> * <a href="../EConstr/index.html#type-types">EConstr.types</a></code></dt><dt class="spec value" id="val-clear_hyps2_in_evi"><a href="#val-clear_hyps2_in_evi" class="anchor"></a><code><span class="keyword">val</span> clear_hyps2_in_evi : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> <span>&#45;&gt;</span> <a href="../Names/Id/index.html#module-Set">Names.Id.Set</a>.t <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a> * <a href="../EConstr/index.html#type-types">EConstr.types</a> * <a href="../EConstr/index.html#type-types">EConstr.types</a></code></dt><dt class="spec value" id="val-check_and_clear_in_constr"><a href="#val-check_and_clear_in_constr" class="anchor"></a><code><span class="keyword">val</span> check_and_clear_in_constr : <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="index.html#type-clear_dependency_error">clear_dependency_error</a> <span>&#45;&gt;</span> <a href="../Names/Id/index.html#module-Set">Names.Id.Set</a>.t <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a></code></dt></dl><dl><dt class="spec type" id="type-csubst"><a href="#type-csubst" class="anchor"></a><code><span class="keyword">type</span> csubst</code></dt></dl><dl><dt class="spec value" id="val-empty_csubst"><a href="#val-empty_csubst" class="anchor"></a><code><span class="keyword">val</span> empty_csubst : <a href="index.html#type-csubst">csubst</a></code></dt><dt class="spec value" id="val-csubst_subst"><a href="#val-csubst_subst" class="anchor"></a><code><span class="keyword">val</span> csubst_subst : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="index.html#type-csubst">csubst</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-constr">EConstr.constr</a></code></dt></dl><dl><dt class="spec type" id="type-ext_named_context"><a href="#type-ext_named_context" class="anchor"></a><code><span class="keyword">type</span> ext_named_context</code><code> = <a href="index.html#type-csubst">csubst</a> * <a href="../Names/Id/index.html#module-Set">Names.Id.Set</a>.t * <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a></code></dt></dl><dl><dt class="spec value" id="val-default_ext_instance"><a href="#val-default_ext_instance" class="anchor"></a><code><span class="keyword">val</span> default_ext_instance : <a href="index.html#type-ext_named_context">ext_named_context</a> <span>&#45;&gt;</span> <span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> <a href="../SList/index.html#type-t">SList.t</a></span></code></dt><dt class="spec value" id="val-push_rel_decl_to_named_context"><a href="#val-push_rel_decl_to_named_context" class="anchor"></a><code><span class="keyword">val</span> push_rel_decl_to_named_context : <span>hypnaming:<a href="index.html#type-naming_mode">naming_mode</a></span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-rel_declaration">EConstr.rel_declaration</a> <span>&#45;&gt;</span> <a href="index.html#type-ext_named_context">ext_named_context</a> <span>&#45;&gt;</span> <a href="index.html#type-ext_named_context">ext_named_context</a></code></dt><dt class="spec value" id="val-push_rel_context_to_named_context"><a href="#val-push_rel_context_to_named_context" class="anchor"></a><code><span class="keyword">val</span> push_rel_context_to_named_context : <span>hypnaming:<a href="index.html#type-naming_mode">naming_mode</a></span> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a> * <a href="../EConstr/index.html#type-types">EConstr.types</a> * <span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> <a href="../SList/index.html#type-t">SList.t</a></span> * <a href="index.html#type-csubst">csubst</a></code></dt><dt class="spec value" id="val-generalize_evar_over_rels"><a href="#val-generalize_evar_over_rels" class="anchor"></a><code><span class="keyword">val</span> generalize_evar_over_rels : <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-existential">EConstr.existential</a> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> * <span><a href="../EConstr/index.html#type-constr">EConstr.constr</a> list</span></code></dt><dt class="spec value" id="val-subterm_source"><a href="#val-subterm_source" class="anchor"></a><code><span class="keyword">val</span> subterm_source : <a href="../Evar/index.html#type-t">Evar.t</a> <span>&#45;&gt;</span> <span>?&#8288;where:<a href="../Evar_kinds/index.html#type-subevar_kind">Evar_kinds.subevar_kind</a></span> <span>&#45;&gt;</span> <span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span> <span>&#45;&gt;</span> <span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span></code></dt><dt class="spec value" id="val-meta_counter_summary_tag"><a href="#val-meta_counter_summary_tag" class="anchor"></a><code><span class="keyword">val</span> meta_counter_summary_tag : <span>int <a href="../Summary/Dyn/index.html#type-tag">Summary.Dyn.tag</a></span></code></dt></dl></section></div></body></html>