<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Evd (coq-core.Evd)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">coq-core</a> &#x00BB; Evd</nav><header class="odoc-preamble"><h1>Module <code><span>Evd</span></code></h1><p>This file defines the pervasive unification state used everywhere in Coq tactic engine. It is very low-level and most of the functions exported here are irrelevant to the standard API user. Consider using <a href="../Evarutil/index.html"><code>Evarutil</code></a> or <a href="../Proofview/index.html"><code>Proofview</code></a> instead.</p><p>A unification state (of type <code>evar_map</code>) is primarily a finite mapping from existential variables to records containing the type of the evar (<code>evar_concl</code>), the context under which it was introduced (<code>evar_hyps</code>) and its definition (<code>evar_body</code>). <code>evar_extra</code> is used to add any other kind of information.</p><p>It also contains conversion constraints, debugging information and information about meta variables.</p></header><nav class="odoc-toc"><ul><li><a href="#existential-variables-and-unification-states">Existential variables and unification states</a></li><li><a href="#evar-filters">Evar filters</a></li><li><a href="#evar-infos">Evar infos</a></li><li><a href="#projections-from-evar-infos">Projections from evar infos</a></li><li><a href="#derived-projections">Derived projections</a></li><li><a href="#unification-state">Unification state</a></li><li><a href="#instantiating-partial-terms">Instantiating partial terms</a></li><li><a href="#misc">Misc</a></li><li><a href="#side-effects">Side-effects</a></li><li><a href="#future-goals">Future goals</a></li><li><a href="#sort-variables">Sort variables</a></li><li><a href="#extra-data">Extra data</a></li><li><a href="#enriching-with-evar-maps">Enriching with evar maps</a></li><li><a href="#the-state-monad-with-state-an-evar-map">The state monad with state an evar map</a></li><li><a href="#meta-machinery">Meta machinery</a></li><li><a href="#fixme:-nothing-to-do-here">FIXME: Nothing to do here</a></li><li><a href="#summary-names">Summary names</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-econstr" class="anchored"><a href="#type-econstr" class="anchor"></a><code><span><span class="keyword">type</span> econstr</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-etypes" class="anchored"><a href="#type-etypes" class="anchor"></a><code><span><span class="keyword">type</span> etypes</span><span> = <a href="#type-econstr">econstr</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-esorts" class="anchored"><a href="#type-esorts" class="anchor"></a><code><span><span class="keyword">type</span> esorts</span></code></div></div><h6 id="existential-variables-and-unification-states"><a href="#existential-variables-and-unification-states" class="anchor"></a>Existential variables and unification states</h6><h6 id="evar-filters"><a href="#evar-filters" class="anchor"></a>Evar filters</h6><div class="odoc-spec"><div class="spec module" id="module-Filter" class="anchored"><a href="#module-Filter" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Filter/index.html">Filter</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Abstraction" class="anchored"><a href="#module-Abstraction" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Abstraction/index.html">Abstraction</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h6 id="evar-infos"><a href="#evar-infos" class="anchor"></a>Evar infos</h6><div class="odoc-spec"><div class="spec type" id="type-defined" class="anchored"><a href="#type-defined" class="anchor"></a><code><span><span class="keyword">type</span> defined</span><span> = </span><span>[ </span></code><table><tr id="type-defined.defined" class="anchored"><td class="def constructor"><a href="#type-defined.defined" class="anchor"></a><code><span>| </span></code><code><span>`defined</span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-undefined" class="anchored"><a href="#type-undefined" class="anchor"></a><code><span><span class="keyword">type</span> undefined</span><span> = </span><span>[ </span></code><table><tr id="type-undefined.undefined" class="anchored"><td class="def constructor"><a href="#type-undefined.undefined" class="anchor"></a><code><span>| </span></code><code><span>`undefined</span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-evar_body" class="anchored"><a href="#type-evar_body" class="anchor"></a><code><span><span class="keyword">type</span> <span>_ evar_body</span></span><span> = </span></code><table><tr id="type-evar_body.Evar_empty" class="anchored"><td class="def variant constructor"><a href="#type-evar_body.Evar_empty" class="anchor"></a><code><span>| </span><span><span class="constructor">Evar_empty</span> : <span><a href="#type-undefined">undefined</a> <a href="#type-evar_body">evar_body</a></span></span></code></td></tr><tr id="type-evar_body.Evar_defined" class="anchored"><td class="def variant constructor"><a href="#type-evar_body.Evar_defined" class="anchor"></a><code><span>| </span><span><span class="constructor">Evar_defined</span> : <a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span> <span><a href="#type-defined">defined</a> <a href="#type-evar_body">evar_body</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-evar_info" class="anchored"><a href="#type-evar_info" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a evar_info</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-any_evar_info" class="anchored"><a href="#type-any_evar_info" class="anchor"></a><code><span><span class="keyword">type</span> any_evar_info</span><span> = </span></code><table><tr id="type-any_evar_info.EvarInfo" class="anchored"><td class="def variant constructor"><a href="#type-any_evar_info.EvarInfo" class="anchor"></a><code><span>| </span><span><span class="constructor">EvarInfo</span> : <span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-any_evar_info">any_evar_info</a></span></code></td></tr></table></div></div><h6 id="projections-from-evar-infos"><a href="#projections-from-evar-infos" class="anchor"></a>Projections from evar infos</h6><div class="odoc-spec"><div class="spec value" id="val-evar_concl" class="anchored"><a href="#val-evar_concl" class="anchor"></a><code><span><span class="keyword">val</span> evar_concl : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a></span></code></div><div class="spec-doc"><p>Type of the evar.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_context" class="anchored"><a href="#val-evar_context" class="anchor"></a><code><span><span class="keyword">val</span> evar_context : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-econstr">econstr</a>, <a href="#type-etypes">etypes</a>)</span> <a href="../Context/Named/index.html#type-pt">Context.Named.pt</a></span></span></code></div><div class="spec-doc"><p>Context of the evar.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_hyps" class="anchored"><a href="#val-evar_hyps" class="anchor"></a><code><span><span class="keyword">val</span> evar_hyps : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a></span></code></div><div class="spec-doc"><p>Context of the evar.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_body" class="anchored"><a href="#val-evar_body" class="anchor"></a><code><span><span class="keyword">val</span> evar_body : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-evar_body">evar_body</a></span></span></code></div><div class="spec-doc"><p>Optional content of the evar.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_candidates" class="anchored"><a href="#val-evar_candidates" class="anchor"></a><code><span><span class="keyword">val</span> evar_candidates : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-econstr">econstr</a> list</span> option</span></span></code></div><div class="spec-doc"><p>List of possible solutions when known that it is a finite list</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_source" class="anchored"><a href="#val-evar_source" class="anchor"></a><code><span><span class="keyword">val</span> evar_source : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_filter" class="anchored"><a href="#val-evar_filter" class="anchor"></a><code><span><span class="keyword">val</span> evar_filter : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="Filter/index.html#type-t">Filter.t</a></span></code></div><div class="spec-doc"><p>Boolean mask over <a href="#val-evar_hyps"><code>evar_hyps</code></a>. Should have the same length. When filtered out, the corresponding variable is not allowed to occur in the solution</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_abstract_arguments" class="anchored"><a href="#val-evar_abstract_arguments" class="anchor"></a><code><span><span class="keyword">val</span> evar_abstract_arguments : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="Abstraction/index.html#type-t">Abstraction.t</a></span></code></div><div class="spec-doc"><p>Boolean information over <a href="#val-evar_hyps"><code>evar_hyps</code></a>, telling if an hypothesis instance can be imitated or should stay abstract in HO unification problems and inversion (see <code>second_order_matching_with_args</code> for its use).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_relevance" class="anchored"><a href="#val-evar_relevance" class="anchor"></a><code><span><span class="keyword">val</span> evar_relevance : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Sorts/index.html#type-relevance">Sorts.relevance</a></span></code></div><div class="spec-doc"><p>Relevance of the conclusion of the evar.</p></div></div><h6 id="derived-projections"><a href="#derived-projections" class="anchor"></a>Derived projections</h6><div class="odoc-spec"><div class="spec value" id="val-evar_filtered_context" class="anchored"><a href="#val-evar_filtered_context" class="anchor"></a><code><span><span class="keyword">val</span> evar_filtered_context : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-econstr">econstr</a>, <a href="#type-etypes">etypes</a>)</span> <a href="../Context/Named/index.html#type-pt">Context.Named.pt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_filtered_hyps" class="anchored"><a href="#val-evar_filtered_hyps" class="anchor"></a><code><span><span class="keyword">val</span> evar_filtered_hyps : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_env" class="anchored"><a href="#val-evar_env" class="anchor"></a><code><span><span class="keyword">val</span> evar_env : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Environ/index.html#type-env">Environ.env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_filtered_env" class="anchored"><a href="#val-evar_filtered_env" class="anchor"></a><code><span><span class="keyword">val</span> evar_filtered_env : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Environ/index.html#type-env">Environ.env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_identity_subst" class="anchored"><a href="#val-evar_identity_subst" class="anchor"></a><code><span><span class="keyword">val</span> evar_identity_subst : <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> <a href="../SList/index.html#type-t">SList.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map_evar_body" class="anchored"><a href="#val-map_evar_body" class="anchor"></a><code><span><span class="keyword">val</span> map_evar_body : <span><span>(<span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-evar_body">evar_body</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-evar_body">evar_body</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map_evar_info" class="anchored"><a href="#val-map_evar_info" class="anchor"></a><code><span><span class="keyword">val</span> map_evar_info : <span><span>(<span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span></span></code></div></div><h6 id="unification-state"><a href="#unification-state" class="anchor"></a>Unification state</h6><p>*</p><div class="odoc-spec"><div class="spec type" id="type-evar_map" class="anchored"><a href="#type-evar_map" class="anchor"></a><code><span><span class="keyword">type</span> evar_map</span></code></div><div class="spec-doc"><p>Type of unification state. Essentially a bunch of state-passing data needed to handle incremental term construction.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>The empty evar map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-from_env" class="anchored"><a href="#val-from_env" class="anchor"></a><code><span><span class="keyword">val</span> from_env : <span>?binders:<span><a href="../Names/index.html#type-lident">Names.lident</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>The empty evar map with given universe context, taking its initial universes from env, possibly with initial universe binders. This is the main entry point at the beginning of the process of interpreting a declaration (e.g. before entering the interpretation of a Theorem statement).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-from_ctx" class="anchored"><a href="#val-from_ctx" class="anchor"></a><code><span><span class="keyword">val</span> from_ctx : <span><a href="../UState/index.html#type-t">UState.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>The empty evar map with given universe context. This is the main entry point when resuming from a already interpreted declaration (e.g. after having interpreted a Theorem statement and preparing to open a goal).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_empty" class="anchored"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether an evarmap is empty.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-has_undefined" class="anchored"><a href="#val-has_undefined" class="anchor"></a><code><span><span class="keyword">val</span> has_undefined : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has_undefined sigma</code> is <code>true</code> if and only if there are uninstantiated evars in <code>sigma</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-has_given_up" class="anchored"><a href="#val-has_given_up" class="anchor"></a><code><span><span class="keyword">val</span> has_given_up : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has_given_up sigma</code> is <code>true</code> if and only if there are given up evars in <code>sigma</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-has_shelved" class="anchored"><a href="#val-has_shelved" class="anchor"></a><code><span><span class="keyword">val</span> has_shelved : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has_shelved sigma</code> is <code>true</code> if and only if there are shelved evars in <code>sigma</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new_pure_evar" class="anchored"><a href="#val-new_pure_evar" class="anchor"></a><code><span><span class="keyword">val</span> new_pure_evar : <span>?src:<span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?filter:<a href="Filter/index.html#type-t">Filter.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?relevance:<a href="../Sorts/index.html#type-relevance">Sorts.relevance</a> <span class="arrow">&#45;&gt;</span></span> <span>?abstract_arguments:<a href="Abstraction/index.html#type-t">Abstraction.t</a> <span class="arrow">&#45;&gt;</span></span>
<span>?candidates:<span><a href="#type-econstr">econstr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>?name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?typeclass_candidate:bool <span class="arrow">&#45;&gt;</span></span> <span>?principal:bool <span class="arrow">&#45;&gt;</span></span>
<span><a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-etypes">etypes</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="../Evar/index.html#type-t">Evar.t</a></span></code></div><div class="spec-doc"><p>Low-level interface to create an evar.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">src</span> <p>User-facing source for the evar</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">filter</span> <p>See <code>Evd</code>.Filter, must be the same length as <code>named_context_val</code></p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">name</span> <p>A name for the evar</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">principal</span> <p>Whether the evar is the principal goal</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">named_context_val</span> <p>The context of the evar</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">types</span> <p>The type of conclusion of the evar</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p><code>add sigma ev info</code> adds <code>ev</code> with evar info <code>info</code> in sigma. Precondition: ev must not preexist in <code>sigma</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-any_evar_info">any_evar_info</a></span></code></div><div class="spec-doc"><p>Recover the data associated to an evar.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_undefined" class="anchored"><a href="#val-find_undefined" class="anchor"></a><code><span><span class="keyword">val</span> find_undefined : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-undefined">undefined</a> <a href="#type-evar_info">evar_info</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-find"><code>find</code></a> but restricted to undefined evars. For efficiency reasons.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span><span class="keyword">val</span> remove : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Remove an evar from an evar map. Use with caution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-undefine" class="anchored"><a href="#val-undefine" class="anchor"></a><code><span><span class="keyword">val</span> undefine : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Remove the body of an evar. Only there for backward compat, do not use.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mem" class="anchored"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether an evar is present in an evarmap.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-any_evar_info">any_evar_info</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Apply a function to all evars and their associated info in an evarmap.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_undefined" class="anchored"><a href="#val-fold_undefined" class="anchor"></a><code><span><span class="keyword">val</span> fold_undefined : <span><span>(<span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-undefined">undefined</a> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-fold"><code>fold</code></a>, but restricted to undefined evars. For efficiency reasons.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-map" class="anchored"><a href="#type-map" class="anchor"></a><code><span><span class="keyword">type</span> map</span><span> = </span><span>{</span></code><table><tr id="type-map.map" class="anchored"><td class="def record field"><a href="#type-map.map" class="anchor"></a><code><span>map : r. <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'r</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'r</span> <a href="#type-evar_info">evar_info</a></span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-raw_map" class="anchored"><a href="#val-raw_map" class="anchor"></a><code><span><span class="keyword">val</span> raw_map : <span><a href="#type-map">map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Apply the given function to all evars in the map. Beware: this function expects the argument function to preserve the kind of <code>evar_body</code>, i.e. it must send <code>Evar_empty</code> to <code>Evar_empty</code> and <code>Evar_defined c</code> to some <code>Evar_defined c'</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-raw_map_undefined" class="anchored"><a href="#val-raw_map_undefined" class="anchor"></a><code><span><span class="keyword">val</span> raw_map_undefined : <span><span>(<span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-undefined">undefined</a> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-undefined">undefined</a> <a href="#type-evar_info">evar_info</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Same as <a href="#val-raw_map"><code>raw_map</code></a>, but restricted to undefined evars. For efficiency reasons.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-define" class="anchored"><a href="#val-define" class="anchor"></a><code><span><span class="keyword">val</span> define : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Set the body of an evar to the given constr. It is expected that:</p><ul><li>The evar is already present in the evarmap.</li><li>The evar is not defined in the evarmap yet.</li><li>All the evars present in the constr should be present in the evar map.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-define_with_evar" class="anchored"><a href="#val-define_with_evar" class="anchor"></a><code><span><span class="keyword">val</span> define_with_evar : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Same as <code>define ev body evd</code>, except the body must be an existential variable <code>ev'</code>. This additionally makes <code>ev'</code> inherit the <code>obligation</code> and <code>typeclass</code> flags of <code>ev</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cmap" class="anchored"><a href="#val-cmap" class="anchor"></a><code><span><span class="keyword">val</span> cmap : <span><span>(<span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Map the function on all terms in the evar map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_evar" class="anchored"><a href="#val-is_evar" class="anchor"></a><code><span><span class="keyword">val</span> is_evar : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Alias for <a href="#val-mem"><code>mem</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_defined" class="anchored"><a href="#val-is_defined" class="anchor"></a><code><span><span class="keyword">val</span> is_defined : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether an evar is defined in an evarmap.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_undefined" class="anchored"><a href="#val-is_undefined" class="anchor"></a><code><span><span class="keyword">val</span> is_undefined : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether an evar is not defined in an evarmap.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_constraints" class="anchored"><a href="#val-add_constraints" class="anchor"></a><code><span><span class="keyword">val</span> add_constraints : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Add universe constraints in an evar map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-undefined_map" class="anchored"><a href="#val-undefined_map" class="anchor"></a><code><span><span class="keyword">val</span> undefined_map : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-undefined">undefined</a> <a href="#type-evar_info">evar_info</a></span> <a href="../Evar/Map/index.html#type-t">Evar.Map.t</a></span></span></code></div><div class="spec-doc"><p>Access the undefined evar mapping directly.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-drop_all_defined" class="anchored"><a href="#val-drop_all_defined" class="anchor"></a><code><span><span class="keyword">val</span> drop_all_defined : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_maybe_typeclass_hook" class="anchored"><a href="#val-is_maybe_typeclass_hook" class="anchor"></a><code><span><span class="keyword">val</span> is_maybe_typeclass_hook : <span><span>(<span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <a href="../Hook/index.html#type-t">Hook.t</a></span></span></code></div></div><h6 id="instantiating-partial-terms"><a href="#instantiating-partial-terms" class="anchor"></a>Instantiating partial terms</h6><div class="odoc-spec"><div class="spec exception" id="exception-NotInstantiatedEvar" class="anchored"><a href="#exception-NotInstantiatedEvar" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">NotInstantiatedEvar</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-existential_value" class="anchored"><a href="#val-existential_value" class="anchor"></a><code><span><span class="keyword">val</span> existential_value : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-econstr">econstr</a> <a href="../Constr/index.html#type-pexistential">Constr.pexistential</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a></span></code></div><div class="spec-doc"><p><code>existential_value sigma ev</code> raises <code>NotInstantiatedEvar</code> if <code>ev</code> has no body and <code>Not_found</code> if it does not exist in <code>sigma</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-existential_value0" class="anchored"><a href="#val-existential_value0" class="anchor"></a><code><span><span class="keyword">val</span> existential_value0 : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-existential">Constr.existential</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-constr">Constr.constr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-existential_type" class="anchored"><a href="#val-existential_type" class="anchor"></a><code><span><span class="keyword">val</span> existential_type : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-econstr">econstr</a> <a href="../Constr/index.html#type-pexistential">Constr.pexistential</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-etypes">etypes</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-existential_type0" class="anchored"><a href="#val-existential_type0" class="anchor"></a><code><span><span class="keyword">val</span> existential_type0 : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-existential">Constr.existential</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-types">Constr.types</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-existential_opt_value" class="anchored"><a href="#val-existential_opt_value" class="anchor"></a><code><span><span class="keyword">val</span> existential_opt_value : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-econstr">econstr</a> <a href="../Constr/index.html#type-pexistential">Constr.pexistential</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> option</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-existential_value"><code>existential_value</code></a> but returns an option instead of raising an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-existential_opt_value0" class="anchored"><a href="#val-existential_opt_value0" class="anchor"></a><code><span><span class="keyword">val</span> existential_opt_value0 : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-existential">Constr.existential</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_handler" class="anchored"><a href="#val-evar_handler" class="anchor"></a><code><span><span class="keyword">val</span> evar_handler : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="../Constr/index.html#type-evar_handler">Constr.evar_handler</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-existential_expand_value0" class="anchored"><a href="#val-existential_expand_value0" class="anchor"></a><code><span><span class="keyword">val</span> existential_expand_value0 : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-existential">Constr.existential</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="../Constr/index.html#type-evar_expansion">Constr.evar_expansion</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-expand_existential" class="anchored"><a href="#val-expand_existential" class="anchor"></a><code><span><span class="keyword">val</span> expand_existential : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-econstr">econstr</a> <a href="../Constr/index.html#type-pexistential">Constr.pexistential</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> list</span></span></code></div><div class="spec-doc"><p>Returns the full evar instance with implicit default variables turned into explicit <code>Var</code> nodes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-expand_existential0" class="anchored"><a href="#val-expand_existential0" class="anchor"></a><code><span><span class="keyword">val</span> expand_existential0 : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="../Constr/index.html#type-pexistential">Constr.pexistential</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-instantiate_evar_array" class="anchored"><a href="#val-instantiate_evar_array" class="anchor"></a><code><span><span class="keyword">val</span> instantiate_evar_array : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-econstr">econstr</a> <a href="../SList/index.html#type-t">SList.t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a></span></code></div></div><h6 id="misc"><a href="#misc" class="anchor"></a>Misc</h6><div class="odoc-spec"><div class="spec value" id="val-restrict" class="anchored"><a href="#val-restrict" class="anchor"></a><code><span><span class="keyword">val</span> restrict : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Filter/index.html#type-t">Filter.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?candidates:<span><a href="#type-econstr">econstr</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>?src:<span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="../Evar/index.html#type-t">Evar.t</a></span></code></div><div class="spec-doc"><p>Restrict an undefined evar into a new evar by filtering context and possibly limiting the instances to a set of candidates (candidates are filtered according to the filter)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-update_source" class="anchored"><a href="#val-update_source" class="anchor"></a><code><span><span class="keyword">val</span> update_source : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>To update the source a posteriori, e.g. when an evar type of another evar has to refer to this other evar, with a mutual dependency</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_aliased_evars" class="anchored"><a href="#val-get_aliased_evars" class="anchor"></a><code><span><span class="keyword">val</span> get_aliased_evars : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <a href="../Evar/Map/index.html#type-t">Evar.Map.t</a></span></span></code></div><div class="spec-doc"><p>The map of aliased evars</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_aliased_evar" class="anchored"><a href="#val-is_aliased_evar" class="anchor"></a><code><span><span class="keyword">val</span> is_aliased_evar : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> option</span></span></code></div><div class="spec-doc"><p>Tell if an evar has been aliased to another evar, and if yes, which</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_typeclass_evars" class="anchored"><a href="#val-set_typeclass_evars" class="anchor"></a><code><span><span class="keyword">val</span> set_typeclass_evars : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Evar</span>.Set.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Mark the given set of evars as available for resolution.</p><p>Precondition: they should indeed refer to undefined typeclass evars.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_typeclass_evars" class="anchored"><a href="#val-get_typeclass_evars" class="anchor"></a><code><span><span class="keyword">val</span> get_typeclass_evars : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Evar</span>.Set.t</span></code></div><div class="spec-doc"><p>The set of undefined typeclass evars</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_typeclass_evar" class="anchored"><a href="#val-is_typeclass_evar" class="anchor"></a><code><span><span class="keyword">val</span> is_typeclass_evar : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Is the evar declared resolvable for typeclass resolution</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_obligation_evars" class="anchored"><a href="#val-get_obligation_evars" class="anchor"></a><code><span><span class="keyword">val</span> get_obligation_evars : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Evar</span>.Set.t</span></code></div><div class="spec-doc"><p>The set of obligation evars</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_obligation_evar" class="anchored"><a href="#val-set_obligation_evar" class="anchor"></a><code><span><span class="keyword">val</span> set_obligation_evar : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Declare an evar as an obligation</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_obligation_evar" class="anchored"><a href="#val-is_obligation_evar" class="anchor"></a><code><span><span class="keyword">val</span> is_obligation_evar : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Is the evar declared as an obligation</p></div></div><div class="odoc-spec"><div class="spec value" id="val-downcast" class="anchored"><a href="#val-downcast" class="anchor"></a><code><span><span class="keyword">val</span> downcast : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-etypes">etypes</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Change the type of an undefined evar to a new type assumed to be a subtype of its current type; subtyping must be ensured by caller</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_ident" class="anchored"><a href="#val-evar_ident" class="anchor"></a><code><span><span class="keyword">val</span> evar_ident : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rename" class="anchored"><a href="#val-rename" class="anchor"></a><code><span><span class="keyword">val</span> rename : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_key" class="anchored"><a href="#val-evar_key" class="anchor"></a><code><span><span class="keyword">val</span> evar_key : <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Evar/index.html#type-t">Evar.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_source_of_meta" class="anchored"><a href="#val-evar_source_of_meta" class="anchor"></a><code><span><span class="keyword">val</span> evar_source_of_meta : <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar_kinds/index.html#type-t">Evar_kinds.t</a> <a href="../Loc/index.html#type-located">Loc.located</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dependent_evar_ident" class="anchored"><a href="#val-dependent_evar_ident" class="anchor"></a><code><span><span class="keyword">val</span> dependent_evar_ident : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/Id/index.html#type-t">Names.Id.t</a></span></code></div></div><h6 id="side-effects"><a href="#side-effects" class="anchor"></a>Side-effects</h6><div class="odoc-spec"><div class="spec type" id="type-side_effect_role" class="anchored"><a href="#type-side_effect_role" class="anchor"></a><code><span><span class="keyword">type</span> side_effect_role</span><span> = </span></code><table><tr id="type-side_effect_role.Schema" class="anchored"><td class="def variant constructor"><a href="#type-side_effect_role.Schema" class="anchor"></a><code><span>| </span><span><span class="constructor">Schema</span> <span class="keyword">of</span> <a href="../Names/index.html#type-inductive">Names.inductive</a> * string</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-side_effects" class="anchored"><a href="#type-side_effects" class="anchor"></a><code><span><span class="keyword">type</span> side_effects</span><span> = </span><span>{</span></code><table><tr id="type-side_effects.seff_private" class="anchored"><td class="def record field"><a href="#type-side_effects.seff_private" class="anchor"></a><code><span>seff_private : <a href="../Safe_typing/index.html#type-private_constants">Safe_typing.private_constants</a>;</span></code></td></tr><tr id="type-side_effects.seff_roles" class="anchored"><td class="def record field"><a href="#type-side_effects.seff_roles" class="anchor"></a><code><span>seff_roles : <span><a href="#type-side_effect_role">side_effect_role</a> <a href="../Names/Cmap/index.html#type-t">Names.Cmap.t</a></span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_side_effects" class="anchored"><a href="#val-empty_side_effects" class="anchor"></a><code><span><span class="keyword">val</span> empty_side_effects : <a href="#type-side_effects">side_effects</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-concat_side_effects" class="anchored"><a href="#val-concat_side_effects" class="anchor"></a><code><span><span class="keyword">val</span> concat_side_effects : <span><a href="#type-side_effects">side_effects</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-side_effects">side_effects</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-side_effects">side_effects</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-emit_side_effects" class="anchored"><a href="#val-emit_side_effects" class="anchor"></a><code><span><span class="keyword">val</span> emit_side_effects : <span><a href="#type-side_effects">side_effects</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Push a side-effect into the evar map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_side_effects" class="anchored"><a href="#val-eval_side_effects" class="anchor"></a><code><span><span class="keyword">val</span> eval_side_effects : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-side_effects">side_effects</a></span></code></div><div class="spec-doc"><p>Return the effects contained in the evar map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-drop_side_effects" class="anchored"><a href="#val-drop_side_effects" class="anchor"></a><code><span><span class="keyword">val</span> drop_side_effects : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>This should not be used. For hacking purposes.</p></div></div><h6 id="future-goals"><a href="#future-goals" class="anchor"></a>Future goals</h6><div class="odoc-spec"><div class="spec value" id="val-declare_future_goal" class="anchored"><a href="#val-declare_future_goal" class="anchor"></a><code><span><span class="keyword">val</span> declare_future_goal : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Adds an existential variable to the list of future goals. For internal uses only.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-declare_principal_goal" class="anchored"><a href="#val-declare_principal_goal" class="anchor"></a><code><span><span class="keyword">val</span> declare_principal_goal : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Adds an existential variable to the list of future goals and make it principal. Only one existential variable can be made principal, an error is raised otherwise. For internal uses only.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-FutureGoals" class="anchored"><a href="#module-FutureGoals" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="FutureGoals/index.html">FutureGoals</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_future_goals" class="anchored"><a href="#val-push_future_goals" class="anchor"></a><code><span><span class="keyword">val</span> push_future_goals : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pop_future_goals" class="anchored"><a href="#val-pop_future_goals" class="anchor"></a><code><span><span class="keyword">val</span> pop_future_goals : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="FutureGoals/index.html#type-t">FutureGoals.t</a> * <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_future_goals" class="anchored"><a href="#val-fold_future_goals" class="anchor"></a><code><span><span class="keyword">val</span> fold_future_goals : <span><span>(<span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_future_goal" class="anchored"><a href="#val-remove_future_goal" class="anchor"></a><code><span><span class="keyword">val</span> remove_future_goal : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pr_future_goals_stack" class="anchored"><a href="#val-pr_future_goals_stack" class="anchor"></a><code><span><span class="keyword">val</span> pr_future_goals_stack : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_shelf" class="anchored"><a href="#val-push_shelf" class="anchor"></a><code><span><span class="keyword">val</span> push_shelf : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pop_shelf" class="anchored"><a href="#val-pop_shelf" class="anchor"></a><code><span><span class="keyword">val</span> pop_shelf : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> list</span> * <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-filter_shelf" class="anchored"><a href="#val-filter_shelf" class="anchor"></a><code><span><span class="keyword">val</span> filter_shelf : <span><span>(<span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-give_up" class="anchored"><a href="#val-give_up" class="anchor"></a><code><span><span class="keyword">val</span> give_up : <span><a href="../Evar/index.html#type-t">Evar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shelve" class="anchored"><a href="#val-shelve" class="anchor"></a><code><span><span class="keyword">val</span> shelve : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Evar/index.html#type-t">Evar.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unshelve" class="anchored"><a href="#val-unshelve" class="anchor"></a><code><span><span class="keyword">val</span> unshelve : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Evar/index.html#type-t">Evar.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-given_up" class="anchored"><a href="#val-given_up" class="anchor"></a><code><span><span class="keyword">val</span> given_up : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Evar</span>.Set.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shelf" class="anchored"><a href="#val-shelf" class="anchor"></a><code><span><span class="keyword">val</span> shelf : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Evar/index.html#type-t">Evar.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pr_shelf" class="anchored"><a href="#val-pr_shelf" class="anchor"></a><code><span><span class="keyword">val</span> pr_shelf : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><h6 id="sort-variables"><a href="#sort-variables" class="anchor"></a>Sort variables</h6><p>Evar maps also keep track of the universe constraints defined at a given point. This section defines the relevant manipulation functions.</p><div class="odoc-spec"><div class="spec exception" id="exception-UniversesDiffer" class="anchored"><a href="#exception-UniversesDiffer" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">UniversesDiffer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_universe_constraints" class="anchored"><a href="#val-add_universe_constraints" class="anchor"></a><code><span><span class="keyword">val</span> add_universe_constraints : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UnivProblem/Set/index.html#type-t">UnivProblem.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Add the given universe unification constraints to the evar map.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">UniversesDiffer</span> <p>in case a first-order unification fails.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">UniverseInconsistency</span> <p>.</p></li></ul></div></div><h6 id="extra-data"><a href="#extra-data" class="anchor"></a>Extra data</h6><p>Evar maps can contain arbitrary data, allowing to use an extensible state. As evar maps are theoretically used in a strict state-passing style, such additional data should be passed along transparently. Some old and bug-prone code tends to drop them nonetheless, so you should keep cautious.</p><div class="odoc-spec"><div class="spec module" id="module-Store" class="anchored"><a href="#module-Store" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Store/index.html">Store</a></span><span> : <a href="../Store/module-type-S/index.html">Store.S</a></span></code></div><div class="spec-doc"><p>Datatype used to store additional information in evar maps.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_extra_data" class="anchored"><a href="#val-get_extra_data" class="anchor"></a><code><span><span class="keyword">val</span> get_extra_data : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="Store/index.html#type-t">Store.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_extra_data" class="anchored"><a href="#val-set_extra_data" class="anchor"></a><code><span><span class="keyword">val</span> set_extra_data : <span><a href="Store/index.html#type-t">Store.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><h6 id="enriching-with-evar-maps"><a href="#enriching-with-evar-maps" class="anchor"></a>Enriching with evar maps</h6><div class="odoc-spec"><div class="spec type" id="type-sigma" class="anchored"><a href="#type-sigma" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a sigma</span></span><span> = </span><span>{</span></code><table><tr id="type-sigma.it" class="anchored"><td class="def record field"><a href="#type-sigma.it" class="anchor"></a><code><span>it : <span class="type-var">'a</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The base object.</p><span class="comment-delim">*)</span></td></tr><tr id="type-sigma.sigma" class="anchored"><td class="def record field"><a href="#type-sigma.sigma" class="anchor"></a><code><span>sigma : <a href="#type-evar_map">evar_map</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The added unification state.</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The type constructor <code>'a sigma</code> adds an evar map to an object of type <code>'a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sig_it" class="anchored"><a href="#val-sig_it" class="anchor"></a><code><span><span class="keyword">val</span> sig_it : <span><span><span class="type-var">'a</span> <a href="#type-sigma">sigma</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sig_sig" class="anchored"><a href="#val-sig_sig" class="anchor"></a><code><span><span class="keyword">val</span> sig_sig : <span><span><span class="type-var">'a</span> <a href="#type-sigma">sigma</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-on_sig" class="anchored"><a href="#val-on_sig" class="anchor"></a><code><span><span class="keyword">val</span> on_sig : <span><span><span class="type-var">'a</span> <a href="#type-sigma">sigma</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-sigma">sigma</a></span> * <span class="type-var">'b</span></span></code></div></div><h6 id="the-state-monad-with-state-an-evar-map"><a href="#the-state-monad-with-state-an-evar-map" class="anchor"></a>The state monad with state an evar map</h6><div class="odoc-spec"><div class="spec module" id="module-MonadR" class="anchored"><a href="#module-MonadR" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="MonadR/index.html">MonadR</a></span><span> : <a href="../Monad/module-type-S/index.html">Monad.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>+'a <a href="../Monad/module-type-S/index.html#type-t">t</a></span> = <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <span class="type-var">'a</span></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Monad" class="anchored"><a href="#module-Monad" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Monad/index.html">Monad</a></span><span> : <a href="../Monad/module-type-S/index.html">Monad.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>+'a <a href="../Monad/module-type-S/index.html#type-t">t</a></span> = <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> * <a href="#type-evar_map">evar_map</a></span></span></code></div></div><h6 id="meta-machinery"><a href="#meta-machinery" class="anchor"></a>Meta machinery</h6><p>These functions are almost deprecated. They were used before the introduction of the full-fledged evar calculus. In an ideal world, they should be removed. Alas, some parts of the code still use them. Do not use in newly-written code.</p><div class="odoc-spec"><div class="spec module" id="module-Metaset" class="anchored"><a href="#module-Metaset" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Metaset</span><span> : <a href="../Util/Set/module-type-S/index.html">Util.Set.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">elt</span> = <span class="xref-unresolved">Constr</span>.metavariable</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Metamap" class="anchored"><a href="#module-Metamap" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Metamap/index.html">Metamap</a></span><span> : <a href="../Util/Map/module-type-ExtS/index.html">Util.Map.ExtS</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../Util/Map/module-type-ExtS/index.html#type-key">key</a> = <a href="../Constr/index.html#type-metavariable">Constr.metavariable</a></span> <span class="keyword">and</span> <span><span class="keyword">module</span> <a href="../Util/Map/module-type-ExtS/Set/index.html">Set</a> := <a href="Metaset/index.html">Metaset</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-freelisted" class="anchored"><a href="#type-freelisted" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a freelisted</span></span><span> = </span><span>{</span></code><table><tr id="type-freelisted.rebus" class="anchored"><td class="def record field"><a href="#type-freelisted.rebus" class="anchor"></a><code><span>rebus : <span class="type-var">'a</span>;</span></code></td></tr><tr id="type-freelisted.freemetas" class="anchored"><td class="def record field"><a href="#type-freelisted.freemetas" class="anchor"></a><code><span>freemetas : <span class="xref-unresolved">Metaset</span>.t;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-metavars_of" class="anchored"><a href="#val-metavars_of" class="anchor"></a><code><span><span class="keyword">val</span> metavars_of : <span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Metaset</span>.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_freelisted" class="anchored"><a href="#val-mk_freelisted" class="anchor"></a><code><span><span class="keyword">val</span> mk_freelisted : <span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> <a href="#type-freelisted">freelisted</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map_fl" class="anchored"><a href="#val-map_fl" class="anchor"></a><code><span><span class="keyword">val</span> map_fl : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-freelisted">freelisted</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-freelisted">freelisted</a></span></span></code></div></div><p>Status of an instance found by unification wrt to the meta it solves:</p><ul><li>a supertype of the meta (e.g. the solution to ?X &lt;= T is a supertype of ?X)</li><li>a subtype of the meta (e.g. the solution to T &lt;= ?X is a supertype of ?X)</li><li>a term that can be eta-expanded n times while still being a solution (e.g. the solution <code>P</code> to <code>?X u v = P u v</code> can be eta-expanded twice)</li></ul><div class="odoc-spec"><div class="spec type" id="type-instance_constraint" class="anchored"><a href="#type-instance_constraint" class="anchor"></a><code><span><span class="keyword">type</span> instance_constraint</span><span> = </span></code><table><tr id="type-instance_constraint.IsSuperType" class="anchored"><td class="def variant constructor"><a href="#type-instance_constraint.IsSuperType" class="anchor"></a><code><span>| </span><span><span class="constructor">IsSuperType</span></span></code></td></tr><tr id="type-instance_constraint.IsSubType" class="anchored"><td class="def variant constructor"><a href="#type-instance_constraint.IsSubType" class="anchor"></a><code><span>| </span><span><span class="constructor">IsSubType</span></span></code></td></tr><tr id="type-instance_constraint.Conv" class="anchored"><td class="def variant constructor"><a href="#type-instance_constraint.Conv" class="anchor"></a><code><span>| </span><span><span class="constructor">Conv</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-eq_instance_constraint" class="anchored"><a href="#val-eq_instance_constraint" class="anchor"></a><code><span><span class="keyword">val</span> eq_instance_constraint : <span><a href="#type-instance_constraint">instance_constraint</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-instance_constraint">instance_constraint</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><p>Status of the unification of the type of an instance against the type of the meta it instantiates:</p><ul><li>CoerceToType means that the unification of types has not been done and that a coercion can still be inserted: the meta should not be substituted freely (this happens for instance given via the &quot;with&quot; binding clause).</li><li>TypeProcessed means that the information obtainable from the unification of types has been extracted.</li><li>TypeNotProcessed means that the unification of types has not been done but it is known that no coercion may be inserted: the meta can be substituted freely.</li></ul><div class="odoc-spec"><div class="spec type" id="type-instance_typing_status" class="anchored"><a href="#type-instance_typing_status" class="anchor"></a><code><span><span class="keyword">type</span> instance_typing_status</span><span> = </span></code><table><tr id="type-instance_typing_status.CoerceToType" class="anchored"><td class="def variant constructor"><a href="#type-instance_typing_status.CoerceToType" class="anchor"></a><code><span>| </span><span><span class="constructor">CoerceToType</span></span></code></td></tr><tr id="type-instance_typing_status.TypeNotProcessed" class="anchored"><td class="def variant constructor"><a href="#type-instance_typing_status.TypeNotProcessed" class="anchor"></a><code><span>| </span><span><span class="constructor">TypeNotProcessed</span></span></code></td></tr><tr id="type-instance_typing_status.TypeProcessed" class="anchored"><td class="def variant constructor"><a href="#type-instance_typing_status.TypeProcessed" class="anchor"></a><code><span>| </span><span><span class="constructor">TypeProcessed</span></span></code></td></tr></table></div></div><p>Status of an instance together with the status of its type unification</p><div class="odoc-spec"><div class="spec type" id="type-instance_status" class="anchored"><a href="#type-instance_status" class="anchor"></a><code><span><span class="keyword">type</span> instance_status</span><span> = <a href="#type-instance_constraint">instance_constraint</a> * <a href="#type-instance_typing_status">instance_typing_status</a></span></code></div></div><p>Clausal environments</p><div class="odoc-spec"><div class="spec type" id="type-clbinding" class="anchored"><a href="#type-clbinding" class="anchor"></a><code><span><span class="keyword">type</span> clbinding</span><span> = </span></code><table><tr id="type-clbinding.Cltyp" class="anchored"><td class="def variant constructor"><a href="#type-clbinding.Cltyp" class="anchor"></a><code><span>| </span><span><span class="constructor">Cltyp</span> <span class="keyword">of</span> <a href="../Names/Name/index.html#type-t">Names.Name.t</a> * <span><a href="#type-econstr">econstr</a> <a href="#type-freelisted">freelisted</a></span></span></code></td></tr><tr id="type-clbinding.Clval" class="anchored"><td class="def variant constructor"><a href="#type-clbinding.Clval" class="anchor"></a><code><span>| </span><span><span class="constructor">Clval</span> <span class="keyword">of</span> <a href="../Names/Name/index.html#type-t">Names.Name.t</a> * <span><a href="#type-econstr">econstr</a> <a href="#type-freelisted">freelisted</a></span> * <a href="#type-instance_status">instance_status</a> * <span><a href="#type-econstr">econstr</a> <a href="#type-freelisted">freelisted</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-conv_pb" class="anchored"><a href="#type-conv_pb" class="anchor"></a><code><span><span class="keyword">type</span> conv_pb</span><span> = <a href="../Reduction/index.html#type-conv_pb">Reduction.conv_pb</a></span></code></div><div class="spec-doc"><p>Unification constraints</p></div></div><div class="odoc-spec"><div class="spec type" id="type-evar_constraint" class="anchored"><a href="#type-evar_constraint" class="anchor"></a><code><span><span class="keyword">type</span> evar_constraint</span><span> = <a href="#type-conv_pb">conv_pb</a> * <a href="../Environ/index.html#type-env">Environ.env</a> * <a href="#type-econstr">econstr</a> * <a href="#type-econstr">econstr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_conv_pb" class="anchored"><a href="#val-add_conv_pb" class="anchor"></a><code><span><span class="keyword">val</span> add_conv_pb : <span>?tail:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_constraint">evar_constraint</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>The following two functions are for internal use only, see <code>Evarutil.add_unification_pb</code> for a safe interface.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-conv_pbs" class="anchored"><a href="#val-conv_pbs" class="anchor"></a><code><span><span class="keyword">val</span> conv_pbs : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_constraint">evar_constraint</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-extract_changed_conv_pbs" class="anchored"><a href="#val-extract_changed_conv_pbs" class="anchor"></a><code><span><span class="keyword">val</span> extract_changed_conv_pbs : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="xref-unresolved">Evar</span>.Set.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_constraint">evar_constraint</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <span><a href="#type-evar_constraint">evar_constraint</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-extract_all_conv_pbs" class="anchored"><a href="#val-extract_all_conv_pbs" class="anchor"></a><code><span><span class="keyword">val</span> extract_all_conv_pbs : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <span><a href="#type-evar_constraint">evar_constraint</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-loc_of_conv_pb" class="anchored"><a href="#val-loc_of_conv_pb" class="anchor"></a><code><span><span class="keyword">val</span> loc_of_conv_pb : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_constraint">evar_constraint</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Loc/index.html#type-t">Loc.t</a> option</span></span></code></div></div><p>The following functions return the set of undefined evars contained in the object.</p><div class="odoc-spec"><div class="spec value" id="val-evars_of_term" class="anchored"><a href="#val-evars_of_term" class="anchor"></a><code><span><span class="keyword">val</span> evars_of_term : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Evar</span>.Set.t</span></code></div><div class="spec-doc"><p>including evars in instances of evars</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evars_of_named_context" class="anchored"><a href="#val-evars_of_named_context" class="anchor"></a><code><span><span class="keyword">val</span> evars_of_named_context : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="#type-econstr">econstr</a>, <a href="#type-etypes">etypes</a>)</span> <a href="../Context/Named/index.html#type-pt">Context.Named.pt</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Evar</span>.Set.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evars_of_filtered_evar_info" class="anchored"><a href="#val-evars_of_filtered_evar_info" class="anchor"></a><code><span><span class="keyword">val</span> evars_of_filtered_evar_info : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-evar_info">evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Evar</span>.Set.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_list" class="anchored"><a href="#val-meta_list" class="anchor"></a><code><span><span class="keyword">val</span> meta_list : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-clbinding">clbinding</a> <a href="Metamap/index.html#type-t">Metamap.t</a></span></span></code></div><div class="spec-doc"><p>Metas</p></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_value" class="anchored"><a href="#val-meta_value" class="anchor"></a><code><span><span class="keyword">val</span> meta_value : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a></span></code></div><div class="spec-doc"><p><code>meta_fvalue</code> raises <code>Not_found</code> if meta not in map or <code>Anomaly</code> if meta has no value</p></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_opt_fvalue" class="anchored"><a href="#val-meta_opt_fvalue" class="anchor"></a><code><span><span class="keyword">val</span> meta_opt_fvalue : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-econstr">econstr</a> <a href="#type-freelisted">freelisted</a></span> * <a href="#type-instance_status">instance_status</a>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_ftype" class="anchored"><a href="#val-meta_ftype" class="anchor"></a><code><span><span class="keyword">val</span> meta_ftype : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-etypes">etypes</a> <a href="#type-freelisted">freelisted</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_name" class="anchored"><a href="#val-meta_name" class="anchor"></a><code><span><span class="keyword">val</span> meta_name : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/Name/index.html#type-t">Names.Name.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_declare" class="anchored"><a href="#val-meta_declare" class="anchor"></a><code><span><span class="keyword">val</span> meta_declare : <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-etypes">etypes</a> <span class="arrow">&#45;&gt;</span></span> <span>?name:<a href="../Names/Name/index.html#type-t">Names.Name.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_assign" class="anchored"><a href="#val-meta_assign" class="anchor"></a><code><span><span class="keyword">val</span> meta_assign : <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-econstr">econstr</a> * <a href="#type-instance_status">instance_status</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_reassign" class="anchored"><a href="#val-meta_reassign" class="anchor"></a><code><span><span class="keyword">val</span> meta_reassign : <span><a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-econstr">econstr</a> * <a href="#type-instance_status">instance_status</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-clear_metas" class="anchored"><a href="#val-clear_metas" class="anchor"></a><code><span><span class="keyword">val</span> clear_metas : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_merge" class="anchored"><a href="#val-meta_merge" class="anchor"></a><code><span><span class="keyword">val</span> meta_merge : <span><span><a href="#type-clbinding">clbinding</a> <a href="Metamap/index.html#type-t">Metamap.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p><code>meta_merge evd1 evd2</code> returns <code>evd2</code> extended with the metas of <code>evd1</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_metas_fvalue" class="anchored"><a href="#val-map_metas_fvalue" class="anchor"></a><code><span><span class="keyword">val</span> map_metas_fvalue : <span><span>(<span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map_metas" class="anchored"><a href="#val-map_metas" class="anchor"></a><code><span><span class="keyword">val</span> map_metas : <span><span>(<span><a href="#type-econstr">econstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-econstr">econstr</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-metabinding" class="anchored"><a href="#type-metabinding" class="anchor"></a><code><span><span class="keyword">type</span> metabinding</span><span> = <a href="../Constr/index.html#type-metavariable">Constr.metavariable</a> * <a href="#type-econstr">econstr</a> * <a href="#type-instance_status">instance_status</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-retract_coercible_metas" class="anchored"><a href="#val-retract_coercible_metas" class="anchor"></a><code><span><span class="keyword">val</span> retract_coercible_metas : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-metabinding">metabinding</a> list</span> * <a href="#type-evar_map">evar_map</a></span></code></div></div><h6 id="fixme:-nothing-to-do-here"><a href="#fixme:-nothing-to-do-here" class="anchor"></a>FIXME: Nothing to do here</h6><p>Rigid or flexible universe variables.</p><p><code>UnivRigid</code> variables are user-provided or come from an explicit <code>Type</code> in the source, we do not minimize them or unify them eagerly.</p><p><code>UnivFlexible alg</code> variables are fresh universe variables of polymorphic constants or generated during refinement, sometimes in algebraic position (i.e. not appearing in the term at the moment of creation). They are the candidates for minimization (if alg, to an algebraic universe) and unified eagerly in the first-order unification heurstic.</p><div class="odoc-spec"><div class="spec type" id="type-rigid" class="anchored"><a href="#type-rigid" class="anchor"></a><code><span><span class="keyword">type</span> rigid</span><span> = <a href="../UState/index.html#type-rigid">UState.rigid</a></span><span> = </span></code><table><tr id="type-rigid.UnivRigid" class="anchored"><td class="def variant constructor"><a href="#type-rigid.UnivRigid" class="anchor"></a><code><span>| </span><span><span class="constructor">UnivRigid</span></span></code></td></tr><tr id="type-rigid.UnivFlexible" class="anchored"><td class="def variant constructor"><a href="#type-rigid.UnivFlexible" class="anchor"></a><code><span>| </span><span><span class="constructor">UnivFlexible</span> <span class="keyword">of</span> bool</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Is substitution by an algebraic ok?</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_rigid" class="anchored"><a href="#val-univ_rigid" class="anchor"></a><code><span><span class="keyword">val</span> univ_rigid : <a href="#type-rigid">rigid</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_flexible" class="anchored"><a href="#val-univ_flexible" class="anchor"></a><code><span><span class="keyword">val</span> univ_flexible : <a href="#type-rigid">rigid</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_flexible_alg" class="anchored"><a href="#val-univ_flexible_alg" class="anchor"></a><code><span><span class="keyword">val</span> univ_flexible_alg : <a href="#type-rigid">rigid</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-in_evar_universe_context" class="anchored"><a href="#type-in_evar_universe_context" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a in_evar_universe_context</span></span><span> = <span class="type-var">'a</span> * <a href="../UState/index.html#type-t">UState.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-restrict_universe_context" class="anchored"><a href="#val-restrict_universe_context" class="anchor"></a><code><span><span class="keyword">val</span> restrict_universe_context : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/Set/index.html#type-t">Univ.Level.Set.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_of_name" class="anchored"><a href="#val-universe_of_name" class="anchor"></a><code><span><span class="keyword">val</span> universe_of_name : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/Level/index.html#type-t">Univ.Level.t</a></span></code></div><div class="spec-doc"><p>Raises Not_found if not a name for a universe in this map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_binders" class="anchored"><a href="#val-universe_binders" class="anchor"></a><code><span><span class="keyword">val</span> universe_binders : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UnivNames/index.html#type-universe_binders">UnivNames.universe_binders</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new_univ_level_variable" class="anchored"><a href="#val-new_univ_level_variable" class="anchor"></a><code><span><span class="keyword">val</span> new_univ_level_variable : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="../Univ/Level/index.html#type-t">Univ.Level.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new_sort_variable" class="anchored"><a href="#val-new_sort_variable" class="anchor"></a><code><span><span class="keyword">val</span> new_sort_variable : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="#type-esorts">esorts</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_global_univ" class="anchored"><a href="#val-add_global_univ" class="anchor"></a><code><span><span class="keyword">val</span> add_global_univ : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_rigidity" class="anchored"><a href="#val-universe_rigidity" class="anchor"></a><code><span><span class="keyword">val</span> universe_rigidity : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rigid">rigid</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_flexible_variable" class="anchored"><a href="#val-make_flexible_variable" class="anchor"></a><code><span><span class="keyword">val</span> make_flexible_variable : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span>algebraic:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>See <code>UState.make_flexible_variable</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_nonalgebraic_variable" class="anchored"><a href="#val-make_nonalgebraic_variable" class="anchor"></a><code><span><span class="keyword">val</span> make_nonalgebraic_variable : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>See <code>UState.make_nonalgebraic_variable</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_sort_variable" class="anchored"><a href="#val-is_sort_variable" class="anchor"></a><code><span><span class="keyword">val</span> is_sort_variable : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> option</span></span></code></div><div class="spec-doc"><p><code>is_sort_variable evm s</code> returns <code>Some u</code> or <code>None</code> if <code>s</code> is not a local sort variable declared in <code>evm</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_flexible_level" class="anchored"><a href="#val-is_flexible_level" class="anchor"></a><code><span><span class="keyword">val</span> is_flexible_level : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-normalize_universe_instance" class="anchored"><a href="#val-normalize_universe_instance" class="anchor"></a><code><span><span class="keyword">val</span> normalize_universe_instance : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Instance/index.html#type-t">Univ.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/Instance/index.html#type-t">Univ.Instance.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_leq_sort" class="anchored"><a href="#val-set_leq_sort" class="anchor"></a><code><span><span class="keyword">val</span> set_leq_sort : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_eq_sort" class="anchored"><a href="#val-set_eq_sort" class="anchor"></a><code><span><span class="keyword">val</span> set_eq_sort : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_eq_level" class="anchored"><a href="#val-set_eq_level" class="anchor"></a><code><span><span class="keyword">val</span> set_eq_level : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_leq_level" class="anchored"><a href="#val-set_leq_level" class="anchor"></a><code><span><span class="keyword">val</span> set_leq_level : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Level/index.html#type-t">Univ.Level.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_eq_instances" class="anchored"><a href="#val-set_eq_instances" class="anchor"></a><code><span><span class="keyword">val</span> set_eq_instances : <span>?flex:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Instance/index.html#type-t">Univ.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Instance/index.html#type-t">Univ.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_eq" class="anchored"><a href="#val-check_eq" class="anchor"></a><code><span><span class="keyword">val</span> check_eq : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_leq" class="anchored"><a href="#val-check_leq" class="anchor"></a><code><span><span class="keyword">val</span> check_leq : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-esorts">esorts</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_constraints" class="anchored"><a href="#val-check_constraints" class="anchor"></a><code><span><span class="keyword">val</span> check_constraints : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-evar_universe_context" class="anchored"><a href="#val-evar_universe_context" class="anchor"></a><code><span><span class="keyword">val</span> evar_universe_context : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UState/index.html#type-t">UState.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_context_set" class="anchored"><a href="#val-universe_context_set" class="anchor"></a><code><span><span class="keyword">val</span> universe_context_set : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_subst" class="anchored"><a href="#val-universe_subst" class="anchor"></a><code><span><span class="keyword">val</span> universe_subst : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UnivSubst/index.html#type-universe_opt_subst">UnivSubst.universe_opt_subst</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universes" class="anchored"><a href="#val-universes" class="anchor"></a><code><span><span class="keyword">val</span> universes : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UGraph/index.html#type-t">UGraph.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_universe_context" class="anchored"><a href="#val-to_universe_context" class="anchor"></a><code><span><span class="keyword">val</span> to_universe_context : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/UContext/index.html#type-t">Univ.UContext.t</a></span></code></div><div class="spec-doc"><p><code>to_universe_context evm</code> extracts the local universes and constraints of <code>evm</code> and orders the universes the same as <code>Univ.ContextSet.to_context</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-univ_entry" class="anchored"><a href="#val-univ_entry" class="anchor"></a><code><span><span class="keyword">val</span> univ_entry : <span>poly:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UState/index.html#type-named_universes_entry">UState.named_universes_entry</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_univ_decl" class="anchored"><a href="#val-check_univ_decl" class="anchor"></a><code><span><span class="keyword">val</span> check_univ_decl : <span>poly:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UState/index.html#type-universe_decl">UState.universe_decl</a> <span class="arrow">&#45;&gt;</span></span> <a href="../UState/index.html#type-named_universes_entry">UState.named_universes_entry</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-merge_universe_context" class="anchored"><a href="#val-merge_universe_context" class="anchor"></a><code><span><span class="keyword">val</span> merge_universe_context : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UState/index.html#type-t">UState.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_universe_context" class="anchored"><a href="#val-set_universe_context" class="anchor"></a><code><span><span class="keyword">val</span> set_universe_context : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../UState/index.html#type-t">UState.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-merge_context_set" class="anchored"><a href="#val-merge_context_set" class="anchor"></a><code><span><span class="keyword">val</span> merge_context_set : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?sideff:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-with_context_set" class="anchored"><a href="#val-with_context_set" class="anchor"></a><code><span><span class="keyword">val</span> with_context_set : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Univ/index.html#type-in_universe_context_set">Univ.in_universe_context_set</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-nf_univ_variables" class="anchored"><a href="#val-nf_univ_variables" class="anchor"></a><code><span><span class="keyword">val</span> nf_univ_variables : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-collapse_sort_variables" class="anchored"><a href="#val-collapse_sort_variables" class="anchor"></a><code><span><span class="keyword">val</span> collapse_sort_variables : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fix_undefined_variables" class="anchored"><a href="#val-fix_undefined_variables" class="anchor"></a><code><span><span class="keyword">val</span> fix_undefined_variables : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-minimize_universes" class="anchored"><a href="#val-minimize_universes" class="anchor"></a><code><span><span class="keyword">val</span> minimize_universes : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Universe minimization</p></div></div><div class="odoc-spec"><div class="spec value" id="val-update_sigma_univs" class="anchored"><a href="#val-update_sigma_univs" class="anchor"></a><code><span><span class="keyword">val</span> update_sigma_univs : <span><a href="../UGraph/index.html#type-t">UGraph.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Lift <code>UState.update_sigma_univs</code></p></div></div><p>Polymorphic universes</p><div class="odoc-spec"><div class="spec value" id="val-fresh_sort_in_family" class="anchored"><a href="#val-fresh_sort_in_family" class="anchor"></a><code><span><span class="keyword">val</span> fresh_sort_in_family : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?rigid:<a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sorts/index.html#type-family">Sorts.family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="#type-esorts">esorts</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fresh_constant_instance" class="anchored"><a href="#val-fresh_constant_instance" class="anchor"></a><code><span><span class="keyword">val</span> fresh_constant_instance : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?rigid:<a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="../Constr/index.html#type-pconstant">Constr.pconstant</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fresh_inductive_instance" class="anchored"><a href="#val-fresh_inductive_instance" class="anchor"></a><code><span><span class="keyword">val</span> fresh_inductive_instance : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?rigid:<a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="../Constr/index.html#type-pinductive">Constr.pinductive</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fresh_constructor_instance" class="anchored"><a href="#val-fresh_constructor_instance" class="anchor"></a><code><span><span class="keyword">val</span> fresh_constructor_instance : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?rigid:<a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/index.html#type-constructor">Names.constructor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="../Constr/index.html#type-pconstructor">Constr.pconstructor</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fresh_array_instance" class="anchored"><a href="#val-fresh_array_instance" class="anchor"></a><code><span><span class="keyword">val</span> fresh_array_instance : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?rigid:<a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="../Univ/Instance/index.html#type-t">Univ.Instance.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fresh_global" class="anchored"><a href="#val-fresh_global" class="anchor"></a><code><span><span class="keyword">val</span> fresh_global : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?rigid:<a href="#type-rigid">rigid</a> <span class="arrow">&#45;&gt;</span></span> <span>?names:<a href="../Univ/Instance/index.html#type-t">Univ.Instance.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a> * <a href="#type-econstr">econstr</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-open_constr" class="anchored"><a href="#type-open_constr" class="anchor"></a><code><span><span class="keyword">type</span> open_constr</span><span> = <a href="#type-evar_map">evar_map</a> * <a href="#type-econstr">econstr</a></span></code></div></div><p>Partially constructed constrs.</p><div class="odoc-spec"><div class="spec type" id="type-unsolvability_explanation" class="anchored"><a href="#type-unsolvability_explanation" class="anchor"></a><code><span><span class="keyword">type</span> unsolvability_explanation</span><span> = </span></code><table><tr id="type-unsolvability_explanation.SeveralInstancesFound" class="anchored"><td class="def variant constructor"><a href="#type-unsolvability_explanation.SeveralInstancesFound" class="anchor"></a><code><span>| </span><span><span class="constructor">SeveralInstancesFound</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Failure explanation.</p><span class="comment-delim">*)</span></td></tr></table></div></div><h6 id="summary-names"><a href="#summary-names" class="anchor"></a>Summary names</h6><div class="odoc-spec"><div class="spec value" id="val-evar_counter_summary_tag" class="anchored"><a href="#val-evar_counter_summary_tag" class="anchor"></a><code><span><span class="keyword">val</span> evar_counter_summary_tag : <span>int <a href="../Summary/Dyn/index.html#type-tag">Summary.Dyn.tag</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create_evar_defs" class="anchored"><a href="#val-create_evar_defs" class="anchor"></a><code><span><span class="keyword">val</span> create_evar_defs : <span><a href="#type-evar_map">evar_map</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-evar_map">evar_map</a></span></code></div><div class="spec-doc"><p>Deprecated functions</p></div></div><p>Create an <code>evar_map</code> with empty meta map:</p><div class="odoc-spec"><div class="spec module" id="module-MiniEConstr" class="anchored"><a href="#module-MiniEConstr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="MiniEConstr/index.html">MiniEConstr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Use this module only to bootstrap EConstr</p></div></div></div></body></html>