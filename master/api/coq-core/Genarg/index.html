<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Genarg (coq-core.Genarg)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">coq-core</a> &#x00BB; Genarg</nav><header class="odoc-preamble"><h1>Module <code><span>Genarg</span></code></h1><p>Generic arguments used by the extension mechanisms of several Coq ASTs.</p></header><nav class="odoc-toc"><ul><li><a href="#generic-types">Generic types</a></li><li><a href="#specialized-types">Specialized types</a></li><li><a href="#projections">Projections</a></li><li><a href="#generic-arguments">Generic arguments</a></li><li><a href="#constructors">Constructors</a></li><li><a href="#type-reification">Type reification</a></li><li><a href="#equalities">Equalities</a></li><li><a href="#registering-genarg-manipulating-functions">Registering genarg-manipulating functions</a></li><li><a href="#substitution-functions">Substitution functions</a></li><li><a href="#compatibility-layer">Compatibility layer</a></li></ul></nav><div class="odoc-content"><p>The route of a generic argument, from parsing to evaluation. In the following diagram, &quot;object&quot; can be ltac_expr, constr, tactic_value, etc.</p><p><code> \begin{verbatim} </code> parsing in_raw out_raw char stream ---&gt; raw_object ---&gt; raw_object generic_argument -------+ encapsulation decaps| | V raw_object | globalization | V glob_object | encaps | in_glob | V glob_object generic_argument | out in out_glob | object &lt;--- object generic_argument &lt;--- object &lt;--- glob_object &lt;---+ | decaps encaps interp decaps | V effective use <code> \end{verbatim} </code></p><p>To distinguish between the uninterpreted, globalized and interpreted worlds, we annotate the type <code>generic_argument</code> by a phantom argument.</p><h6 id="generic-types"><a href="#generic-types" class="anchor"></a>Generic types</h6><div class="odoc-spec"><div class="spec module" id="module-ArgT" class="anchored"><a href="#module-ArgT" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="ArgT/index.html">ArgT</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-genarg_type" class="anchored"><a href="#type-genarg_type" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, _, _) genarg_type</span></span><span> = </span></code><table><tr id="type-genarg_type.ExtraArg" class="anchored"><td class="def variant constructor"><a href="#type-genarg_type.ExtraArg" class="anchor"></a><code><span>| </span><span><span class="constructor">ExtraArg</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="ArgT/index.html#type-tag">ArgT.tag</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></td></tr><tr id="type-genarg_type.ListArg" class="anchored"><td class="def variant constructor"><a href="#type-genarg_type.ListArg" class="anchor"></a><code><span>| </span><span><span class="constructor">ListArg</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> list</span>, <span><span class="type-var">'b</span> list</span>, <span><span class="type-var">'c</span> list</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></td></tr><tr id="type-genarg_type.OptArg" class="anchored"><td class="def variant constructor"><a href="#type-genarg_type.OptArg" class="anchor"></a><code><span>| </span><span><span class="constructor">OptArg</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> option</span>, <span><span class="type-var">'b</span> option</span>, <span><span class="type-var">'c</span> option</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></td></tr><tr id="type-genarg_type.PairArg" class="anchored"><td class="def variant constructor"><a href="#type-genarg_type.PairArg" class="anchor"></a><code><span>| </span><span><span class="constructor">PairArg</span> : <span><span>(<span class="type-var">'a1</span>, <span class="type-var">'b1</span>, <span class="type-var">'c1</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> * <span><span>(<span class="type-var">'a2</span>, <span class="type-var">'b2</span>, <span class="type-var">'c2</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span>, <span class="type-var">'b1</span> * <span class="type-var">'b2</span>, <span class="type-var">'c1</span> * <span class="type-var">'c2</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></td></tr></table></div><div class="spec-doc"><p>Generic types. The first parameter is the OCaml lowest level, the second one is the globalized level, and third one the internalized level.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-uniform_genarg_type" class="anchored"><a href="#type-uniform_genarg_type" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a uniform_genarg_type</span></span><span> = <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></div><div class="spec-doc"><p>Alias for concision when the three types agree.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-vernac_genarg_type" class="anchored"><a href="#type-vernac_genarg_type" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a vernac_genarg_type</span></span><span> = <span><span>(<span class="type-var">'a</span>, <a href="../Util/Empty/index.html#type-t">Util.Empty.t</a>, <a href="../Util/Empty/index.html#type-t">Util.Empty.t</a>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></div><div class="spec-doc"><p>Produced by VERNAC ARGUMENT EXTEND</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make0" class="anchored"><a href="#val-make0" class="anchor"></a><code><span><span class="keyword">val</span> make0 : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'raw</span>, <span class="type-var">'glob</span>, <span class="type-var">'top</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></div><div class="spec-doc"><p>Create a new generic type of argument: force to associate unique ML types at each of the three levels.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_arg" class="anchored"><a href="#val-create_arg" class="anchor"></a><code><span><span class="keyword">val</span> create_arg : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'raw</span>, <span class="type-var">'glob</span>, <span class="type-var">'top</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></div><div class="spec-doc"><p>Alias for <code>make0</code>.</p></div></div><h6 id="specialized-types"><a href="#specialized-types" class="anchor"></a>Specialized types</h6><p>All of <code>rlevel</code>, <code>glevel</code> and <code>tlevel</code> must be non convertible to ensure the injectivity of the GADT type inference.</p><div class="odoc-spec"><div class="spec type" id="type-rlevel" class="anchored"><a href="#type-rlevel" class="anchor"></a><code><span><span class="keyword">type</span> rlevel</span><span> = </span><span>[ </span></code><table><tr id="type-rlevel.rlevel" class="anchored"><td class="def constructor"><a href="#type-rlevel.rlevel" class="anchor"></a><code><span>| </span></code><code><span>`rlevel</span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-glevel" class="anchored"><a href="#type-glevel" class="anchor"></a><code><span><span class="keyword">type</span> glevel</span><span> = </span><span>[ </span></code><table><tr id="type-glevel.glevel" class="anchored"><td class="def constructor"><a href="#type-glevel.glevel" class="anchor"></a><code><span>| </span></code><code><span>`glevel</span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-tlevel" class="anchored"><a href="#type-tlevel" class="anchor"></a><code><span><span class="keyword">type</span> tlevel</span><span> = </span><span>[ </span></code><table><tr id="type-tlevel.tlevel" class="anchored"><td class="def constructor"><a href="#type-tlevel.tlevel" class="anchor"></a><code><span>| </span></code><code><span>`tlevel</span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-abstract_argument_type" class="anchored"><a href="#type-abstract_argument_type" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, _) abstract_argument_type</span></span><span> = </span></code><table><tr id="type-abstract_argument_type.Rawwit" class="anchored"><td class="def variant constructor"><a href="#type-abstract_argument_type.Rawwit" class="anchor"></a><code><span>| </span><span><span class="constructor">Rawwit</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <a href="#type-rlevel">rlevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></td></tr><tr id="type-abstract_argument_type.Glbwit" class="anchored"><td class="def variant constructor"><a href="#type-abstract_argument_type.Glbwit" class="anchor"></a><code><span>| </span><span><span class="constructor">Glbwit</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <a href="#type-glevel">glevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></td></tr><tr id="type-abstract_argument_type.Topwit" class="anchored"><td class="def variant constructor"><a href="#type-abstract_argument_type.Topwit" class="anchor"></a><code><span>| </span><span><span class="constructor">Topwit</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <a href="#type-tlevel">tlevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></td></tr></table></div><div class="spec-doc"><p>Generic types at a fixed level. The first parameter embeds the OCaml type and the second one the level.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-raw_abstract_argument_type" class="anchored"><a href="#type-raw_abstract_argument_type" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a raw_abstract_argument_type</span></span><span> = <span><span>(<span class="type-var">'a</span>, <a href="#type-rlevel">rlevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></div><div class="spec-doc"><p>Specialized type at raw level.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-glob_abstract_argument_type" class="anchored"><a href="#type-glob_abstract_argument_type" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a glob_abstract_argument_type</span></span><span> = <span><span>(<span class="type-var">'a</span>, <a href="#type-glevel">glevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></div><div class="spec-doc"><p>Specialized type at globalized level.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-typed_abstract_argument_type" class="anchored"><a href="#type-typed_abstract_argument_type" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a typed_abstract_argument_type</span></span><span> = <span><span>(<span class="type-var">'a</span>, <a href="#type-tlevel">tlevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></div><div class="spec-doc"><p>Specialized type at internalized level.</p></div></div><h6 id="projections"><a href="#projections" class="anchor"></a>Projections</h6><div class="odoc-spec"><div class="spec value" id="val-rawwit" class="anchored"><a href="#val-rawwit" class="anchor"></a><code><span><span class="keyword">val</span> rawwit : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <a href="#type-rlevel">rlevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></div><div class="spec-doc"><p>Projection on the raw type constructor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-glbwit" class="anchored"><a href="#val-glbwit" class="anchor"></a><code><span><span class="keyword">val</span> glbwit : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <a href="#type-glevel">glevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></div><div class="spec-doc"><p>Projection on the globalized type constructor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-topwit" class="anchored"><a href="#val-topwit" class="anchor"></a><code><span><span class="keyword">val</span> topwit : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>, <a href="#type-tlevel">tlevel</a>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span></span></code></div><div class="spec-doc"><p>Projection on the internalized type constructor.</p></div></div><h6 id="generic-arguments"><a href="#generic-arguments" class="anchor"></a>Generic arguments</h6><div class="odoc-spec"><div class="spec type" id="type-generic_argument" class="anchored"><a href="#type-generic_argument" class="anchor"></a><code><span><span class="keyword">type</span> <span>'l generic_argument</span></span><span> = </span></code><table><tr id="type-generic_argument.GenArg" class="anchored"><td class="def variant constructor"><a href="#type-generic_argument.GenArg" class="anchor"></a><code><span>| </span><span><span class="constructor">GenArg</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'l</span>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span> * <span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span> <span><span class="type-var">'l</span> <a href="#type-generic_argument">generic_argument</a></span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A inhabitant of <code>'level generic_argument</code> is a inhabitant of some type at level <code>'level</code>, together with the representation of this type.</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-raw_generic_argument" class="anchored"><a href="#type-raw_generic_argument" class="anchor"></a><code><span><span class="keyword">type</span> raw_generic_argument</span><span> = <span><a href="#type-rlevel">rlevel</a> <a href="#type-generic_argument">generic_argument</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-glob_generic_argument" class="anchored"><a href="#type-glob_generic_argument" class="anchor"></a><code><span><span class="keyword">type</span> glob_generic_argument</span><span> = <span><a href="#type-glevel">glevel</a> <a href="#type-generic_argument">generic_argument</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-typed_generic_argument" class="anchored"><a href="#type-typed_generic_argument" class="anchor"></a><code><span><span class="keyword">type</span> typed_generic_argument</span><span> = <span><a href="#type-tlevel">tlevel</a> <a href="#type-generic_argument">generic_argument</a></span></span></code></div></div><h6 id="constructors"><a href="#constructors" class="anchor"></a>Constructors</h6><div class="odoc-spec"><div class="spec value" id="val-in_gen" class="anchored"><a href="#val-in_gen" class="anchor"></a><code><span><span class="keyword">val</span> in_gen : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'co</span>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'co</span> <a href="#type-generic_argument">generic_argument</a></span></span></code></div><div class="spec-doc"><p><code>in_gen t x</code> embeds an argument of type <code>t</code> into a generic argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-out_gen" class="anchored"><a href="#val-out_gen" class="anchor"></a><code><span><span class="keyword">val</span> out_gen : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'co</span>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'co</span> <a href="#type-generic_argument">generic_argument</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>out_gen t x</code> recovers an argument of type <code>t</code> from a generic argument. It fails if <code>x</code> has not the right dynamic type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-has_type" class="anchored"><a href="#val-has_type" class="anchor"></a><code><span><span class="keyword">val</span> has_type : <span><span><span class="type-var">'co</span> <a href="#type-generic_argument">generic_argument</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'co</span>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has_type v t</code> tells whether <code>v</code> has type <code>t</code>. If true, it ensures that <code>out_gen t v</code> will not raise a dynamic type exception.</p></div></div><h6 id="type-reification"><a href="#type-reification" class="anchor"></a>Type reification</h6><div class="odoc-spec"><div class="spec type" id="type-argument_type" class="anchored"><a href="#type-argument_type" class="anchor"></a><code><span><span class="keyword">type</span> argument_type</span><span> = </span></code><table><tr id="type-argument_type.ArgumentType" class="anchored"><td class="def variant constructor"><a href="#type-argument_type.ArgumentType" class="anchor"></a><code><span>| </span><span><span class="constructor">ArgumentType</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-argument_type">argument_type</a></span></code></td></tr></table></div></div><h6 id="equalities"><a href="#equalities" class="anchor"></a>Equalities</h6><div class="odoc-spec"><div class="spec value" id="val-argument_type_eq" class="anchored"><a href="#val-argument_type_eq" class="anchor"></a><code><span><span class="keyword">val</span> argument_type_eq : <span><a href="#type-argument_type">argument_type</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-argument_type">argument_type</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-genarg_type_eq" class="anchored"><a href="#val-genarg_type_eq" class="anchor"></a><code><span><span class="keyword">val</span> genarg_type_eq : <span><span><span>(<span class="type-var">'a1</span>, <span class="type-var">'b1</span>, <span class="type-var">'c1</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a2</span>, <span class="type-var">'b2</span>, <span class="type-var">'c2</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a1</span> * <span class="type-var">'b1</span> * <span class="type-var">'c1</span>, <span class="type-var">'a2</span> * <span class="type-var">'b2</span> * <span class="type-var">'c2</span>)</span> <a href="../CSig/index.html#type-eq">CSig.eq</a></span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-abstract_argument_type_eq" class="anchored"><a href="#val-abstract_argument_type_eq" class="anchor"></a><code><span><span class="keyword">val</span> abstract_argument_type_eq : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'l</span>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'l</span>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../CSig/index.html#type-eq">CSig.eq</a></span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pr_argument_type" class="anchored"><a href="#val-pr_argument_type" class="anchor"></a><code><span><span class="keyword">val</span> pr_argument_type : <span><a href="#type-argument_type">argument_type</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div><div class="spec-doc"><p>Print a human-readable representation for a given type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-genarg_tag" class="anchored"><a href="#val-genarg_tag" class="anchor"></a><code><span><span class="keyword">val</span> genarg_tag : <span><span><span class="type-var">'a</span> <a href="#type-generic_argument">generic_argument</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-argument_type">argument_type</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unquote" class="anchored"><a href="#val-unquote" class="anchor"></a><code><span><span class="keyword">val</span> unquote : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'co</span>)</span> <a href="#type-abstract_argument_type">abstract_argument_type</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-argument_type">argument_type</a></span></code></div></div><h6 id="registering-genarg-manipulating-functions"><a href="#registering-genarg-manipulating-functions" class="anchor"></a>Registering genarg-manipulating functions</h6><p>This is boilerplate code used here and there in the code of Coq.</p><div class="odoc-spec"><div class="spec value" id="val-get_arg_tag" class="anchored"><a href="#val-get_arg_tag" class="anchor"></a><code><span><span class="keyword">val</span> get_arg_tag : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="ArgT/index.html#type-tag">ArgT.tag</a></span></span></code></div><div class="spec-doc"><p>Works only on base objects (ExtraArg), otherwise fails badly.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-GenObj" class="anchored"><a href="#module-type-GenObj" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-GenObj/index.html">GenObj</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Register" class="anchored"><a href="#module-Register" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Register/index.html">Register</a></span><span> (<a href="Register/argument-1-M/index.html">M</a> : <a href="module-type-GenObj/index.html">GenObj</a>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Warning: although the following APIs use <code>genarg_type</code> the values must always be <code>ExtraArg some_tag</code>.</p></div></div><h6 id="substitution-functions"><a href="#substitution-functions" class="anchor"></a>Substitution functions</h6><div class="odoc-spec"><div class="spec type" id="type-subst_fun" class="anchored"><a href="#type-subst_fun" class="anchor"></a><code><span><span class="keyword">type</span> <span>'glb subst_fun</span></span><span> = <span><a href="../Mod_subst/index.html#type-substitution">Mod_subst.substitution</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'glb</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'glb</span></span></code></div><div class="spec-doc"><p>The type of functions used for substituting generic arguments.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-substitute" class="anchored"><a href="#val-substitute" class="anchor"></a><code><span><span class="keyword">val</span> substitute : <span><span><span>(<span class="type-var">'raw</span>, <span class="type-var">'glb</span>, <span class="type-var">'top</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'glb</span> <a href="#type-subst_fun">subst_fun</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-generic_substitute" class="anchored"><a href="#val-generic_substitute" class="anchor"></a><code><span><span class="keyword">val</span> generic_substitute : <span><a href="#type-glob_generic_argument">glob_generic_argument</a> <a href="#type-subst_fun">subst_fun</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-register_subst0" class="anchored"><a href="#val-register_subst0" class="anchor"></a><code><span><span class="keyword">val</span> register_subst0 : <span><span><span>(<span class="type-var">'raw</span>, <span class="type-var">'glb</span>, <span class="type-var">'top</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'glb</span> <a href="#type-subst_fun">subst_fun</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h6 id="compatibility-layer"><a href="#compatibility-layer" class="anchor"></a>Compatibility layer</h6><p>The functions below are aliases for generic_type constructors.</p><div class="odoc-spec"><div class="spec value" id="val-wit_list" class="anchored"><a href="#val-wit_list" class="anchor"></a><code><span><span class="keyword">val</span> wit_list : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> list</span>, <span><span class="type-var">'b</span> list</span>, <span><span class="type-var">'c</span> list</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wit_opt" class="anchored"><a href="#val-wit_opt" class="anchor"></a><code><span><span class="keyword">val</span> wit_opt : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> option</span>, <span><span class="type-var">'b</span> option</span>, <span><span class="type-var">'c</span> option</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wit_pair" class="anchored"><a href="#val-wit_pair" class="anchor"></a><code><span><span class="keyword">val</span> wit_pair : <span><span><span>(<span class="type-var">'a1</span>, <span class="type-var">'b1</span>, <span class="type-var">'c1</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a2</span>, <span class="type-var">'b2</span>, <span class="type-var">'c2</span>)</span> <a href="#type-genarg_type">genarg_type</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a1</span> * <span class="type-var">'a2</span>, <span class="type-var">'b1</span> * <span class="type-var">'b2</span>, <span class="type-var">'c1</span> * <span class="type-var">'c2</span>)</span> <a href="#type-genarg_type">genarg_type</a></span></span></code></div></div></div></body></html>