<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Attributes (coq-core.Attributes)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Attributes</nav><header class="odoc-preamble"><h1>Module <code><span>Attributes</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-vernac_flag_type" class="anchored"><a href="#type-vernac_flag_type" class="anchor"></a><code><span><span class="keyword">type</span> vernac_flag_type</span><span> = </span></code><table><tr id="type-vernac_flag_type.FlagIdent" class="anchored"><td class="def variant constructor"><a href="#type-vernac_flag_type.FlagIdent" class="anchor"></a><code><span>| </span><span><span class="constructor">FlagIdent</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-vernac_flag_type.FlagString" class="anchored"><td class="def variant constructor"><a href="#type-vernac_flag_type.FlagString" class="anchor"></a><code><span>| </span><span><span class="constructor">FlagString</span> <span class="keyword">of</span> string</span></code></td></tr></table></div><div class="spec-doc"><p>The type of parsing attribute data</p></div></div><div class="odoc-spec"><div class="spec type" id="type-vernac_flags" class="anchored"><a href="#type-vernac_flags" class="anchor"></a><code><span><span class="keyword">type</span> vernac_flags</span><span> = <span><a href="#type-vernac_flag">vernac_flag</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-vernac_flag" class="anchored"><a href="#type-vernac_flag" class="anchor"></a><code><span><span class="keyword">and</span> vernac_flag</span><span> = <span><span>(string * <a href="#type-vernac_flag_value">vernac_flag_value</a>)</span> <a href="../CAst/index.html#type-t">CAst.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-vernac_flag_value" class="anchored"><a href="#type-vernac_flag_value" class="anchor"></a><code><span><span class="keyword">and</span> vernac_flag_value</span><span> = </span></code><table><tr id="type-vernac_flag_value.VernacFlagEmpty" class="anchored"><td class="def variant constructor"><a href="#type-vernac_flag_value.VernacFlagEmpty" class="anchor"></a><code><span>| </span><span><span class="constructor">VernacFlagEmpty</span></span></code></td></tr><tr id="type-vernac_flag_value.VernacFlagLeaf" class="anchored"><td class="def variant constructor"><a href="#type-vernac_flag_value.VernacFlagLeaf" class="anchor"></a><code><span>| </span><span><span class="constructor">VernacFlagLeaf</span> <span class="keyword">of</span> <a href="#type-vernac_flag_type">vernac_flag_type</a></span></code></td></tr><tr id="type-vernac_flag_value.VernacFlagList" class="anchored"><td class="def variant constructor"><a href="#type-vernac_flag_value.VernacFlagList" class="anchor"></a><code><span>| </span><span><span class="constructor">VernacFlagList</span> <span class="keyword">of</span> <a href="#type-vernac_flags">vernac_flags</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-pr_vernac_flag" class="anchored"><a href="#val-pr_vernac_flag" class="anchor"></a><code><span><span class="keyword">val</span> pr_vernac_flag : <span><a href="#type-vernac_flag">vernac_flag</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pp/index.html#type-t">Pp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-attribute" class="anchored"><a href="#type-attribute" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a attribute</span></span></code></div><div class="spec-doc"><p>The type of attributes. When parsing attributes if an <code>'a
   attribute</code> is present then an <code>'a</code> value will be produced. In the most general case, an attribute transforms the raw flags along with its value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse" class="anchored"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : <span><span><span class="type-var">'a</span> <a href="#type-attribute">attribute</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-vernac_flags">vernac_flags</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Errors on unsupported attributes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsupported_attributes" class="anchored"><a href="#val-unsupported_attributes" class="anchor"></a><code><span><span class="keyword">val</span> unsupported_attributes : <span><a href="#type-vernac_flags">vernac_flags</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Errors if the list of flags is nonempty.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Notations" class="anchored"><a href="#module-Notations" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Notations/index.html">Notations</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Notations to combine attributes.</p></div></div><p>Definitions for some standard attributes.</p><div class="odoc-spec"><div class="spec value" id="val-raw_attributes" class="anchored"><a href="#val-raw_attributes" class="anchor"></a><code><span><span class="keyword">val</span> raw_attributes : <span><a href="#type-vernac_flags">vernac_flags</a> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-polymorphic" class="anchored"><a href="#val-polymorphic" class="anchor"></a><code><span><span class="keyword">val</span> polymorphic : <span>bool <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-program" class="anchored"><a href="#val-program" class="anchor"></a><code><span><span class="keyword">val</span> program : <span>bool <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-template" class="anchored"><a href="#val-template" class="anchor"></a><code><span><span class="keyword">val</span> template : <span><span>bool option</span> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-locality" class="anchored"><a href="#val-locality" class="anchor"></a><code><span><span class="keyword">val</span> locality : <span><span>bool option</span> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-option_locality" class="anchored"><a href="#val-option_locality" class="anchor"></a><code><span><span class="keyword">val</span> option_locality : <span><a href="../Goptions/index.html#type-option_locality">Goptions.option_locality</a> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-deprecation" class="anchored"><a href="#val-deprecation" class="anchor"></a><code><span><span class="keyword">val</span> deprecation : <span><span><a href="../Deprecation/index.html#type-t">Deprecation.t</a> option</span> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-reversible" class="anchored"><a href="#val-reversible" class="anchor"></a><code><span><span class="keyword">val</span> reversible : <span><span>bool option</span> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-canonical_field" class="anchored"><a href="#val-canonical_field" class="anchor"></a><code><span><span class="keyword">val</span> canonical_field : <span>bool <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-canonical_instance" class="anchored"><a href="#val-canonical_instance" class="anchor"></a><code><span><span class="keyword">val</span> canonical_instance : <span>bool <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-using" class="anchored"><a href="#val-using" class="anchor"></a><code><span><span class="keyword">val</span> using : <span><span>string option</span> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hint_locality" class="anchored"><a href="#val-hint_locality" class="anchor"></a><code><span><span class="keyword">val</span> hint_locality : <span>default:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../Hints/index.html#type-hint_locality">Hints.hint_locality</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Hints/index.html#type-hint_locality">Hints.hint_locality</a> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bind_scope_where" class="anchored"><a href="#val-bind_scope_where" class="anchor"></a><code><span><span class="keyword">val</span> bind_scope_where : <span><span><a href="../Notation/index.html#type-add_scope_where">Notation.add_scope_where</a> option</span> <a href="#type-attribute">attribute</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-really_hint_locality" class="anchored"><a href="#val-really_hint_locality" class="anchor"></a><code><span><span class="keyword">val</span> really_hint_locality : <span><a href="../Hints/index.html#type-hint_locality">Hints.hint_locality</a> <a href="#type-attribute">attribute</a></span></span></code></div><div class="spec-doc"><p>With the warning for Hint (and not for Instance etc)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-typing_flags" class="anchored"><a href="#val-typing_flags" class="anchor"></a><code><span><span class="keyword">val</span> typing_flags : <span><span><a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> option</span> <a href="#type-attribute">attribute</a></span></span></code></div><div class="spec-doc"><p>Enable/Disable universe checking</p></div></div><div class="odoc-spec"><div class="spec value" id="val-program_mode_option_name" class="anchored"><a href="#val-program_mode_option_name" class="anchor"></a><code><span><span class="keyword">val</span> program_mode_option_name : <span>string list</span></span></code></div><div class="spec-doc"><p>For internal use when messing with the global option.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-only_locality" class="anchored"><a href="#val-only_locality" class="anchor"></a><code><span><span class="keyword">val</span> only_locality : <span><a href="#type-vernac_flags">vernac_flags</a> <span class="arrow">&#45;&gt;</span></span> <span>bool option</span></span></code></div><div class="spec-doc"><p>Parse attributes allowing only locality.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-only_polymorphism" class="anchored"><a href="#val-only_polymorphism" class="anchor"></a><code><span><span class="keyword">val</span> only_polymorphism : <span><a href="#type-vernac_flags">vernac_flags</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Parse attributes allowing only polymorphism. Uses the global flag for the default value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_drop_extra" class="anchored"><a href="#val-parse_drop_extra" class="anchor"></a><code><span><span class="keyword">val</span> parse_drop_extra : <span><span><span class="type-var">'a</span> <a href="#type-attribute">attribute</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-vernac_flags">vernac_flags</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Ignores unsupported attributes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_with_extra" class="anchored"><a href="#val-parse_with_extra" class="anchor"></a><code><span><span class="keyword">val</span> parse_with_extra : <span><span><span class="type-var">'a</span> <a href="#type-attribute">attribute</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-vernac_flags">vernac_flags</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-vernac_flags">vernac_flags</a> * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Returns unsupported attributes.</p></div></div><p>* Defining attributes.</p><div class="odoc-spec"><div class="spec type" id="type-key_parser" class="anchored"><a href="#type-key_parser" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a key_parser</span></span><span> = <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-vernac_flag_value">vernac_flag_value</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>A parser for some key in an attribute. It is given a nonempty <code>'a
    option</code> when the attribute is multiply set for some command.</p><p>eg in <code>#[polymorphic] Monomorphic Definition foo := ...</code>, when parsing <code>Monomorphic</code> it will be given <code>Some true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-attribute_of_list" class="anchored"><a href="#val-attribute_of_list" class="anchor"></a><code><span><span class="keyword">val</span> attribute_of_list : <span><span><span>(string * <span><span class="type-var">'a</span> <a href="#type-key_parser">key_parser</a></span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-attribute">attribute</a></span></span></code></div><div class="spec-doc"><p>Make an attribute from a list of key parsers together with their associated key.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bool_attribute" class="anchored"><a href="#val-bool_attribute" class="anchor"></a><code><span><span class="keyword">val</span> bool_attribute : <span>name:string <span class="arrow">&#45;&gt;</span></span> <span><span>bool option</span> <a href="#type-attribute">attribute</a></span></span></code></div><div class="spec-doc"><p>Define boolean attribute <code>name</code>, of the form <code>name={yes,no}</code>. The attribute may only be set once for a command.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-qualify_attribute" class="anchored"><a href="#val-qualify_attribute" class="anchor"></a><code><span><span class="keyword">val</span> qualify_attribute : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-attribute">attribute</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-attribute">attribute</a></span></span></code></div><div class="spec-doc"><p><code>qualified_attribute qual att</code> treats <code>#[qual(atts)]</code> like <code>att</code> treats <code>atts</code>.</p></div></div><p>Combinators to help define your own parsers. See the implementation of <code>bool_attribute</code> for practical use.</p><div class="odoc-spec"><div class="spec value" id="val-assert_empty" class="anchored"><a href="#val-assert_empty" class="anchor"></a><code><span><span class="keyword">val</span> assert_empty : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-vernac_flag_value">vernac_flag_value</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>assert_empty key v</code> errors if <code>v</code> is not empty. <code>key</code> is used in the error message as the name of the attribute.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-assert_once" class="anchored"><a href="#val-assert_once" class="anchor"></a><code><span><span class="keyword">val</span> assert_once : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>name:string <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>assert_once ~name v</code> errors if <code>v</code> is not empty. <code>name</code> is used in the error message as the name of the attribute. Used to ensure that a given attribute is not reapeated.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-single_key_parser" class="anchored"><a href="#val-single_key_parser" class="anchor"></a><code><span><span class="keyword">val</span> single_key_parser : <span>name:string <span class="arrow">&#45;&gt;</span></span> <span>key:string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-key_parser">key_parser</a></span></span></code></div><div class="spec-doc"><p><code>single_key_parser ~name ~key v</code> makes a parser for attribute <code>name</code> giving the constant value <code>v</code> for key <code>key</code> taking no arguments. <code>name</code> may only be given once.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_attribute" class="anchored"><a href="#val-make_attribute" class="anchor"></a><code><span><span class="keyword">val</span> make_attribute : <span><span>(<span><a href="#type-vernac_flags">vernac_flags</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-vernac_flags">vernac_flags</a> * <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-attribute">attribute</a></span></span></code></div><div class="spec-doc"><p>Make an attribute using the internal representation, thus with access to the full power of attributes. Unstable.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-vernac_polymorphic_flag" class="anchored"><a href="#val-vernac_polymorphic_flag" class="anchor"></a><code><span><span class="keyword">val</span> vernac_polymorphic_flag : <span><span><a href="../Loc/index.html#type-t">Loc.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-vernac_flag">vernac_flag</a></span></code></div><div class="spec-doc"><p>Compatibility values for parsing <code>Polymorphic</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-vernac_monomorphic_flag" class="anchored"><a href="#val-vernac_monomorphic_flag" class="anchor"></a><code><span><span class="keyword">val</span> vernac_monomorphic_flag : <span><span><a href="../Loc/index.html#type-t">Loc.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-vernac_flag">vernac_flag</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-universe_polymorphism_option_name" class="anchored"><a href="#val-universe_polymorphism_option_name" class="anchor"></a><code><span><span class="keyword">val</span> universe_polymorphism_option_name : <span>string list</span></span></code></div><div class="spec-doc"><p>For internal use.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_universe_polymorphism" class="anchored"><a href="#val-is_universe_polymorphism" class="anchor"></a><code><span><span class="keyword">val</span> is_universe_polymorphism : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div></div></body></html>