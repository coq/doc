<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Library (coq.Library)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">coq</a> &#x00BB; Library</nav><h1>Module <code>Library</code></h1><p>This module provides functions to load, open and save libraries. Libraries correspond to the subclass of modules that coincide with a file on disk (the &quot;.vo&quot; files). Libraries on the disk comes with checksums (obtained with the <code>Digest</code> module), which are checked at loading time to prevent inconsistencies between files written at various dates.</p><nav class="toc"><ul><li><a href="#start-the-compilation-of-a-library">Start the compilation of a library</a></li><li><a href="#interrogate-the-status-of-libraries">Interrogate the status of libraries</a></li></ul></nav></header><dl><dt class="spec value" id="val-require_library_from_dirpath"><a href="#val-require_library_from_dirpath" class="anchor"></a><code><span class="keyword">val</span> require_library_from_dirpath : <span>lib_resolver:<span>(<a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span>&#45;&gt;</span> <a href="../CUnix/index.html#type-physical_path">CUnix.physical_path</a>)</span></span> <span>&#45;&gt;</span> <span><span>(<a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> * string)</span> list</span> <span>&#45;&gt;</span> <span>bool option</span> <span>&#45;&gt;</span> unit</code></dt><dd><h6 id="..."><a href="#..." class="anchor"></a>...</h6><p>Require = load in the environment + open (if the optional boolean is not <code>None</code>); mark also for export if the boolean is <code>Some true</code></p></dd></dl><section><header><h6 id="start-the-compilation-of-a-library"><a href="#start-the-compilation-of-a-library" class="anchor"></a>Start the compilation of a library</h6></header><dl><dt class="spec type" id="type-seg_sum"><a href="#type-seg_sum" class="anchor"></a><code><span class="keyword">type</span> seg_sum</code></dt><dd><p>Segments of a library</p></dd></dl><dl><dt class="spec type" id="type-seg_lib"><a href="#type-seg_lib" class="anchor"></a><code><span class="keyword">type</span> seg_lib</code></dt><dt class="spec type" id="type-seg_univ"><a href="#type-seg_univ" class="anchor"></a><code><span class="keyword">type</span> seg_univ</code><code> = <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> * bool</code></dt><dt class="spec type" id="type-seg_proofs"><a href="#type-seg_proofs" class="anchor"></a><code><span class="keyword">type</span> seg_proofs</code><code> = <span><a href="../Opaqueproof/index.html#type-opaque_proofterm">Opaqueproof.opaque_proofterm</a> array</span></code></dt></dl><dl><dt class="spec value" id="val-save_library_to"><a href="#val-save_library_to" class="anchor"></a><code><span class="keyword">val</span> save_library_to : <span>?&#8288;todo:<span>(<span><span>(<span><span>(<a href="../Future/UUID/index.html#type-t">Future.UUID.t</a>, <span class="type-var">'document</span>)</span> <a href="../Stateid/index.html#type-request">Stateid.request</a></span> * bool)</span> list</span> * <span class="type-var">'counters</span>)</span></span> <span>&#45;&gt;</span> <span>output_native_objects:bool</span> <span>&#45;&gt;</span> <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Opaqueproof/index.html#type-opaquetab">Opaqueproof.opaquetab</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>End the compilation of a library and save it to a &quot;.vo&quot; file. <code>output_native_objects</code>: when producing vo objects, also compile the native-code version.</p></dd></dl><dl><dt class="spec value" id="val-load_library_todo"><a href="#val-load_library_todo" class="anchor"></a><code><span class="keyword">val</span> load_library_todo : <a href="../CUnix/index.html#type-physical_path">CUnix.physical_path</a> <span>&#45;&gt;</span> <a href="index.html#type-seg_sum">seg_sum</a> * <a href="index.html#type-seg_lib">seg_lib</a> * <a href="index.html#type-seg_univ">seg_univ</a> * <span class="type-var">'tasks</span> * <a href="index.html#type-seg_proofs">seg_proofs</a></code></dt><dt class="spec value" id="val-save_library_raw"><a href="#val-save_library_raw" class="anchor"></a><code><span class="keyword">val</span> save_library_raw : string <span>&#45;&gt;</span> <a href="index.html#type-seg_sum">seg_sum</a> <span>&#45;&gt;</span> <a href="index.html#type-seg_lib">seg_lib</a> <span>&#45;&gt;</span> <a href="index.html#type-seg_univ">seg_univ</a> <span>&#45;&gt;</span> <a href="index.html#type-seg_proofs">seg_proofs</a> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h6 id="interrogate-the-status-of-libraries"><a href="#interrogate-the-status-of-libraries" class="anchor"></a>Interrogate the status of libraries</h6></header><dl><dt class="spec value" id="val-library_is_loaded"><a href="#val-library_is_loaded" class="anchor"></a><code><span class="keyword">val</span> library_is_loaded : <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><ul><li>Tell if a library is loaded</li></ul></dd></dl><dl><dt class="spec value" id="val-loaded_libraries"><a href="#val-loaded_libraries" class="anchor"></a><code><span class="keyword">val</span> loaded_libraries : unit <span>&#45;&gt;</span> <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> list</span></code></dt><dd><ul><li>Tell which libraries are loaded</li></ul></dd></dl><dl><dt class="spec value" id="val-library_full_filename"><a href="#val-library_full_filename" class="anchor"></a><code><span class="keyword">val</span> library_full_filename : <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span>&#45;&gt;</span> string</code></dt><dd><ul><li>Return the full filename of a loaded library.</li></ul></dd></dl><dl><dt class="spec value" id="val-overwrite_library_filenames"><a href="#val-overwrite_library_filenames" class="anchor"></a><code><span class="keyword">val</span> overwrite_library_filenames : string <span>&#45;&gt;</span> unit</code></dt><dd><ul><li>Overwrite the filename of all libraries (used when restoring a state)</li></ul></dd></dl><dl><dt class="spec value" id="val-native_name_from_filename"><a href="#val-native_name_from_filename" class="anchor"></a><code><span class="keyword">val</span> native_name_from_filename : string <span>&#45;&gt;</span> string</code></dt><dd><h6 id="native-compiler."><a href="#native-compiler." class="anchor"></a>Native compiler.</h6></dd></dl><dl><dt class="spec value" id="val-indirect_accessor"><a href="#val-indirect_accessor" class="anchor"></a><code><span class="keyword">val</span> indirect_accessor : <a href="../Opaqueproof/index.html#type-indirect_accessor">Opaqueproof.indirect_accessor</a></code></dt><dd><h6 id="opaque-accessors"><a href="#opaque-accessors" class="anchor"></a>Opaque accessors</h6></dd></dl><dl><dt class="spec value" id="val-intern_state"><a href="#val-intern_state" class="anchor"></a><code><span class="keyword">val</span> intern_state : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Low-level state overwriting, not very safe</p></dd></dl><dl><dt class="spec value" id="val-extern_state"><a href="#val-extern_state" class="anchor"></a><code><span class="keyword">val</span> extern_state : string <span>&#45;&gt;</span> unit</code></dt></dl></section></div></body></html>