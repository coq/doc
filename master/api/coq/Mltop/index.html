<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mltop (coq.Mltop)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq</a> &#x00BB; Mltop</nav><h1>Module <code>Mltop</code></h1><h6 id="toplevel-management"><a href="#toplevel-management" class="anchor"></a>Toplevel management</h6><nav class="toc"><ul><li><a href="#ml-dynlink">ML Dynlink</a></li><li><a href="#initialization-functions">Initialization functions</a></li><li><a href="#declaring-modules">Declaring modules</a></li><li><a href="#utilities">Utilities</a></li></ul></nav></header><dl><dt class="spec type" id="type-toplevel"><a href="#type-toplevel" class="anchor"></a><code><span class="keyword">type</span> toplevel</code><code> = </code><code>{</code><table class="record"><tr id="type-toplevel.load_obj" class="anchored"><td class="def field"><a href="#type-toplevel.load_obj" class="anchor"></a><code>load_obj : string <span>&#45;&gt;</span> unit;</code></td></tr><tr id="type-toplevel.add_dir" class="anchored"><td class="def field"><a href="#type-toplevel.add_dir" class="anchor"></a><code>add_dir : string <span>&#45;&gt;</span> unit;</code></td></tr><tr id="type-toplevel.ml_loop" class="anchored"><td class="def field"><a href="#type-toplevel.ml_loop" class="anchor"></a><code>ml_loop : unit <span>&#45;&gt;</span> unit;</code></td></tr></table><code>}</code></dt><dd><p>If there is a toplevel under Coq, it is described by the following record.</p></dd></dl><dl><dt class="spec value" id="val-set_top"><a href="#val-set_top" class="anchor"></a><code><span class="keyword">val</span> set_top : <a href="index.html#type-toplevel">toplevel</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Sets and initializes a toplevel (if any)</p></dd></dl><dl><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Removes the toplevel (if any)</p></dd></dl><dl><dt class="spec value" id="val-is_ocaml_top"><a href="#val-is_ocaml_top" class="anchor"></a><code><span class="keyword">val</span> is_ocaml_top : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Tests if an Ocaml toplevel runs under Coq</p></dd></dl><dl><dt class="spec value" id="val-ocaml_toploop"><a href="#val-ocaml_toploop" class="anchor"></a><code><span class="keyword">val</span> ocaml_toploop : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Starts the Ocaml toplevel loop</p></dd></dl><section><header><h6 id="ml-dynlink"><a href="#ml-dynlink" class="anchor"></a>ML Dynlink</h6></header><dl><dt class="spec value" id="val-add_ml_dir"><a href="#val-add_ml_dir" class="anchor"></a><code><span class="keyword">val</span> add_ml_dir : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Adds a dir to the plugin search path</p></dd></dl><dl><dt class="spec value" id="val-has_dynlink"><a href="#val-has_dynlink" class="anchor"></a><code><span class="keyword">val</span> has_dynlink : bool</code></dt><dd><p>Tests if we can load ML files</p></dd></dl><dl><dt class="spec value" id="val-add_known_module"><a href="#val-add_known_module" class="anchor"></a><code><span class="keyword">val</span> add_known_module : string <span>&#45;&gt;</span> unit</code></dt><dd><p>List of modules linked to the toplevel</p></dd></dl><dl><dt class="spec value" id="val-module_is_known"><a href="#val-module_is_known" class="anchor"></a><code><span class="keyword">val</span> module_is_known : string <span>&#45;&gt;</span> bool</code></dt></dl></section><section><header><h6 id="initialization-functions"><a href="#initialization-functions" class="anchor"></a>Initialization functions</h6></header><dl><dt class="spec value" id="val-add_known_plugin"><a href="#val-add_known_plugin" class="anchor"></a><code><span class="keyword">val</span> add_known_plugin : <span>(unit <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p>Declare a plugin and its initialization function. A plugin is just an ML module with an initialization function. Adding a known plugin implies adding it as a known ML module. The initialization function is granted to be called after Coq is fully bootstrapped, even if the plugin is statically linked with the toplevel</p></dd></dl><dl><dt class="spec value" id="val-init_known_plugins"><a href="#val-init_known_plugins" class="anchor"></a><code><span class="keyword">val</span> init_known_plugins : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Calls all initialization functions in a non-specified order</p></dd></dl><dl><dt class="spec value" id="val-declare_cache_obj"><a href="#val-declare_cache_obj" class="anchor"></a><code><span class="keyword">val</span> declare_cache_obj : <span>(unit <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p>Register a callback that will be called when the module is declared with the Declare ML Module command. This is useful to define Coq objects at that time only. Several functions can be defined for one module; they will be called in the order of declaration, and after the ML module has been properly initialized.</p></dd></dl></section><section><header><h6 id="declaring-modules"><a href="#declaring-modules" class="anchor"></a>Declaring modules</h6></header><dl><dt class="spec value" id="val-declare_ml_modules"><a href="#val-declare_ml_modules" class="anchor"></a><code><span class="keyword">val</span> declare_ml_modules : <a href="../Vernacexpr/index.html#type-locality_flag">Vernacexpr.locality_flag</a> <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h6 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h6></header><dl><dt class="spec value" id="val-print_ml_path"><a href="#val-print_ml_path" class="anchor"></a><code><span class="keyword">val</span> print_ml_path : unit <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt><dt class="spec value" id="val-print_ml_modules"><a href="#val-print_ml_modules" class="anchor"></a><code><span class="keyword">val</span> print_ml_modules : unit <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt><dt class="spec value" id="val-print_gc"><a href="#val-print_gc" class="anchor"></a><code><span class="keyword">val</span> print_gc : unit <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt></dl></section></div></body></html>