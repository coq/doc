<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Attributes (coq.Attributes)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq</a> &#x00BB; Attributes</nav><h1>Module <code>Attributes</code></h1></header><dl><dt class="spec type" id="type-vernac_flags"><a href="#type-vernac_flags" class="anchor"></a><code><span class="keyword">type</span> vernac_flags</code><code> = <a href="index.html#type-vernac_flag">vernac_flag</a> list</code></dt><dd><p>The type of parsing attribute data</p></dd></dl><dl><dt class="spec type" id="type-vernac_flag"><a href="#type-vernac_flag" class="anchor"></a><code><span class="keyword">and</span> vernac_flag</code><code> = string * <a href="index.html#type-vernac_flag_value">vernac_flag_value</a></code></dt><dt class="spec type" id="type-vernac_flag_value"><a href="#type-vernac_flag_value" class="anchor"></a><code><span class="keyword">and</span> vernac_flag_value</code><code> = </code><table class="variant"><tr id="type-vernac_flag_value.VernacFlagEmpty" class="anchored"><td class="def constructor"><a href="#type-vernac_flag_value.VernacFlagEmpty" class="anchor"></a><code>| </code><code><span class="constructor">VernacFlagEmpty</span></code></td></tr><tr id="type-vernac_flag_value.VernacFlagLeaf" class="anchored"><td class="def constructor"><a href="#type-vernac_flag_value.VernacFlagLeaf" class="anchor"></a><code>| </code><code><span class="constructor">VernacFlagLeaf</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-vernac_flag_value.VernacFlagList" class="anchored"><td class="def constructor"><a href="#type-vernac_flag_value.VernacFlagList" class="anchor"></a><code>| </code><code><span class="constructor">VernacFlagList</span> <span class="keyword">of</span> <a href="index.html#type-vernac_flags">vernac_flags</a></code></td></tr></table></dt><dt class="spec type" id="type-attribute"><a href="#type-attribute" class="anchor"></a><code><span class="keyword">type</span> +'a attribute</code></dt><dd><p>The type of attributes. When parsing attributes if an <code>'a
   attribute</code> is present then an <code>'a</code> value will be produced. In the most general case, an attribute transforms the raw flags along with its value.</p></dd></dl><dl><dt class="spec value" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val</span> parse : <span class="type-var">'a</span> <a href="index.html#type-attribute">attribute</a> <span>&#45;&gt;</span> <a href="index.html#type-vernac_flags">vernac_flags</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Errors on unsupported attributes.</p></dd></dl><dl><dt class="spec value" id="val-unsupported_attributes"><a href="#val-unsupported_attributes" class="anchor"></a><code><span class="keyword">val</span> unsupported_attributes : <a href="index.html#type-vernac_flags">vernac_flags</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Errors if the list of flags is nonempty.</p></dd></dl><div class="spec module" id="module-Notations"><a href="#module-Notations" class="anchor"></a><code><span class="keyword">module</span> <a href="Notations/index.html">Notations</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><aside><p>Definitions for some standard attributes.</p></aside><dl><dt class="spec value" id="val-polymorphic"><a href="#val-polymorphic" class="anchor"></a><code><span class="keyword">val</span> polymorphic : bool <a href="index.html#type-attribute">attribute</a></code></dt><dt class="spec value" id="val-program"><a href="#val-program" class="anchor"></a><code><span class="keyword">val</span> program : bool <a href="index.html#type-attribute">attribute</a></code></dt><dt class="spec value" id="val-template"><a href="#val-template" class="anchor"></a><code><span class="keyword">val</span> template : bool option <a href="index.html#type-attribute">attribute</a></code></dt><dt class="spec value" id="val-locality"><a href="#val-locality" class="anchor"></a><code><span class="keyword">val</span> locality : bool option <a href="index.html#type-attribute">attribute</a></code></dt><dt class="spec value" id="val-deprecation"><a href="#val-deprecation" class="anchor"></a><code><span class="keyword">val</span> deprecation : <a href="../Deprecation/index.html#type-t">Deprecation.t</a> option <a href="index.html#type-attribute">attribute</a></code></dt><dt class="spec value" id="val-canonical"><a href="#val-canonical" class="anchor"></a><code><span class="keyword">val</span> canonical : bool <a href="index.html#type-attribute">attribute</a></code></dt><dt class="spec value" id="val-program_mode_option_name"><a href="#val-program_mode_option_name" class="anchor"></a><code><span class="keyword">val</span> program_mode_option_name : string list</code></dt><dd><p>For internal use when messing with the global option.</p></dd></dl><dl><dt class="spec value" id="val-only_locality"><a href="#val-only_locality" class="anchor"></a><code><span class="keyword">val</span> only_locality : <a href="index.html#type-vernac_flags">vernac_flags</a> <span>&#45;&gt;</span> bool option</code></dt><dd><p>Parse attributes allowing only locality.</p></dd></dl><dl><dt class="spec value" id="val-only_polymorphism"><a href="#val-only_polymorphism" class="anchor"></a><code><span class="keyword">val</span> only_polymorphism : <a href="index.html#type-vernac_flags">vernac_flags</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Parse attributes allowing only polymorphism. Uses the global flag for the default value.</p></dd></dl><dl><dt class="spec value" id="val-parse_drop_extra"><a href="#val-parse_drop_extra" class="anchor"></a><code><span class="keyword">val</span> parse_drop_extra : <span class="type-var">'a</span> <a href="index.html#type-attribute">attribute</a> <span>&#45;&gt;</span> <a href="index.html#type-vernac_flags">vernac_flags</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Ignores unsupported attributes.</p></dd></dl><dl><dt class="spec value" id="val-parse_with_extra"><a href="#val-parse_with_extra" class="anchor"></a><code><span class="keyword">val</span> parse_with_extra : <span class="type-var">'a</span> <a href="index.html#type-attribute">attribute</a> <span>&#45;&gt;</span> <a href="index.html#type-vernac_flags">vernac_flags</a> <span>&#45;&gt;</span> <a href="index.html#type-vernac_flags">vernac_flags</a> * <span class="type-var">'a</span></code></dt><dd><p>Returns unsupported attributes.</p></dd></dl><aside><p>* Defining attributes.</p></aside><dl><dt class="spec type" id="type-key_parser"><a href="#type-key_parser" class="anchor"></a><code><span class="keyword">type</span> 'a key_parser</code><code> = <span class="type-var">'a</span> option <span>&#45;&gt;</span> <a href="index.html#type-vernac_flag_value">vernac_flag_value</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>A parser for some key in an attribute. It is given a nonempty <code>'a
    option</code> when the attribute is multiply set for some command.</p><p>eg in <code>#[polymorphic] Monomorphic Definition foo := ...</code>, when parsing <code>Monomorphic</code> it will be given <code>Some true</code>.</p></dd></dl><dl><dt class="spec value" id="val-attribute_of_list"><a href="#val-attribute_of_list" class="anchor"></a><code><span class="keyword">val</span> attribute_of_list : (string * <span class="type-var">'a</span> <a href="index.html#type-key_parser">key_parser</a>) list <span>&#45;&gt;</span> <span class="type-var">'a</span> option <a href="index.html#type-attribute">attribute</a></code></dt><dd><p>Make an attribute from a list of key parsers together with their associated key.</p></dd></dl><dl><dt class="spec value" id="val-bool_attribute"><a href="#val-bool_attribute" class="anchor"></a><code><span class="keyword">val</span> bool_attribute : name:string <span>&#45;&gt;</span> on:string <span>&#45;&gt;</span> off:string <span>&#45;&gt;</span> bool option <a href="index.html#type-attribute">attribute</a></code></dt><dd><p>Define boolean attribute <code>name</code> with value <code>true</code> when <code>on</code> is provided and <code>false</code> when <code>off</code> is provided. The attribute may only be set once for a command.</p></dd></dl><dl><dt class="spec value" id="val-qualify_attribute"><a href="#val-qualify_attribute" class="anchor"></a><code><span class="keyword">val</span> qualify_attribute : string <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-attribute">attribute</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-attribute">attribute</a></code></dt><dd><p><code>qualified_attribute qual att</code> treats <code>#[qual(atts)]</code> like <code>att</code> treats <code>atts</code>.</p></dd></dl><aside><p>Combinators to help define your own parsers. See the implementation of <code>bool_attribute</code> for practical use.</p></aside><dl><dt class="spec value" id="val-assert_empty"><a href="#val-assert_empty" class="anchor"></a><code><span class="keyword">val</span> assert_empty : string <span>&#45;&gt;</span> <a href="index.html#type-vernac_flag_value">vernac_flag_value</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>assert_empty key v</code> errors if <code>v</code> is not empty. <code>key</code> is used in the error message as the name of the attribute.</p></dd></dl><dl><dt class="spec value" id="val-assert_once"><a href="#val-assert_once" class="anchor"></a><code><span class="keyword">val</span> assert_once : name:string <span>&#45;&gt;</span> <span class="type-var">'a</span> option <span>&#45;&gt;</span> unit</code></dt><dd><p><code>assert_once ~name v</code> errors if <code>v</code> is not empty. <code>name</code> is used in the error message as the name of the attribute. Used to ensure that a given attribute is not reapeated.</p></dd></dl><dl><dt class="spec value" id="val-single_key_parser"><a href="#val-single_key_parser" class="anchor"></a><code><span class="keyword">val</span> single_key_parser : name:string <span>&#45;&gt;</span> key:string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-key_parser">key_parser</a></code></dt><dd><p><code>single_key_parser ~name ~key v</code> makes a parser for attribute <code>name</code> giving the constant value <code>v</code> for key <code>key</code> taking no arguments. <code>name</code> may only be given once.</p></dd></dl><dl><dt class="spec value" id="val-make_attribute"><a href="#val-make_attribute" class="anchor"></a><code><span class="keyword">val</span> make_attribute : (<a href="index.html#type-vernac_flags">vernac_flags</a> <span>&#45;&gt;</span> <a href="index.html#type-vernac_flags">vernac_flags</a> * <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-attribute">attribute</a></code></dt><dd><p>Make an attribute using the internal representation, thus with access to the full power of attributes. Unstable.</p></dd></dl><dl><dt class="spec value" id="val-vernac_polymorphic_flag"><a href="#val-vernac_polymorphic_flag" class="anchor"></a><code><span class="keyword">val</span> vernac_polymorphic_flag : <a href="index.html#type-vernac_flag">vernac_flag</a></code></dt><dd><p>Compatibility values for parsing <code>Polymorphic</code>.</p></dd></dl><dl><dt class="spec value" id="val-vernac_monomorphic_flag"><a href="#val-vernac_monomorphic_flag" class="anchor"></a><code><span class="keyword">val</span> vernac_monomorphic_flag : <a href="index.html#type-vernac_flag">vernac_flag</a></code></dt></dl><aside><p>For the stm, do not use!</p></aside><dl><dt class="spec value" id="val-polymorphic_nowarn"><a href="#val-polymorphic_nowarn" class="anchor"></a><code><span class="keyword">val</span> polymorphic_nowarn : bool <a href="index.html#type-attribute">attribute</a></code></dt><dt class="spec value" id="val-universe_polymorphism_option_name"><a href="#val-universe_polymorphism_option_name" class="anchor"></a><code><span class="keyword">val</span> universe_polymorphism_option_name : string list</code></dt><dd><p>For internal use, avoid warning if not qualified as eg <code>universes(polymorphic)</code>.</p></dd></dl><dl><dt class="spec value" id="val-is_universe_polymorphism"><a href="#val-is_universe_polymorphism" class="anchor"></a><code><span class="keyword">val</span> is_universe_polymorphism : unit <span>&#45;&gt;</span> bool</code></dt></dl></div></body></html>