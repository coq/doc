<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Declare (coq.Declare)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq</a> &#x00BB; Declare</nav><h1>Module <code>Declare</code></h1><nav class="toc"><ul><li><a href="#for-legacy-support,-do-not-use">For legacy support, do not use</a></li><li><a href="#helpers-to-obtain-proof-state-when-in-an-interactive-proof">Helpers to obtain proof state when in an interactive proof</a></li></ul></nav></header><aside><p>This module provides the official functions to declare new variables, parameters, constants and inductive types in the global environment. It also updates some accesory tables such as <code>Nametab</code> (name resolution), <code>Impargs</code>, and <code>Notations</code>.</p></aside><aside><p>We provide two kind of functions:</p><ul><li>one-go functions, that will register a constant in one go, suited for non-interactive definitions where the term is given.</li></ul><ul><li>two-phase <code>start/declare</code> functions which will create an interactive proof, allow its modification, and saving when complete.</li></ul><p>Internally, these functions mainly differ in that usually, the first case doesn't require setting up the tactic engine.</p><p>Note that the API in this file is still in a state of flux, don't hesitate to contact the maintainers if you have any question.</p><p>Additionally, this file does contain some low-level functions, marked as such; these functions are unstable and should not be used unless you already know what they are doing.</p></aside><dl><dt class="spec module" id="module-Proof"><a href="#module-Proof" class="anchor"></a><code><span class="keyword">module</span> <a href="Proof/index.html">Proof</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Declare.Proof.t</code> Construction of constants using interactive proofs.</p></dd></dl><dl><dt class="spec type" id="type-opacity_flag"><a href="#type-opacity_flag" class="anchor"></a><code><span class="keyword">type</span> opacity_flag</code><code> = <a href="../Vernacexpr/index.html#type-opacity_flag">Vernacexpr.opacity_flag</a></code><code> = </code><table class="variant"><tr id="type-opacity_flag.Opaque" class="anchored"><td class="def constructor"><a href="#type-opacity_flag.Opaque" class="anchor"></a><code>| </code><code><span class="constructor">Opaque</span></code></td></tr><tr id="type-opacity_flag.Transparent" class="anchored"><td class="def constructor"><a href="#type-opacity_flag.Transparent" class="anchor"></a><code>| </code><code><span class="constructor">Transparent</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-start_proof"><a href="#val-start_proof" class="anchor"></a><code><span class="keyword">val</span> start_proof : <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>udecl:<a href="../UState/index.html#type-universe_decl">UState.universe_decl</a></span> <span>&#45;&gt;</span> <span>poly:bool</span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <span><span>(<a href="../Environ/index.html#type-env">Environ.env</a> * <a href="../EConstr/index.html#type-types">EConstr.types</a>)</span> list</span> <span>&#45;&gt;</span> <a href="Proof/index.html#type-t">Proof.t</a></code></dt><dd><p><code>start_proof ~name ~udecl ~poly sigma goals</code> starts a proof of name <code>name</code> with goals <code>goals</code> (a list of pairs of environment and conclusion); <code>poly</code> determines if the proof is universe polymorphic. The proof is started in the evar map <code>sigma</code> (which can typically contain universe constraints), and with universe bindings <code>udecl</code>.</p></dd></dl><dl><dt class="spec value" id="val-start_dependent_proof"><a href="#val-start_dependent_proof" class="anchor"></a><code><span class="keyword">val</span> start_dependent_proof : <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>udecl:<a href="../UState/index.html#type-universe_decl">UState.universe_decl</a></span> <span>&#45;&gt;</span> <span>poly:bool</span> <span>&#45;&gt;</span> <a href="../Proofview/index.html#type-telescope">Proofview.telescope</a> <span>&#45;&gt;</span> <a href="Proof/index.html#type-t">Proof.t</a></code></dt><dd><p>Like <code>start_proof</code> except that there may be dependencies between initial goals.</p></dd></dl><dl><dt class="spec type" id="type-proof_entry"><a href="#type-proof_entry" class="anchor"></a><code><span class="keyword">type</span> <span>'a proof_entry</span></code></dt><dd><p>Proof entries represent a proof that has been finished, but still not registered with the kernel.</p><p>XXX: This is an internal, low-level API and could become scheduled for removal from the public API, use higher-level declare APIs instead</p></dd></dl><dl><dt class="spec type" id="type-proof_object"><a href="#type-proof_object" class="anchor"></a><code><span class="keyword">type</span> proof_object</code></dt><dd><p>XXX: This is an internal, low-level API and could become scheduled for removal from the public API, use higher-level declare APIs instead</p></dd></dl><dl><dt class="spec value" id="val-get_po_name"><a href="#val-get_po_name" class="anchor"></a><code><span class="keyword">val</span> get_po_name : <a href="index.html#type-proof_object">proof_object</a> <span>&#45;&gt;</span> <a href="../Names/Id/index.html#type-t">Names.Id.t</a></code></dt><dd><p>Used by the STM only to store info, should go away</p></dd></dl><dl><dt class="spec value" id="val-close_proof"><a href="#val-close_proof" class="anchor"></a><code><span class="keyword">val</span> close_proof : <span>opaque:<a href="index.html#type-opacity_flag">opacity_flag</a></span> <span>&#45;&gt;</span> <span>keep_body_ucst_separate:bool</span> <span>&#45;&gt;</span> <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> <a href="index.html#type-proof_object">proof_object</a></code></dt></dl><aside><p>Declaration of local constructions (Variable/Hypothesis/Local)</p></aside><dl><dt class="spec type" id="type-variable_declaration"><a href="#type-variable_declaration" class="anchor"></a><code><span class="keyword">type</span> variable_declaration</code><code> = </code><table class="variant"><tr id="type-variable_declaration.SectionLocalDef" class="anchored"><td class="def constructor"><a href="#type-variable_declaration.SectionLocalDef" class="anchor"></a><code>| </code><code><span class="constructor">SectionLocalDef</span> <span class="keyword">of</span> <span><a href="../Evd/index.html#type-side_effects">Evd.side_effects</a> <a href="index.html#type-proof_entry">proof_entry</a></span></code></td></tr><tr id="type-variable_declaration.SectionLocalAssum" class="anchored"><td class="def constructor"><a href="#type-variable_declaration.SectionLocalAssum" class="anchor"></a><code>| </code><code><span class="constructor">SectionLocalAssum</span> <span class="keyword">of</span> </code><code>{</code><table class="record"><tr id="type-variable_declaration.typ" class="anchored"><td class="def field"><a href="#type-variable_declaration.typ" class="anchor"></a><code>typ : <a href="../Constr/index.html#type-types">Constr.types</a>;</code></td></tr><tr id="type-variable_declaration.impl" class="anchored"><td class="def field"><a href="#type-variable_declaration.impl" class="anchor"></a><code>impl : <a href="../Glob_term/index.html#type-binding_kind">Glob_term.binding_kind</a>;</code></td></tr></table><code>}</code></td></tr></table></dt><dd><p>XXX: This is an internal, low-level API and could become scheduled for removal from the public API, use higher-level declare APIs instead</p></dd></dl><dl><dt class="spec type" id="type-constant_entry"><a href="#type-constant_entry" class="anchor"></a><code><span class="keyword">type</span> <span>'a constant_entry</span></code><code> = </code><table class="variant"><tr id="type-constant_entry.DefinitionEntry" class="anchored"><td class="def constructor"><a href="#type-constant_entry.DefinitionEntry" class="anchor"></a><code>| </code><code><span class="constructor">DefinitionEntry</span> <span class="keyword">of</span> <span><span class="type-var">'a</span> <a href="index.html#type-proof_entry">proof_entry</a></span></code></td></tr><tr id="type-constant_entry.ParameterEntry" class="anchored"><td class="def constructor"><a href="#type-constant_entry.ParameterEntry" class="anchor"></a><code>| </code><code><span class="constructor">ParameterEntry</span> <span class="keyword">of</span> <a href="../Entries/index.html#type-parameter_entry">Entries.parameter_entry</a></code></td></tr><tr id="type-constant_entry.PrimitiveEntry" class="anchored"><td class="def constructor"><a href="#type-constant_entry.PrimitiveEntry" class="anchor"></a><code>| </code><code><span class="constructor">PrimitiveEntry</span> <span class="keyword">of</span> <a href="../Entries/index.html#type-primitive_entry">Entries.primitive_entry</a></code></td></tr></table></dt><dd><p>XXX: This is an internal, low-level API and could become scheduled for removal from the public API, use higher-level declare APIs instead</p></dd></dl><dl><dt class="spec value" id="val-declare_variable"><a href="#val-declare_variable" class="anchor"></a><code><span class="keyword">val</span> declare_variable : <span>name:<a href="../Names/index.html#type-variable">Names.variable</a></span> <span>&#45;&gt;</span> <span>kind:<a href="../Decls/index.html#type-logical_kind">Decls.logical_kind</a></span> <span>&#45;&gt;</span> <a href="index.html#type-variable_declaration">variable_declaration</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-definition_entry"><a href="#val-definition_entry" class="anchor"></a><code><span class="keyword">val</span> definition_entry : <span>?&#8288;fix_exn:<a href="../Future/index.html#type-fix_exn">Future.fix_exn</a></span> <span>&#45;&gt;</span> <span>?&#8288;opaque:bool</span> <span>&#45;&gt;</span> <span>?&#8288;inline:bool</span> <span>&#45;&gt;</span> <span>?&#8288;feedback_id:<a href="../Stateid/index.html#type-t">Stateid.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;section_vars:<a href="../Names/Id/index.html#module-Set">Names.Id.Set</a>.t</span> <span>&#45;&gt;</span> <span>?&#8288;types:<a href="../Constr/index.html#type-types">Constr.types</a></span> <span>&#45;&gt;</span> <span>?&#8288;univs:<a href="../Entries/index.html#type-universes_entry">Entries.universes_entry</a></span> <span>&#45;&gt;</span> <span>?&#8288;eff:<a href="../Evd/index.html#type-side_effects">Evd.side_effects</a></span> <span>&#45;&gt;</span> <span>?&#8288;univsbody:<a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-constr">Constr.constr</a> <span>&#45;&gt;</span> <span><a href="../Evd/index.html#type-side_effects">Evd.side_effects</a> <a href="index.html#type-proof_entry">proof_entry</a></span></code></dt><dd><p>Declaration of global constructions i.e. Definition/Theorem/Axiom/Parameter/...</p><p>XXX: This is an internal, low-level API and could become scheduled for removal from the public API, use higher-level declare APIs instead</p></dd></dl><dl><dt class="spec type" id="type-import_status"><a href="#type-import_status" class="anchor"></a><code><span class="keyword">type</span> import_status</code><code> = <a href="../Locality/index.html#type-import_status">Locality.import_status</a></code><code> = </code><table class="variant"><tr id="type-import_status.ImportDefaultBehavior" class="anchored"><td class="def constructor"><a href="#type-import_status.ImportDefaultBehavior" class="anchor"></a><code>| </code><code><span class="constructor">ImportDefaultBehavior</span></code></td></tr><tr id="type-import_status.ImportNeedQualified" class="anchored"><td class="def constructor"><a href="#type-import_status.ImportNeedQualified" class="anchor"></a><code>| </code><code><span class="constructor">ImportNeedQualified</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-declare_constant"><a href="#val-declare_constant" class="anchor"></a><code><span class="keyword">val</span> declare_constant : <span>?&#8288;local:<a href="index.html#type-import_status">import_status</a></span> <span>&#45;&gt;</span> <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>kind:<a href="../Decls/index.html#type-logical_kind">Decls.logical_kind</a></span> <span>&#45;&gt;</span> <span><a href="../Evd/index.html#type-side_effects">Evd.side_effects</a> <a href="index.html#type-constant_entry">constant_entry</a></span> <span>&#45;&gt;</span> <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a></code></dt><dd><p><code>declare_constant id cd</code> declares a global declaration (constant/parameter) with name <code>id</code> in the current section; it returns the full path of the declaration</p><p>internal specify if the constant has been created by the kernel or by the user, and in the former case, if its errors should be silent</p><p>XXX: This is an internal, low-level API and could become scheduled for removal from the public API, use higher-level declare APIs instead</p></dd></dl><aside><p>Declaration messages</p></aside><dl><dt class="spec value" id="val-definition_message"><a href="#val-definition_message" class="anchor"></a><code><span class="keyword">val</span> definition_message : <a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>XXX: Scheduled for removal from public API, do not use</p></dd></dl><dl><dt class="spec value" id="val-assumption_message"><a href="#val-assumption_message" class="anchor"></a><code><span class="keyword">val</span> assumption_message : <a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fixpoint_message"><a href="#val-fixpoint_message" class="anchor"></a><code><span class="keyword">val</span> fixpoint_message : <span><span>int array</span> option</span> <span>&#45;&gt;</span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> list</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-check_exists"><a href="#val-check_exists" class="anchor"></a><code><span class="keyword">val</span> check_exists : <a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> unit</code></dt></dl><section><header><h6 id="for-legacy-support,-do-not-use"><a href="#for-legacy-support,-do-not-use" class="anchor"></a>For legacy support, do not use</h6></header><div class="spec module" id="module-Internal"><a href="#module-Internal" class="anchor"></a><code><span class="keyword">module</span> <a href="Internal/index.html">Internal</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-closed_proof_output"><a href="#type-closed_proof_output" class="anchor"></a><code><span class="keyword">type</span> closed_proof_output</code></dt></dl><dl><dt class="spec value" id="val-return_proof"><a href="#val-return_proof" class="anchor"></a><code><span class="keyword">val</span> return_proof : <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> <a href="index.html#type-closed_proof_output">closed_proof_output</a></code></dt><dd><p>Requires a complete proof.</p></dd></dl><dl><dt class="spec value" id="val-return_partial_proof"><a href="#val-return_partial_proof" class="anchor"></a><code><span class="keyword">val</span> return_partial_proof : <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> <a href="index.html#type-closed_proof_output">closed_proof_output</a></code></dt><dd><p>An incomplete proof is allowed (no error), and a warn is given if the proof is complete.</p></dd></dl><dl><dt class="spec value" id="val-close_future_proof"><a href="#val-close_future_proof" class="anchor"></a><code><span class="keyword">val</span> close_future_proof : <span>feedback_id:<a href="../Stateid/index.html#type-t">Stateid.t</a></span> <span>&#45;&gt;</span> <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-closed_proof_output">closed_proof_output</a> <a href="../Future/index.html#type-computation">Future.computation</a></span> <span>&#45;&gt;</span> <a href="index.html#type-proof_object">proof_object</a></code></dt><dt class="spec value" id="val-by"><a href="#val-by" class="anchor"></a><code><span class="keyword">val</span> by : <span>unit <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span> <span>&#45;&gt;</span> <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> <a href="Proof/index.html#type-t">Proof.t</a> * bool</code></dt><dd><p><code>by tac</code> applies tactic <code>tac</code> to the 1st subgoal of the current focused proof. Returns <code>false</code> if an unsafe tactic has been used.</p></dd></dl><dl><dt class="spec value" id="val-build_by_tactic"><a href="#val-build_by_tactic" class="anchor"></a><code><span class="keyword">val</span> build_by_tactic : <span>?&#8288;side_eff:bool</span> <span>&#45;&gt;</span> <a href="../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <span>uctx:<a href="../UState/index.html#type-t">UState.t</a></span> <span>&#45;&gt;</span> <span>poly:bool</span> <span>&#45;&gt;</span> <span>typ:<a href="../EConstr/index.html#type-types">EConstr.types</a></span> <span>&#45;&gt;</span> <span>unit <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-constr">Constr.constr</a> * <span><a href="../Constr/index.html#type-types">Constr.types</a> option</span> * <a href="../Entries/index.html#type-universes_entry">Entries.universes_entry</a> * bool * <a href="../UState/index.html#type-t">UState.t</a></code></dt><dd><p>Semantics of this function is a bit dubious, use with care</p></dd></dl></section><section><header><h6 id="helpers-to-obtain-proof-state-when-in-an-interactive-proof"><a href="#helpers-to-obtain-proof-state-when-in-an-interactive-proof" class="anchor"></a>Helpers to obtain proof state when in an interactive proof</h6></header><aside><p><code>get_goal_context n</code> returns the context of the <code>n</code>th subgoal of the current focused proof or raises a <code>UserError</code> if there is no focused proof or if there is no more subgoals</p></aside><dl><dt class="spec value" id="val-get_goal_context"><a href="#val-get_goal_context" class="anchor"></a><code><span class="keyword">val</span> get_goal_context : <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Environ/index.html#type-env">Environ.env</a></code></dt><dt class="spec value" id="val-get_current_goal_context"><a href="#val-get_current_goal_context" class="anchor"></a><code><span class="keyword">val</span> get_current_goal_context : <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Environ/index.html#type-env">Environ.env</a></code></dt><dd><p><code>get_current_goal_context ()</code> works as <code>get_goal_context 1</code></p></dd></dl><dl><dt class="spec value" id="val-get_current_context"><a href="#val-get_current_context" class="anchor"></a><code><span class="keyword">val</span> get_current_context : <a href="Proof/index.html#type-t">Proof.t</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Environ/index.html#type-env">Environ.env</a></code></dt><dd><p><code>get_current_context ()</code> returns the context of the current focused goal. If there is no focused goal but there is a proof in progress, it returns the corresponding evar_map. If there is no pending proof then it returns the current global environment and empty evar_map.</p></dd></dl><dl><dt class="spec value" id="val-build_constant_by_tactic"><a href="#val-build_constant_by_tactic" class="anchor"></a><code><span class="keyword">val</span> build_constant_by_tactic : <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;opaque:<a href="index.html#type-opacity_flag">opacity_flag</a></span> <span>&#45;&gt;</span> <span>uctx:<a href="../UState/index.html#type-t">UState.t</a></span> <span>&#45;&gt;</span> <span>sign:<a href="../Environ/index.html#type-named_context_val">Environ.named_context_val</a></span> <span>&#45;&gt;</span> <span>poly:bool</span> <span>&#45;&gt;</span> <a href="../EConstr/index.html#type-types">EConstr.types</a> <span>&#45;&gt;</span> <span>unit <a href="../Proofview/index.html#type-tactic">Proofview.tactic</a></span> <span>&#45;&gt;</span> <span><a href="../Evd/index.html#type-side_effects">Evd.side_effects</a> <a href="index.html#type-proof_entry">proof_entry</a></span> * bool * <a href="../UState/index.html#type-t">UState.t</a></code></dt><dd><p>XXX: Temporarily re-exported for 3rd party code; don't use</p></dd></dl><dl><dt class="spec value" id="val-declare_universe_context"><a href="#val-declare_universe_context" class="anchor"></a><code><span class="keyword">val</span> declare_universe_context : <span>poly:bool</span> <span>&#45;&gt;</span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-locality"><a href="#type-locality" class="anchor"></a><code><span class="keyword">type</span> locality</code><code> = <a href="../Locality/index.html#type-locality">Locality.locality</a></code><code> = </code><table class="variant"><tr id="type-locality.Discharge" class="anchored"><td class="def constructor"><a href="#type-locality.Discharge" class="anchor"></a><code>| </code><code><span class="constructor">Discharge</span></code></td></tr><tr id="type-locality.Global" class="anchored"><td class="def constructor"><a href="#type-locality.Global" class="anchor"></a><code>| </code><code><span class="constructor">Global</span> <span class="keyword">of</span> <a href="index.html#type-import_status">import_status</a></code></td></tr></table></dt></dl><dl><dt class="spec module" id="module-Hook"><a href="#module-Hook" class="anchor"></a><code><span class="keyword">module</span> <a href="Hook/index.html">Hook</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Declaration hooks</p></dd></dl><dl><dt class="spec value" id="val-declare_entry"><a href="#val-declare_entry" class="anchor"></a><code><span class="keyword">val</span> declare_entry : <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>scope:<a href="index.html#type-locality">locality</a></span> <span>&#45;&gt;</span> <span>kind:<a href="../Decls/index.html#type-logical_kind">Decls.logical_kind</a></span> <span>&#45;&gt;</span> <span>?&#8288;hook:<a href="Hook/index.html#type-t">Hook.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;obls:<span><span>(<a href="../Names/Id/index.html#type-t">Names.Id.t</a> * <a href="../Constr/index.html#type-t">Constr.t</a>)</span> list</span></span> <span>&#45;&gt;</span> <span>impargs:<a href="../Impargs/index.html#type-manual_implicits">Impargs.manual_implicits</a></span> <span>&#45;&gt;</span> <span>uctx:<a href="../UState/index.html#type-t">UState.t</a></span> <span>&#45;&gt;</span> <span><a href="../Evd/index.html#type-side_effects">Evd.side_effects</a> <a href="index.html#type-proof_entry">proof_entry</a></span> <span>&#45;&gt;</span> <a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a></code></dt><dd><p>XXX: This is an internal, low-level API and could become scheduled for removal from the public API, use higher-level declare APIs instead</p></dd></dl><dl><dt class="spec value" id="val-declare_definition"><a href="#val-declare_definition" class="anchor"></a><code><span class="keyword">val</span> declare_definition : <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>scope:<a href="index.html#type-locality">locality</a></span> <span>&#45;&gt;</span> <span>kind:<a href="../Decls/index.html#type-logical_kind">Decls.logical_kind</a></span> <span>&#45;&gt;</span> <span>opaque:bool</span> <span>&#45;&gt;</span> <span>impargs:<a href="../Impargs/index.html#type-manual_implicits">Impargs.manual_implicits</a></span> <span>&#45;&gt;</span> <span>udecl:<a href="../UState/index.html#type-universe_decl">UState.universe_decl</a></span> <span>&#45;&gt;</span> <span>?&#8288;hook:<a href="Hook/index.html#type-t">Hook.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;obls:<span><span>(<a href="../Names/Id/index.html#type-t">Names.Id.t</a> * <a href="../Constr/index.html#type-t">Constr.t</a>)</span> list</span></span> <span>&#45;&gt;</span> <span>poly:bool</span> <span>&#45;&gt;</span> <span>?&#8288;inline:bool</span> <span>&#45;&gt;</span> <span>types:<span><a href="../EConstr/index.html#type-t">EConstr.t</a> option</span></span> <span>&#45;&gt;</span> <span>body:<a href="../EConstr/index.html#type-t">EConstr.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;fix_exn:<span>(<a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a> <span>&#45;&gt;</span> <a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a>)</span></span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a></code></dt><dd><p>Declares a non-interactive constant; <code>body</code> and <code>types</code> will be normalized w.r.t. the passed <code>evar_map</code> <code>sigma</code>. Universes should be handled properly, including minimization and restriction. Note that <code>sigma</code> is checked for unresolved evars, thus you should be careful not to submit open terms or evar maps with stale, unresolved existentials</p></dd></dl><dl><dt class="spec value" id="val-declare_assumption"><a href="#val-declare_assumption" class="anchor"></a><code><span class="keyword">val</span> declare_assumption : <span>?&#8288;fix_exn:<span>(<a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a> <span>&#45;&gt;</span> <a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a>)</span></span> <span>&#45;&gt;</span> <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>scope:<a href="index.html#type-locality">locality</a></span> <span>&#45;&gt;</span> <span>hook:<span><a href="Hook/index.html#type-t">Hook.t</a> option</span></span> <span>&#45;&gt;</span> <span>impargs:<a href="../Impargs/index.html#type-manual_implicits">Impargs.manual_implicits</a></span> <span>&#45;&gt;</span> <span>uctx:<a href="../UState/index.html#type-t">UState.t</a></span> <span>&#45;&gt;</span> <a href="../Entries/index.html#type-parameter_entry">Entries.parameter_entry</a> <span>&#45;&gt;</span> <a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a></code></dt></dl><div class="spec module" id="module-Recthm"><a href="#module-Recthm" class="anchor"></a><code><span class="keyword">module</span> <a href="Recthm/index.html">Recthm</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-lemma_possible_guards"><a href="#type-lemma_possible_guards" class="anchor"></a><code><span class="keyword">type</span> lemma_possible_guards</code><code> = <span><span>int list</span> list</span></code></dt></dl><dl><dt class="spec value" id="val-declare_mutually_recursive"><a href="#val-declare_mutually_recursive" class="anchor"></a><code><span class="keyword">val</span> declare_mutually_recursive : <span>opaque:bool</span> <span>&#45;&gt;</span> <span>scope:<a href="index.html#type-locality">locality</a></span> <span>&#45;&gt;</span> <span>kind:<a href="../Decls/index.html#type-logical_kind">Decls.logical_kind</a></span> <span>&#45;&gt;</span> <span>poly:bool</span> <span>&#45;&gt;</span> <span>uctx:<a href="../UState/index.html#type-t">UState.t</a></span> <span>&#45;&gt;</span> <span>udecl:<a href="../UState/index.html#type-universe_decl">UState.universe_decl</a></span> <span>&#45;&gt;</span> <span>ntns:<span><a href="../Vernacexpr/index.html#type-decl_notation">Vernacexpr.decl_notation</a> list</span></span> <span>&#45;&gt;</span> <span>rec_declaration:<a href="../Constr/index.html#type-rec_declaration">Constr.rec_declaration</a></span> <span>&#45;&gt;</span> <span>possible_indexes:<span><a href="index.html#type-lemma_possible_guards">lemma_possible_guards</a> option</span></span> <span>&#45;&gt;</span> <span>?&#8288;restrict_ucontext:bool</span> <span>&#45;&gt;</span> <span><a href="Recthm/index.html#type-t">Recthm.t</a> list</span> <span>&#45;&gt;</span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> list</span></code></dt><dt class="spec value" id="val-prepare_obligation"><a href="#val-prepare_obligation" class="anchor"></a><code><span class="keyword">val</span> prepare_obligation : <span>name:<a href="../Names/Id/index.html#type-t">Names.Id.t</a></span> <span>&#45;&gt;</span> <span>types:<span><a href="../EConstr/index.html#type-t">EConstr.t</a> option</span></span> <span>&#45;&gt;</span> <span>body:<a href="../EConstr/index.html#type-t">EConstr.t</a></span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Constr/index.html#type-constr">Constr.constr</a> * <a href="../Constr/index.html#type-types">Constr.types</a> * <a href="../UState/index.html#type-t">UState.t</a> * <a href="../RetrieveObl/index.html#type-obligation_info">RetrieveObl.obligation_info</a></code></dt><dd><p>Prepare API, to be removed once we provide the corresponding 1-step API</p></dd></dl><dl><dt class="spec value" id="val-prepare_parameter"><a href="#val-prepare_parameter" class="anchor"></a><code><span class="keyword">val</span> prepare_parameter : <span>poly:bool</span> <span>&#45;&gt;</span> <span>udecl:<a href="../UState/index.html#type-universe_decl">UState.universe_decl</a></span> <span>&#45;&gt;</span> <span>types:<a href="../EConstr/index.html#type-types">EConstr.types</a></span> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../Entries/index.html#type-parameter_entry">Entries.parameter_entry</a></code></dt></dl><dl><dt class="spec exception" id="exception-AlreadyDeclared"><a href="#exception-AlreadyDeclared" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">AlreadyDeclared</span> <span class="keyword">of</span> <span>string option</span> * <a href="../Names/Id/index.html#type-t">Names.Id.t</a></code></dt></dl><div class="spec module" id="module-Obls"><a href="#module-Obls" class="anchor"></a><code><span class="keyword">module</span> <a href="Obls/index.html">Obls</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Proof_ending"><a href="#module-Proof_ending" class="anchor"></a><code><span class="keyword">module</span> <a href="Proof_ending/index.html">Proof_ending</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Creating high-level proofs with an associated constant</p></dd></dl><div class="spec module" id="module-Info"><a href="#module-Info" class="anchor"></a><code><span class="keyword">module</span> <a href="Info/index.html">Info</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-save_lemma_proved"><a href="#val-save_lemma_proved" class="anchor"></a><code><span class="keyword">val</span> save_lemma_proved : <span>proof:<a href="Proof/index.html#type-t">Proof.t</a></span> <span>&#45;&gt;</span> <span>info:<a href="Info/index.html#type-t">Info.t</a></span> <span>&#45;&gt;</span> <span>opaque:<a href="index.html#type-opacity_flag">opacity_flag</a></span> <span>&#45;&gt;</span> <span>idopt:<span><a href="../Names/index.html#type-lident">Names.lident</a> option</span></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-save_lemma_admitted"><a href="#val-save_lemma_admitted" class="anchor"></a><code><span class="keyword">val</span> save_lemma_admitted : <span>proof:<a href="Proof/index.html#type-t">Proof.t</a></span> <span>&#45;&gt;</span> <span>info:<a href="Info/index.html#type-t">Info.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-save_lemma_admitted_delayed"><a href="#val-save_lemma_admitted_delayed" class="anchor"></a><code><span class="keyword">val</span> save_lemma_admitted_delayed : <span>proof:<a href="index.html#type-proof_object">proof_object</a></span> <span>&#45;&gt;</span> <span>info:<a href="Info/index.html#type-t">Info.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Special cases for delayed proofs, in this case we must provide the proof information so the proof won't be forced.</p></dd></dl><dl><dt class="spec value" id="val-save_lemma_proved_delayed"><a href="#val-save_lemma_proved_delayed" class="anchor"></a><code><span class="keyword">val</span> save_lemma_proved_delayed : <span>proof:<a href="index.html#type-proof_object">proof_object</a></span> <span>&#45;&gt;</span> <span>info:<a href="Info/index.html#type-t">Info.t</a></span> <span>&#45;&gt;</span> <span>idopt:<span><a href="../Names/index.html#type-lident">Names.lident</a> option</span></span> <span>&#45;&gt;</span> unit</code></dt></dl></section></div></body></html>