<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Rewrite (coq.Ltac_plugin.Rewrite)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">coq</a> &#x00BB; <a href="../index.html">Ltac_plugin</a> &#x00BB; Rewrite</nav><h1>Module <code>Ltac_plugin.Rewrite</code></h1></header><aside><p>TODO: document and clean me!</p></aside><dl><dt class="spec type" id="type-rewrite_attributes"><a href="#type-rewrite_attributes" class="anchor"></a><code><span class="keyword">type</span> rewrite_attributes</code></dt></dl><dl><dt class="spec value" id="val-rewrite_attributes"><a href="#val-rewrite_attributes" class="anchor"></a><code><span class="keyword">val</span> rewrite_attributes : <a href="index.html#type-rewrite_attributes">rewrite_attributes</a> <a href="../../Attributes/index.html#type-attribute">Attributes.attribute</a></code></dt></dl><dl><dt class="spec type" id="type-unary_strategy"><a href="#type-unary_strategy" class="anchor"></a><code><span class="keyword">type</span> unary_strategy</code><code> = </code><table class="variant"><tr id="type-unary_strategy.Subterms" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Subterms" class="anchor"></a><code>| </code><code><span class="constructor">Subterms</span></code></td></tr><tr id="type-unary_strategy.Subterm" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Subterm" class="anchor"></a><code>| </code><code><span class="constructor">Subterm</span></code></td></tr><tr id="type-unary_strategy.Innermost" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Innermost" class="anchor"></a><code>| </code><code><span class="constructor">Innermost</span></code></td></tr><tr id="type-unary_strategy.Outermost" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Outermost" class="anchor"></a><code>| </code><code><span class="constructor">Outermost</span></code></td></tr><tr id="type-unary_strategy.Bottomup" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Bottomup" class="anchor"></a><code>| </code><code><span class="constructor">Bottomup</span></code></td></tr><tr id="type-unary_strategy.Topdown" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Topdown" class="anchor"></a><code>| </code><code><span class="constructor">Topdown</span></code></td></tr><tr id="type-unary_strategy.Progress" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Progress" class="anchor"></a><code>| </code><code><span class="constructor">Progress</span></code></td></tr><tr id="type-unary_strategy.Try" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Try" class="anchor"></a><code>| </code><code><span class="constructor">Try</span></code></td></tr><tr id="type-unary_strategy.Any" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Any" class="anchor"></a><code>| </code><code><span class="constructor">Any</span></code></td></tr><tr id="type-unary_strategy.Repeat" class="anchored"><td class="def constructor"><a href="#type-unary_strategy.Repeat" class="anchor"></a><code>| </code><code><span class="constructor">Repeat</span></code></td></tr></table></dt><dt class="spec type" id="type-binary_strategy"><a href="#type-binary_strategy" class="anchor"></a><code><span class="keyword">type</span> binary_strategy</code><code> = </code><table class="variant"><tr id="type-binary_strategy.Compose" class="anchored"><td class="def constructor"><a href="#type-binary_strategy.Compose" class="anchor"></a><code>| </code><code><span class="constructor">Compose</span></code></td></tr><tr id="type-binary_strategy.Choice" class="anchored"><td class="def constructor"><a href="#type-binary_strategy.Choice" class="anchor"></a><code>| </code><code><span class="constructor">Choice</span></code></td></tr></table></dt><dt class="spec type" id="type-strategy_ast"><a href="#type-strategy_ast" class="anchor"></a><code><span class="keyword">type</span> ('constr, 'redexpr) strategy_ast</code><code> = </code><table class="variant"><tr id="type-strategy_ast.StratId" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratId" class="anchor"></a><code>| </code><code><span class="constructor">StratId</span></code></td></tr><tr id="type-strategy_ast.StratFail" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratFail" class="anchor"></a><code>| </code><code><span class="constructor">StratFail</span></code></td></tr><tr id="type-strategy_ast.StratRefl" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratRefl" class="anchor"></a><code>| </code><code><span class="constructor">StratRefl</span></code></td></tr><tr id="type-strategy_ast.StratUnary" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratUnary" class="anchor"></a><code>| </code><code><span class="constructor">StratUnary</span> <span class="keyword">of</span> <a href="index.html#type-unary_strategy">unary_strategy</a> * (<span class="type-var">'constr</span>, <span class="type-var">'redexpr</span>) <a href="index.html#type-strategy_ast">strategy_ast</a></code></td></tr><tr id="type-strategy_ast.StratBinary" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratBinary" class="anchor"></a><code>| </code><code><span class="constructor">StratBinary</span> <span class="keyword">of</span> <a href="index.html#type-binary_strategy">binary_strategy</a> * (<span class="type-var">'constr</span>, <span class="type-var">'redexpr</span>) <a href="index.html#type-strategy_ast">strategy_ast</a> * (<span class="type-var">'constr</span>, <span class="type-var">'redexpr</span>) <a href="index.html#type-strategy_ast">strategy_ast</a></code></td></tr><tr id="type-strategy_ast.StratConstr" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratConstr" class="anchor"></a><code>| </code><code><span class="constructor">StratConstr</span> <span class="keyword">of</span> <span class="type-var">'constr</span> * bool</code></td></tr><tr id="type-strategy_ast.StratTerms" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratTerms" class="anchor"></a><code>| </code><code><span class="constructor">StratTerms</span> <span class="keyword">of</span> <span class="type-var">'constr</span> list</code></td></tr><tr id="type-strategy_ast.StratHints" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratHints" class="anchor"></a><code>| </code><code><span class="constructor">StratHints</span> <span class="keyword">of</span> bool * string</code></td></tr><tr id="type-strategy_ast.StratEval" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratEval" class="anchor"></a><code>| </code><code><span class="constructor">StratEval</span> <span class="keyword">of</span> <span class="type-var">'redexpr</span></code></td></tr><tr id="type-strategy_ast.StratFold" class="anchored"><td class="def constructor"><a href="#type-strategy_ast.StratFold" class="anchor"></a><code>| </code><code><span class="constructor">StratFold</span> <span class="keyword">of</span> <span class="type-var">'constr</span></code></td></tr></table></dt><dt class="spec type" id="type-rewrite_proof"><a href="#type-rewrite_proof" class="anchor"></a><code><span class="keyword">type</span> rewrite_proof</code><code> = </code><table class="variant"><tr id="type-rewrite_proof.RewPrf" class="anchored"><td class="def constructor"><a href="#type-rewrite_proof.RewPrf" class="anchor"></a><code>| </code><code><span class="constructor">RewPrf</span> <span class="keyword">of</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> * <a href="../../EConstr/index.html#type-constr">EConstr.constr</a></code></td></tr><tr id="type-rewrite_proof.RewCast" class="anchored"><td class="def constructor"><a href="#type-rewrite_proof.RewCast" class="anchor"></a><code>| </code><code><span class="constructor">RewCast</span> <span class="keyword">of</span> <a href="../../Constr/index.html#type-cast_kind">Constr.cast_kind</a></code></td></tr></table></dt><dt class="spec type" id="type-evars"><a href="#type-evars" class="anchor"></a><code><span class="keyword">type</span> evars</code><code> = <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../../Evar/index.html#module-Set">Evar.Set</a>.t</code></dt><dt class="spec type" id="type-rewrite_result_info"><a href="#type-rewrite_result_info" class="anchor"></a><code><span class="keyword">type</span> rewrite_result_info</code><code> = </code><code>{</code><table class="record"><tr id="type-rewrite_result_info.rew_car" class="anchored"><td class="def field"><a href="#type-rewrite_result_info.rew_car" class="anchor"></a><code>rew_car : <a href="../../EConstr/index.html#type-constr">EConstr.constr</a>;</code></td></tr><tr id="type-rewrite_result_info.rew_from" class="anchored"><td class="def field"><a href="#type-rewrite_result_info.rew_from" class="anchor"></a><code>rew_from : <a href="../../EConstr/index.html#type-constr">EConstr.constr</a>;</code></td></tr><tr id="type-rewrite_result_info.rew_to" class="anchored"><td class="def field"><a href="#type-rewrite_result_info.rew_to" class="anchor"></a><code>rew_to : <a href="../../EConstr/index.html#type-constr">EConstr.constr</a>;</code></td></tr><tr id="type-rewrite_result_info.rew_prf" class="anchored"><td class="def field"><a href="#type-rewrite_result_info.rew_prf" class="anchor"></a><code>rew_prf : <a href="index.html#type-rewrite_proof">rewrite_proof</a>;</code></td></tr><tr id="type-rewrite_result_info.rew_evars" class="anchored"><td class="def field"><a href="#type-rewrite_result_info.rew_evars" class="anchor"></a><code>rew_evars : <a href="index.html#type-evars">evars</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-rewrite_result"><a href="#type-rewrite_result" class="anchor"></a><code><span class="keyword">type</span> rewrite_result</code><code> = </code><table class="variant"><tr id="type-rewrite_result.Fail" class="anchored"><td class="def constructor"><a href="#type-rewrite_result.Fail" class="anchor"></a><code>| </code><code><span class="constructor">Fail</span></code></td></tr><tr id="type-rewrite_result.Identity" class="anchored"><td class="def constructor"><a href="#type-rewrite_result.Identity" class="anchor"></a><code>| </code><code><span class="constructor">Identity</span></code></td></tr><tr id="type-rewrite_result.Success" class="anchored"><td class="def constructor"><a href="#type-rewrite_result.Success" class="anchor"></a><code>| </code><code><span class="constructor">Success</span> <span class="keyword">of</span> <a href="index.html#type-rewrite_result_info">rewrite_result_info</a></code></td></tr></table></dt><dt class="spec type" id="type-strategy"><a href="#type-strategy" class="anchor"></a><code><span class="keyword">type</span> strategy</code></dt></dl><dl><dt class="spec value" id="val-strategy_of_ast"><a href="#val-strategy_of_ast" class="anchor"></a><code><span class="keyword">val</span> strategy_of_ast : (<a href="../../Genintern/index.html#type-glob_constr_and_expr">Genintern.glob_constr_and_expr</a>, <a href="../Tacexpr/index.html#type-raw_red_expr">Tacexpr.raw_red_expr</a>) <a href="index.html#type-strategy_ast">strategy_ast</a> <span>&#45;&gt;</span> <a href="index.html#type-strategy">strategy</a></code></dt><dt class="spec value" id="val-map_strategy"><a href="#val-map_strategy" class="anchor"></a><code><span class="keyword">val</span> map_strategy : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>) <a href="index.html#type-strategy_ast">strategy_ast</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'d</span>) <a href="index.html#type-strategy_ast">strategy_ast</a></code></dt><dt class="spec value" id="val-pr_strategy"><a href="#val-pr_strategy" class="anchor"></a><code><span class="keyword">val</span> pr_strategy : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../Pp/index.html#type-t">Pp.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="../../Pp/index.html#type-t">Pp.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-strategy_ast">strategy_ast</a> <span>&#45;&gt;</span> <a href="../../Pp/index.html#type-t">Pp.t</a></code></dt><dt class="spec value" id="val-cl_rewrite_clause_strat"><a href="#val-cl_rewrite_clause_strat" class="anchor"></a><code><span class="keyword">val</span> cl_rewrite_clause_strat : <a href="index.html#type-strategy">strategy</a> <span>&#45;&gt;</span> <a href="../../Names/Id/index.html#type-t">Names.Id.t</a> option <span>&#45;&gt;</span> unit <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></code></dt><dd><p>Entry point for user-level &quot;rewrite_strat&quot;</p></dd></dl><dl><dt class="spec value" id="val-cl_rewrite_clause"><a href="#val-cl_rewrite_clause" class="anchor"></a><code><span class="keyword">val</span> cl_rewrite_clause : (<a href="../Tacinterp/index.html#type-interp_sign">Tacinterp.interp_sign</a> * (<a href="../../Genintern/index.html#type-glob_constr_and_expr">Genintern.glob_constr_and_expr</a> * <a href="../../Genintern/index.html#type-glob_constr_and_expr">Genintern.glob_constr_and_expr</a> <a href="../../Tactypes/index.html#type-bindings">Tactypes.bindings</a>)) <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <a href="../../Locus/index.html#type-occurrences">Locus.occurrences</a> <span>&#45;&gt;</span> <a href="../../Names/Id/index.html#type-t">Names.Id.t</a> option <span>&#45;&gt;</span> unit <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></code></dt><dd><p>Entry point for user-level &quot;setoid_rewrite&quot;</p></dd></dl><dl><dt class="spec value" id="val-is_applied_rewrite_relation"><a href="#val-is_applied_rewrite_relation" class="anchor"></a><code><span class="keyword">val</span> is_applied_rewrite_relation : <a href="../../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-rel_context">EConstr.rel_context</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-types">EConstr.types</a> option</code></dt><dt class="spec value" id="val-declare_relation"><a href="#val-declare_relation" class="anchor"></a><code><span class="keyword">val</span> declare_relation : <a href="index.html#type-rewrite_attributes">rewrite_attributes</a> <span>&#45;&gt;</span> ?&#8288;binders:<a href="../../Constrexpr/index.html#type-local_binder_expr">Constrexpr.local_binder_expr</a> list <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> option <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> option <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> option <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-add_setoid"><a href="#val-add_setoid" class="anchor"></a><code><span class="keyword">val</span> add_setoid : <a href="index.html#type-rewrite_attributes">rewrite_attributes</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-local_binder_expr">Constrexpr.local_binder_expr</a> list <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-add_morphism_infer"><a href="#val-add_morphism_infer" class="anchor"></a><code><span class="keyword">val</span> add_morphism_infer : <a href="index.html#type-rewrite_attributes">rewrite_attributes</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-add_morphism"><a href="#val-add_morphism" class="anchor"></a><code><span class="keyword">val</span> add_morphism : <a href="index.html#type-rewrite_attributes">rewrite_attributes</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-local_binder_expr">Constrexpr.local_binder_expr</a> list <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Constrexpr/index.html#type-constr_expr">Constrexpr.constr_expr</a> <span>&#45;&gt;</span> <a href="../../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_reflexive_proof"><a href="#val-get_reflexive_proof" class="anchor"></a><code><span class="keyword">val</span> get_reflexive_proof : <a href="../../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dt class="spec value" id="val-get_symmetric_proof"><a href="#val-get_symmetric_proof" class="anchor"></a><code><span class="keyword">val</span> get_symmetric_proof : <a href="../../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dt class="spec value" id="val-get_transitive_proof"><a href="#val-get_transitive_proof" class="anchor"></a><code><span class="keyword">val</span> get_transitive_proof : <a href="../../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> * <a href="../../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dt class="spec value" id="val-default_morphism"><a href="#val-default_morphism" class="anchor"></a><code><span class="keyword">val</span> default_morphism : ((<a href="../../EConstr/index.html#type-types">EConstr.types</a> * <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> option) option list * (<a href="../../EConstr/index.html#type-types">EConstr.types</a> * <a href="../../EConstr/index.html#type-types">EConstr.types</a> option) option) <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> * <a href="../../EConstr/index.html#type-constr">EConstr.constr</a></code></dt><dt class="spec value" id="val-setoid_symmetry"><a href="#val-setoid_symmetry" class="anchor"></a><code><span class="keyword">val</span> setoid_symmetry : unit <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></code></dt><dt class="spec value" id="val-setoid_symmetry_in"><a href="#val-setoid_symmetry_in" class="anchor"></a><code><span class="keyword">val</span> setoid_symmetry_in : <a href="../../Names/Id/index.html#type-t">Names.Id.t</a> <span>&#45;&gt;</span> unit <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></code></dt><dt class="spec value" id="val-setoid_reflexivity"><a href="#val-setoid_reflexivity" class="anchor"></a><code><span class="keyword">val</span> setoid_reflexivity : unit <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></code></dt><dt class="spec value" id="val-setoid_transitivity"><a href="#val-setoid_transitivity" class="anchor"></a><code><span class="keyword">val</span> setoid_transitivity : <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> option <span>&#45;&gt;</span> unit <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></code></dt><dt class="spec value" id="val-apply_strategy"><a href="#val-apply_strategy" class="anchor"></a><code><span class="keyword">val</span> apply_strategy : <a href="index.html#type-strategy">strategy</a> <span>&#45;&gt;</span> <a href="../../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../../Names/Id/index.html#module-Set">Names.Id.Set</a>.t <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> (bool * <a href="../../EConstr/index.html#type-constr">EConstr.constr</a>) <span>&#45;&gt;</span> <a href="index.html#type-evars">evars</a> <span>&#45;&gt;</span> <a href="index.html#type-rewrite_result">rewrite_result</a></code></dt></dl></div></body></html>