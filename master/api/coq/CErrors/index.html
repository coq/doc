<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CErrors (coq.CErrors)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coq</a> &#x00BB; CErrors</nav><h1>Module <code>CErrors</code></h1><p>This modules implements basic manipulations of errors for use throughout Coq's code.</p><nav class="toc"><ul><li><a href="#error-handling">Error handling</a></li><li><a href="#generic-errors.">Generic errors.</a></li></ul></nav></header><section><header><h6 id="error-handling"><a href="#error-handling" class="anchor"></a>Error handling</h6></header><dl><dt class="spec value" id="val-push"><a href="#val-push" class="anchor"></a><code><span class="keyword">val</span> push : exn <span>&#45;&gt;</span> <a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a></code></dt><dd><p>Alias for <code>Backtrace.add_backtrace</code>.</p></dd></dl></section><section><header><h6 id="generic-errors."><a href="#generic-errors." class="anchor"></a>Generic errors.</h6><p><code>Anomaly</code> is used for system errors and <code>UserError</code> for the user's ones.</p></header><dl><dt class="spec value" id="val-make_anomaly"><a href="#val-make_anomaly" class="anchor"></a><code><span class="keyword">val</span> make_anomaly : ?&#8288;label:string <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a> <span>&#45;&gt;</span> exn</code></dt><dd><p>Create an anomaly.</p></dd></dl><dl><dt class="spec value" id="val-anomaly"><a href="#val-anomaly" class="anchor"></a><code><span class="keyword">val</span> anomaly : ?&#8288;loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span>&#45;&gt;</span> ?&#8288;label:string <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Raise an anomaly, with an optional location and an optional label identifying the anomaly.</p></dd></dl><dl><dt class="spec value" id="val-is_anomaly"><a href="#val-is_anomaly" class="anchor"></a><code><span class="keyword">val</span> is_anomaly : exn <span>&#45;&gt;</span> bool</code></dt><dd><p>Check whether a given exception is an anomaly. This is mostly provided for compatibility. Please avoid doing specific tricks with anomalies thanks to it. See rather <code>noncritical</code> below.</p></dd></dl><dl><dt class="spec exception" id="exception-UserError"><a href="#exception-UserError" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">UserError</span> <span class="keyword">of</span> string option * <a href="../Pp/index.html#type-t">Pp.t</a></code></dt><dd><p>Main error signaling exception. It carries a header plus a pretty printing doc</p></dd></dl><dl><dt class="spec value" id="val-user_err"><a href="#val-user_err" class="anchor"></a><code><span class="keyword">val</span> user_err : ?&#8288;loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span>&#45;&gt;</span> ?&#8288;hdr:string <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Main error raising primitive. <code>user_err ?loc ?hdr pp</code> signals an error <code>pp</code> with optional header and location <code>hdr</code> <code>loc</code></p></dd></dl><dl><dt class="spec exception" id="exception-AlreadyDeclared"><a href="#exception-AlreadyDeclared" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">AlreadyDeclared</span> <span class="keyword">of</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt></dl><dl><dt class="spec value" id="val-alreadydeclared"><a href="#val-alreadydeclared" class="anchor"></a><code><span class="keyword">val</span> alreadydeclared : <a href="../Pp/index.html#type-t">Pp.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-invalid_arg"><a href="#val-invalid_arg" class="anchor"></a><code><span class="keyword">val</span> invalid_arg : ?&#8288;loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><aside><p><code>todo</code> is for running of an incomplete code its implementation is &quot;do nothing&quot; (or print a message), but this function should not be used in a released code</p></aside><dl><dt class="spec value" id="val-todo"><a href="#val-todo" class="anchor"></a><code><span class="keyword">val</span> todo : string <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec exception" id="exception-Timeout"><a href="#exception-Timeout" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Timeout</span></code></dt></dl><aside><p><code>register_handler h</code> registers <code>h</code> as a handler. When an expression is printed with <code>print e</code>, it goes through all registered handles (the most recent first) until a handle deals with it.</p><p>Handles signal that they don't deal with some exception by raising <code>Unhandled</code>.</p><p>Handles can raise exceptions themselves, in which case, the exception is passed to the handles which were registered before.</p><p>The exception that are considered anomalies should not be handled by registered handlers.</p></aside><dl><dt class="spec exception" id="exception-Unhandled"><a href="#exception-Unhandled" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Unhandled</span></code></dt></dl><dl><dt class="spec value" id="val-register_handler"><a href="#val-register_handler" class="anchor"></a><code><span class="keyword">val</span> register_handler : (exn <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a>) <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val</span> print : ?&#8288;info:<a href="../Exninfo/index.html#type-info">Exninfo.info</a> <span>&#45;&gt;</span> exn <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt><dd><p>The standard exception printer</p></dd></dl><dl><dt class="spec value" id="val-iprint"><a href="#val-iprint" class="anchor"></a><code><span class="keyword">val</span> iprint : <a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a> <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt><dt class="spec value" id="val-print_no_report"><a href="#val-print_no_report" class="anchor"></a><code><span class="keyword">val</span> print_no_report : exn <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt><dd><p>Same as <code>print</code>, except that the &quot;Please report&quot; part of an anomaly isn't printed (used in Ltac debugging).</p></dd></dl><dl><dt class="spec value" id="val-iprint_no_report"><a href="#val-iprint_no_report" class="anchor"></a><code><span class="keyword">val</span> iprint_no_report : <a href="../Exninfo/index.html#type-iexn">Exninfo.iexn</a> <span>&#45;&gt;</span> <a href="../Pp/index.html#type-t">Pp.t</a></code></dt><dt class="spec value" id="val-noncritical"><a href="#val-noncritical" class="anchor"></a><code><span class="keyword">val</span> noncritical : exn <span>&#45;&gt;</span> bool</code></dt><dd><p>Critical exceptions should not be caught and ignored by mistake by inner functions during a <code>vernacinterp</code>. They should be handled only in <code>Toplevel.do_vernac</code> (or Ideslave), to be displayed to the user. Typical example: <code>Sys.Break</code>, <code>Assert_failure</code>, <code>Anomaly</code> ...</p></dd></dl><dl><dt class="spec value" id="val-handled"><a href="#val-handled" class="anchor"></a><code><span class="keyword">val</span> handled : exn <span>&#45;&gt;</span> bool</code></dt><dd><p>Check whether an exception is handled by some toplevel printer. The <code>Anomaly</code> exception is never handled.</p></dd></dl></section></div></body></html>