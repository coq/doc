<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Safe_typing (rocq-runtime.Safe_typing)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">rocq-runtime</a> &#x00BB; Safe_typing</nav><header class="odoc-preamble"><h1>Module <code><span>Safe_typing</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#safe-environments">Safe environments</a></li><li><a href="#stm-machinery">Stm machinery</a></li><li><a href="#delayed-proofs">Delayed proofs</a></li><li><a href="#rewrite-rules">Rewrite rules</a></li><li><a href="#inductive-blocks">Inductive blocks</a></li><li><a href="#interactive-section-functions">Interactive section functions</a></li><li><a href="#interactive-module-functions">Interactive module functions</a></li><li><a href="#libraries-:-loading-and-saving-compilation-units">Libraries : loading and saving compilation units</a></li><li><a href="#safe-typing-judgments">Safe typing judgments</a></li><li><a href="#queries">Queries</a></li><li><a href="#retroknowledge-/-native-compiler">Retroknowledge / Native compiler</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-vodigest" class="anchored"><a href="#type-vodigest" class="anchor"></a><code><span><span class="keyword">type</span> vodigest</span><span> = </span></code><table><tr id="type-vodigest.Dvo_or_vi" class="anchored"><td class="def variant constructor"><a href="#type-vodigest.Dvo_or_vi" class="anchor"></a><code><span>| </span><span><span class="constructor">Dvo_or_vi</span> <span class="keyword">of</span> <span class="xref-unresolved">Stdlib</span>.Digest.t</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-digest_match" class="anchored"><a href="#val-digest_match" class="anchor"></a><code><span><span class="keyword">val</span> digest_match : <span>actual:<a href="#type-vodigest">vodigest</a> <span class="arrow">&#45;&gt;</span></span> <span>required:<a href="#type-vodigest">vodigest</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><h6 id="safe-environments"><a href="#safe-environments" class="anchor"></a>Safe environments</h6><p>Since we are now able to type terms, we can define an abstract type of safe environments, where objects are typed before being added.</p><p>We also provide functionality for modules : <code>start_module</code>, <code>end_module</code>, etc.</p><div class="odoc-spec"><div class="spec type" id="type-safe_environment" class="anchored"><a href="#type-safe_environment" class="anchor"></a><code><span><span class="keyword">type</span> safe_environment</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-section_data" class="anchored"><a href="#type-section_data" class="anchor"></a><code><span><span class="keyword">type</span> section_data</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_environment" class="anchored"><a href="#val-empty_environment" class="anchor"></a><code><span><span class="keyword">val</span> empty_environment : <a href="#type-safe_environment">safe_environment</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-env_of_safe_env" class="anchored"><a href="#val-env_of_safe_env" class="anchor"></a><code><span><span class="keyword">val</span> env_of_safe_env : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Environ/index.html#type-env">Environ.env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sections_of_safe_env" class="anchored"><a href="#val-sections_of_safe_env" class="anchor"></a><code><span><span class="keyword">val</span> sections_of_safe_env : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-section_data">section_data</a> <a href="../Section/index.html#type-t">Section.t</a></span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-structure_body_of_safe_env" class="anchored"><a href="#val-structure_body_of_safe_env" class="anchor"></a><code><span><span class="keyword">val</span> structure_body_of_safe_env : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Mod_declarations/index.html#type-structure_body">Mod_declarations.structure_body</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-flatten_env" class="anchored"><a href="#val-flatten_env" class="anchor"></a><code><span><span class="keyword">val</span> flatten_env : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> * <a href="../Mod_declarations/index.html#type-structure_body">Mod_declarations.structure_body</a></span></code></div></div><p>The safe_environment state monad</p><div class="odoc-spec"><div class="spec type" id="type-safe_transformer0" class="anchored"><a href="#type-safe_transformer0" class="anchor"></a><code><span><span class="keyword">type</span> safe_transformer0</span><span> = <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_environment">safe_environment</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-safe_transformer" class="anchored"><a href="#type-safe_transformer" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a safe_transformer</span></span><span> = <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> * <a href="#type-safe_environment">safe_environment</a></span></code></div></div><h6 id="stm-machinery"><a href="#stm-machinery" class="anchor"></a>Stm machinery</h6><div class="odoc-spec"><div class="spec type" id="type-private_constants" class="anchored"><a href="#type-private_constants" class="anchor"></a><code><span><span class="keyword">type</span> private_constants</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_private_constants" class="anchored"><a href="#val-empty_private_constants" class="anchor"></a><code><span><span class="keyword">val</span> empty_private_constants : <a href="#type-private_constants">private_constants</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_empty_private_constants" class="anchored"><a href="#val-is_empty_private_constants" class="anchor"></a><code><span><span class="keyword">val</span> is_empty_private_constants : <span><a href="#type-private_constants">private_constants</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-concat_private" class="anchored"><a href="#val-concat_private" class="anchor"></a><code><span><span class="keyword">val</span> concat_private : <span><a href="#type-private_constants">private_constants</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-private_constants">private_constants</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-private_constants">private_constants</a></span></code></div><div class="spec-doc"><p><code>concat_private e1 e2</code> adds the constants of <code>e1</code> to <code>e2</code>, i.e. constants in <code>e1</code> must be more recent than those of <code>e2</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-inline_private_constants" class="anchored"><a href="#val-inline_private_constants" class="anchor"></a><code><span><span class="keyword">val</span> inline_private_constants : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-private_constants">private_constants</a> <a href="../Entries/index.html#type-proof_output">Entries.proof_output</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="../Univ/index.html#type-in_universe_context_set">Univ.in_universe_context_set</a></span></span></code></div><div class="spec-doc"><p>Abstract the private constants of a proof over the proof output</p></div></div><div class="odoc-spec"><div class="spec value" id="val-push_private_constants" class="anchored"><a href="#val-push_private_constants" class="anchor"></a><code><span><span class="keyword">val</span> push_private_constants : <span><a href="../Environ/index.html#type-env">Environ.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-private_constants">private_constants</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Environ/index.html#type-env">Environ.env</a></span></code></div><div class="spec-doc"><p>Push the constants in the environment if not already there.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-universes_of_private" class="anchored"><a href="#val-universes_of_private" class="anchor"></a><code><span><span class="keyword">val</span> universes_of_private : <span><a href="#type-private_constants">private_constants</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_curmod_library" class="anchored"><a href="#val-is_curmod_library" class="anchor"></a><code><span><span class="keyword">val</span> is_curmod_library : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_joined_environment" class="anchored"><a href="#val-is_joined_environment" class="anchor"></a><code><span><span class="keyword">val</span> is_joined_environment : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Enriching a safe environment</p></div></div><p>Insertion of global axioms or definitions</p><div class="odoc-spec"><div class="spec type" id="type-side_effect_declaration" class="anchored"><a href="#type-side_effect_declaration" class="anchor"></a><code><span><span class="keyword">type</span> side_effect_declaration</span><span> = </span></code><table><tr id="type-side_effect_declaration.DefinitionEff" class="anchored"><td class="def variant constructor"><a href="#type-side_effect_declaration.DefinitionEff" class="anchor"></a><code><span>| </span><span><span class="constructor">DefinitionEff</span> : <a href="../Entries/index.html#type-definition_entry">Entries.definition_entry</a> <span class="arrow">&#45;&gt;</span> <a href="#type-side_effect_declaration">side_effect_declaration</a></span></code></td></tr><tr id="type-side_effect_declaration.OpaqueEff" class="anchored"><td class="def variant constructor"><a href="#type-side_effect_declaration.OpaqueEff" class="anchor"></a><code><span>| </span><span><span class="constructor">OpaqueEff</span> : <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <a href="../Entries/index.html#type-opaque_entry">Entries.opaque_entry</a></span> <span class="arrow">&#45;&gt;</span> <a href="#type-side_effect_declaration">side_effect_declaration</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-exported_opaque" class="anchored"><a href="#type-exported_opaque" class="anchor"></a><code><span><span class="keyword">type</span> exported_opaque</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-exported_private_constant" class="anchored"><a href="#type-exported_private_constant" class="anchor"></a><code><span><span class="keyword">type</span> exported_private_constant</span><span> = <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> * <span><a href="#type-exported_opaque">exported_opaque</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-repr_exported_opaque" class="anchored"><a href="#val-repr_exported_opaque" class="anchor"></a><code><span><span class="keyword">val</span> repr_exported_opaque : <span><a href="#type-exported_opaque">exported_opaque</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Opaqueproof/index.html#type-opaque_handle">Opaqueproof.opaque_handle</a> * <a href="../Opaqueproof/index.html#type-opaque_proofterm">Opaqueproof.opaque_proofterm</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-export_private_constants" class="anchored"><a href="#val-export_private_constants" class="anchor"></a><code><span><span class="keyword">val</span> export_private_constants : <span><a href="#type-private_constants">private_constants</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-exported_private_constant">exported_private_constant</a> list</span> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_constant" class="anchored"><a href="#val-add_constant" class="anchor"></a><code><span><span class="keyword">val</span> add_constant : <span>?typing_flags:<a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Entries/index.html#type-constant_entry">Entries.constant_entry</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div><div class="spec-doc"><p>returns the main constant</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_private_constant" class="anchored"><a href="#val-add_private_constant" class="anchor"></a><code><span><span class="keyword">val</span> add_private_constant : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-side_effect_declaration">side_effect_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> * <a href="#type-private_constants">private_constants</a>)</span> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div><div class="spec-doc"><p>Similar to add_constant but also returns a certificate</p></div></div><h6 id="delayed-proofs"><a href="#delayed-proofs" class="anchor"></a>Delayed proofs</h6><div class="odoc-spec"><div class="spec type" id="type-opaque_certificate" class="anchored"><a href="#type-opaque_certificate" class="anchor"></a><code><span><span class="keyword">type</span> opaque_certificate</span></code></div><div class="spec-doc"><p>Witness that a delayed Qed hole has a proof. This datatype is marshallable but care must be taken to marshal it at the same time as the environment it is referring to, since <a href="#val-fill_opaque"><code>fill_opaque</code></a> relies on a shared pointer between the environment and the certificate.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-check_opaque" class="anchored"><a href="#val-check_opaque" class="anchor"></a><code><span><span class="keyword">val</span> check_opaque : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Opaqueproof/index.html#type-opaque_handle">Opaqueproof.opaque_handle</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-private_constants">private_constants</a> <a href="../Entries/index.html#type-proof_output">Entries.proof_output</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-opaque_certificate">opaque_certificate</a></span></code></div><div class="spec-doc"><p>Check that the provided proof is correct for the corresponding handle. This does not modify the environment. Call <a href="#val-fill_opaque"><code>fill_opaque</code></a> below for that.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_opaque" class="anchored"><a href="#val-fill_opaque" class="anchor"></a><code><span><span class="keyword">val</span> fill_opaque : <span><a href="#type-opaque_certificate">opaque_certificate</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div><div class="spec-doc"><p>Given an already checked proof for an opaque hole, actually fill it with the proof. This might fail if the current set of global universes is inconsistent with the one at the time of the call to <a href="#val-check_opaque"><code>check_opaque</code></a>. Precondition: the underlying handle must exist and must not have been filled.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_filled_opaque" class="anchored"><a href="#val-is_filled_opaque" class="anchor"></a><code><span><span class="keyword">val</span> is_filled_opaque : <span><a href="../Opaqueproof/index.html#type-opaque_handle">Opaqueproof.opaque_handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check whether a handle was filled. It assumes that the handle was introduced in the opaque table and throws an anomaly otherwise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-repr_certificate" class="anchored"><a href="#val-repr_certificate" class="anchor"></a><code><span><span class="keyword">val</span> repr_certificate : <span><a href="#type-opaque_certificate">opaque_certificate</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Constr/index.html#type-t">Constr.t</a> * <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <a href="../Opaqueproof/index.html#type-delayed_universes">Opaqueproof.delayed_universes</a></span></span></code></div><div class="spec-doc"><p>Get the proof term that was checked by the kernel.</p></div></div><h6 id="rewrite-rules"><a href="#rewrite-rules" class="anchor"></a>Rewrite rules</h6><div class="odoc-spec"><div class="spec value" id="val-add_rewrite_rules" class="anchored"><a href="#val-add_rewrite_rules" class="anchor"></a><code><span><span class="keyword">val</span> add_rewrite_rules : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-rewrite_rules_body">Declarations.rewrite_rules_body</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_environment">safe_environment</a></span></code></div><div class="spec-doc"><p>Add a rewrite rule corresponding to the equality witnessed by the constant.</p></div></div><h6 id="inductive-blocks"><a href="#inductive-blocks" class="anchor"></a>Inductive blocks</h6><p>Adding an inductive type</p><div class="odoc-spec"><div class="spec value" id="val-add_mind" class="anchored"><a href="#val-add_mind" class="anchor"></a><code><span><span class="keyword">val</span> add_mind : <span>?typing_flags:<a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Entries/index.html#type-mutual_inductive_entry">Entries.mutual_inductive_entry</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a> * <span><a href="../IndTyping/NotPrimRecordReason/index.html#type-t">IndTyping.NotPrimRecordReason.t</a> option</span>)</span> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><p>Adding a module or a module type</p><div class="odoc-spec"><div class="spec value" id="val-add_module" class="anchored"><a href="#val-add_module" class="anchor"></a><code><span><span class="keyword">val</span> add_module : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Entries/index.html#type-module_entry">Entries.module_entry</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-inline">Declarations.inline</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> * <a href="../Mod_subst/index.html#type-delta_resolver">Mod_subst.delta_resolver</a>)</span> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_modtype" class="anchored"><a href="#val-add_modtype" class="anchor"></a><code><span><span class="keyword">val</span> add_modtype : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Entries/index.html#type-module_type_entry">Entries.module_type_entry</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-inline">Declarations.inline</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><p>Adding universe constraints</p><div class="odoc-spec"><div class="spec value" id="val-push_context_set" class="anchored"><a href="#val-push_context_set" class="anchor"></a><code><span><span class="keyword">val</span> push_context_set : <span>strict:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_constraints" class="anchored"><a href="#val-add_constraints" class="anchor"></a><code><span><span class="keyword">val</span> add_constraints : <span><a href="../Univ/Constraints/index.html#type-t">Univ.Constraints.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_rewrite_rules_allowed" class="anchored"><a href="#val-set_rewrite_rules_allowed" class="anchor"></a><code><span><span class="keyword">val</span> set_rewrite_rules_allowed : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div><div class="spec-doc"><p>Setting the type theory flavor</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_impredicative_set" class="anchored"><a href="#val-set_impredicative_set" class="anchor"></a><code><span><span class="keyword">val</span> set_impredicative_set : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_indices_matter" class="anchored"><a href="#val-set_indices_matter" class="anchor"></a><code><span><span class="keyword">val</span> set_indices_matter : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_typing_flags" class="anchored"><a href="#val-set_typing_flags" class="anchor"></a><code><span><span class="keyword">val</span> set_typing_flags : <span><a href="../Declarations/index.html#type-typing_flags">Declarations.typing_flags</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_share_reduction" class="anchored"><a href="#val-set_share_reduction" class="anchor"></a><code><span><span class="keyword">val</span> set_share_reduction : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_check_guarded" class="anchored"><a href="#val-set_check_guarded" class="anchor"></a><code><span><span class="keyword">val</span> set_check_guarded : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_check_positive" class="anchored"><a href="#val-set_check_positive" class="anchor"></a><code><span><span class="keyword">val</span> set_check_positive : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_check_universes" class="anchored"><a href="#val-set_check_universes" class="anchor"></a><code><span><span class="keyword">val</span> set_check_universes : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_VM" class="anchored"><a href="#val-set_VM" class="anchor"></a><code><span><span class="keyword">val</span> set_VM : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_native_compiler" class="anchored"><a href="#val-set_native_compiler" class="anchor"></a><code><span><span class="keyword">val</span> set_native_compiler : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_allow_sprop" class="anchored"><a href="#val-set_allow_sprop" class="anchor"></a><code><span><span class="keyword">val</span> set_allow_sprop : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><h6 id="interactive-section-functions"><a href="#interactive-section-functions" class="anchor"></a>Interactive section functions</h6><div class="odoc-spec"><div class="spec value" id="val-open_section" class="anchored"><a href="#val-open_section" class="anchor"></a><code><span><span class="keyword">val</span> open_section : <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-close_section" class="anchored"><a href="#val-close_section" class="anchor"></a><code><span><span class="keyword">val</span> close_section : <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sections_are_opened" class="anchored"><a href="#val-sections_are_opened" class="anchor"></a><code><span><span class="keyword">val</span> sections_are_opened : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><p>Insertion of local declarations (Local or Variables)</p><div class="odoc-spec"><div class="spec value" id="val-push_named_assum" class="anchored"><a href="#val-push_named_assum" class="anchor"></a><code><span><span class="keyword">val</span> push_named_assum : <span><span>(<a href="../Names/Id/index.html#type-t">Names.Id.t</a> * <a href="../Constr/index.html#type-types">Constr.types</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_named_def" class="anchored"><a href="#val-push_named_def" class="anchor"></a><code><span><span class="keyword">val</span> push_named_def : <span><span>(<a href="../Names/Id/index.html#type-t">Names.Id.t</a> * <a href="../Entries/index.html#type-section_def_entry">Entries.section_def_entry</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-push_section_context" class="anchored"><a href="#val-push_section_context" class="anchor"></a><code><span><span class="keyword">val</span> push_section_context : <span><a href="../UVars/UContext/index.html#type-t">UVars.UContext.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div><div class="spec-doc"><p>Add local universes to a polymorphic section</p></div></div><h6 id="interactive-module-functions"><a href="#interactive-module-functions" class="anchor"></a>Interactive module functions</h6><div class="odoc-spec"><div class="spec value" id="val-start_module" class="anchored"><a href="#val-start_module" class="anchor"></a><code><span><span class="keyword">val</span> start_module : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-start_modtype" class="anchored"><a href="#val-start_modtype" class="anchor"></a><code><span><span class="keyword">val</span> start_modtype : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_module_parameter" class="anchored"><a href="#val-add_module_parameter" class="anchor"></a><code><span><span class="keyword">val</span> add_module_parameter : <span><a href="../Names/MBId/index.html#type-t">Names.MBId.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Entries/index.html#type-module_struct_entry">Entries.module_struct_entry</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-inline">Declarations.inline</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Mod_subst/index.html#type-delta_resolver">Mod_subst.delta_resolver</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-module_num_parameters" class="anchored"><a href="#val-module_num_parameters" class="anchor"></a><code><span><span class="keyword">val</span> module_num_parameters : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span>int list</span></span></code></div><div class="spec-doc"><p>returns the number of module (type) parameters following the nested module structure. The inner module (type) comes first in the list.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-module_is_modtype" class="anchored"><a href="#val-module_is_modtype" class="anchor"></a><code><span><span class="keyword">val</span> module_is_modtype : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span>bool list</span></span></code></div><div class="spec-doc"><p>returns true if the module is a module type following the nested module structure. The inner module (type) comes first in the list. true means a module type, false a regular module</p></div></div><div class="odoc-spec"><div class="spec value" id="val-allow_delayed_constants" class="anchored"><a href="#val-allow_delayed_constants" class="anchor"></a><code><span><span class="keyword">val</span> allow_delayed_constants : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Traditional mode: check at end of module that no future was created.</p></div></div><p>The optional result type is given without its functorial part</p><div class="odoc-spec"><div class="spec value" id="val-end_module" class="anchored"><a href="#val-end_module" class="anchor"></a><code><span><span class="keyword">val</span> end_module : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../Entries/index.html#type-module_struct_entry">Entries.module_struct_entry</a> * <a href="../Declarations/index.html#type-inline">Declarations.inline</a>)</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> * <span><a href="../Names/MBId/index.html#type-t">Names.MBId.t</a> list</span> * <a href="../Mod_subst/index.html#type-delta_resolver">Mod_subst.delta_resolver</a>)</span> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-end_modtype" class="anchored"><a href="#val-end_modtype" class="anchor"></a><code><span><span class="keyword">val</span> end_modtype : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> * <span><a href="../Names/MBId/index.html#type-t">Names.MBId.t</a> list</span>)</span> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_include" class="anchored"><a href="#val-add_include" class="anchor"></a><code><span><span class="keyword">val</span> add_include : <span><a href="../Entries/index.html#type-module_struct_entry">Entries.module_struct_entry</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Declarations/index.html#type-inline">Declarations.inline</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Mod_subst/index.html#type-delta_resolver">Mod_subst.delta_resolver</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-current_modpath" class="anchored"><a href="#val-current_modpath" class="anchor"></a><code><span><span class="keyword">val</span> current_modpath : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-current_dirpath" class="anchored"><a href="#val-current_dirpath" class="anchor"></a><code><span><span class="keyword">val</span> current_dirpath : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a></span></code></div></div><h6 id="libraries-:-loading-and-saving-compilation-units"><a href="#libraries-:-loading-and-saving-compilation-units" class="anchor"></a>Libraries : loading and saving compilation units</h6><div class="odoc-spec"><div class="spec type" id="type-compiled_library" class="anchored"><a href="#type-compiled_library" class="anchor"></a><code><span><span class="keyword">type</span> compiled_library</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dirpath_of_library" class="anchored"><a href="#val-dirpath_of_library" class="anchor"></a><code><span><span class="keyword">val</span> dirpath_of_library : <span><a href="#type-compiled_library">compiled_library</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-module_of_library" class="anchored"><a href="#val-module_of_library" class="anchor"></a><code><span><span class="keyword">val</span> module_of_library : <span><a href="#type-compiled_library">compiled_library</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Mod_declarations/index.html#type-module_body">Mod_declarations.module_body</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-univs_of_library" class="anchored"><a href="#val-univs_of_library" class="anchor"></a><code><span><span class="keyword">val</span> univs_of_library : <span><a href="#type-compiled_library">compiled_library</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_flags_for_library" class="anchored"><a href="#val-check_flags_for_library" class="anchor"></a><code><span><span class="keyword">val</span> check_flags_for_library : <span><a href="#type-compiled_library">compiled_library</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-start_library" class="anchored"><a href="#val-start_library" class="anchor"></a><code><span><span class="keyword">val</span> start_library : <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-export" class="anchored"><a href="#val-export" class="anchor"></a><code><span><span class="keyword">val</span> export : <span>output_native_objects:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> * <a href="#type-compiled_library">compiled_library</a> * <a href="../Vmlibrary/index.html#type-compiled_library">Vmlibrary.compiled_library</a> * <a href="../Nativelib/index.html#type-native_library">Nativelib.native_library</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-import" class="anchored"><a href="#val-import" class="anchor"></a><code><span><span class="keyword">val</span> import : <span><a href="#type-compiled_library">compiled_library</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vmlibrary/index.html#type-on_disk">Vmlibrary.on_disk</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-vodigest">vodigest</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <a href="#type-safe_transformer">safe_transformer</a></span></span></code></div></div><h6 id="safe-typing-judgments"><a href="#safe-typing-judgments" class="anchor"></a>Safe typing judgments</h6><div class="odoc-spec"><div class="spec type" id="type-judgment" class="anchored"><a href="#type-judgment" class="anchor"></a><code><span><span class="keyword">type</span> judgment</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-judgment.jdg_env" class="anchored"><td class="def record field"><a href="#type-judgment.jdg_env" class="anchor"></a><code><span>jdg_env : <a href="#type-safe_environment">safe_environment</a>;</span></code></td></tr><tr id="type-judgment.jdg_val" class="anchored"><td class="def record field"><a href="#type-judgment.jdg_val" class="anchor"></a><code><span>jdg_val : <a href="../Constr/index.html#type-constr">Constr.constr</a>;</span></code></td></tr><tr id="type-judgment.jdg_type" class="anchored"><td class="def record field"><a href="#type-judgment.jdg_type" class="anchor"></a><code><span>jdg_type : <a href="../Constr/index.html#type-types">Constr.types</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-typing" class="anchored"><a href="#val-typing" class="anchor"></a><code><span><span class="keyword">val</span> typing : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constr/index.html#type-constr">Constr.constr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-judgment">judgment</a></span></code></div><div class="spec-doc"><p>The safe typing of a term returns a typing judgment.</p></div></div><h6 id="queries"><a href="#queries" class="anchor"></a>Queries</h6><div class="odoc-spec"><div class="spec value" id="val-exists_objlabel" class="anchored"><a href="#val-exists_objlabel" class="anchor"></a><code><span><span class="keyword">val</span> exists_objlabel : <span><a href="../Names/Label/index.html#type-t">Names.Label.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-delta_of_senv" class="anchored"><a href="#val-delta_of_senv" class="anchor"></a><code><span><span class="keyword">val</span> delta_of_senv : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Mod_subst/index.html#type-delta_resolver">Mod_subst.delta_resolver</a> * <a href="../Mod_subst/index.html#type-delta_resolver">Mod_subst.delta_resolver</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_of_delta_kn_senv" class="anchored"><a href="#val-constant_of_delta_kn_senv" class="anchor"></a><code><span><span class="keyword">val</span> constant_of_delta_kn_senv : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/KerName/index.html#type-t">Names.KerName.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/Constant/index.html#type-t">Names.Constant.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mind_of_delta_kn_senv" class="anchored"><a href="#val-mind_of_delta_kn_senv" class="anchor"></a><code><span><span class="keyword">val</span> mind_of_delta_kn_senv : <span><a href="#type-safe_environment">safe_environment</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/KerName/index.html#type-t">Names.KerName.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Names/MutInd/index.html#type-t">Names.MutInd.t</a></span></code></div></div><h6 id="retroknowledge-/-native-compiler"><a href="#retroknowledge-/-native-compiler" class="anchor"></a>Retroknowledge / Native compiler</h6><div class="odoc-spec"><div class="spec value" id="val-register_inline" class="anchored"><a href="#val-register_inline" class="anchor"></a><code><span><span class="keyword">val</span> register_inline : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-register_inductive" class="anchored"><a href="#val-register_inductive" class="anchor"></a><code><span><span class="keyword">val</span> register_inductive : <span><a href="../Names/index.html#type-inductive">Names.inductive</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../CPrimitives/index.html#type-prim_ind">CPrimitives.prim_ind</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_strategy" class="anchored"><a href="#val-set_strategy" class="anchor"></a><code><span><span class="keyword">val</span> set_strategy : <span><a href="../Conv_oracle/index.html#type-evaluable">Conv_oracle.evaluable</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Conv_oracle/index.html#type-level">Conv_oracle.level</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-safe_transformer0">safe_transformer0</a></span></code></div></div></div></body></html>