<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Xml_parser (coqide-server.Xml_parser)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coqide-server</a> &#x00BB; Xml_parser</nav><h1>Module <code>Xml_parser</code></h1><p>Xml Light Parser</p><p>While basic parsing functions can be used in the <code>Xml</code> module, this module is providing a way to create, configure and run an Xml parser.</p><nav class="toc"><ul><li><a href="#exc">Xml Exceptions</a></li></ul></nav></header><dl><dt class="spec type" id="type-xml"><a href="#type-xml" class="anchor"></a><code><span class="keyword">type</span> xml</code><code> = <a href="../../coq-core/Xml_datatype/index.html#type-xml">Xml_datatype.xml</a></code></dt><dd><p>An Xml node is either <code>Element (tag-name, attributes, children)</code> or <code>PCData text</code></p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Abstract type for an Xml parser.</p></dd></dl><section><header><h6 id="exc"><a href="#exc" class="anchor"></a>Xml Exceptions</h6></header><aside><p>Several exceptions can be raised when parsing an Xml document : </p><ul><li><span class="xref-unresolved" title="unresolved reference to &quot;Xml.Error&quot;"><code>Xml</code>.Error</span> is raised when an xml parsing error occurs. the <span class="xref-unresolved" title="unresolved reference to &quot;Xml.error_msg&quot;"><code>Xml</code>.error_msg</span> tells you which error occurred during parsing and the <span class="xref-unresolved" title="unresolved reference to &quot;Xml.error_pos&quot;"><code>Xml</code>.error_pos</span> can be used to retrieve the document location where the error occurred at.</li><li><span class="xref-unresolved" title="unresolved reference to &quot;Xml.File_not_found&quot;"><code>Xml</code>.File_not_found</span> is raised when an error occurred while opening a file with the <span class="xref-unresolved" title="unresolved reference to &quot;Xml.parse_file&quot;"><code>Xml</code>.parse_file</span> function.</li></ul></aside><dl><dt class="spec type" id="type-error_pos"><a href="#type-error_pos" class="anchor"></a><code><span class="keyword">type</span> error_pos</code></dt><dt class="spec type" id="type-error_msg"><a href="#type-error_msg" class="anchor"></a><code><span class="keyword">type</span> error_msg</code><code> = </code><table class="variant"><tr id="type-error_msg.UnterminatedComment" class="anchored"><td class="def constructor"><a href="#type-error_msg.UnterminatedComment" class="anchor"></a><code>| </code><code><span class="constructor">UnterminatedComment</span></code></td></tr><tr id="type-error_msg.UnterminatedString" class="anchored"><td class="def constructor"><a href="#type-error_msg.UnterminatedString" class="anchor"></a><code>| </code><code><span class="constructor">UnterminatedString</span></code></td></tr><tr id="type-error_msg.UnterminatedEntity" class="anchored"><td class="def constructor"><a href="#type-error_msg.UnterminatedEntity" class="anchor"></a><code>| </code><code><span class="constructor">UnterminatedEntity</span></code></td></tr><tr id="type-error_msg.IdentExpected" class="anchored"><td class="def constructor"><a href="#type-error_msg.IdentExpected" class="anchor"></a><code>| </code><code><span class="constructor">IdentExpected</span></code></td></tr><tr id="type-error_msg.CloseExpected" class="anchored"><td class="def constructor"><a href="#type-error_msg.CloseExpected" class="anchor"></a><code>| </code><code><span class="constructor">CloseExpected</span></code></td></tr><tr id="type-error_msg.NodeExpected" class="anchored"><td class="def constructor"><a href="#type-error_msg.NodeExpected" class="anchor"></a><code>| </code><code><span class="constructor">NodeExpected</span></code></td></tr><tr id="type-error_msg.AttributeNameExpected" class="anchored"><td class="def constructor"><a href="#type-error_msg.AttributeNameExpected" class="anchor"></a><code>| </code><code><span class="constructor">AttributeNameExpected</span></code></td></tr><tr id="type-error_msg.AttributeValueExpected" class="anchored"><td class="def constructor"><a href="#type-error_msg.AttributeValueExpected" class="anchor"></a><code>| </code><code><span class="constructor">AttributeValueExpected</span></code></td></tr><tr id="type-error_msg.EndOfTagExpected" class="anchored"><td class="def constructor"><a href="#type-error_msg.EndOfTagExpected" class="anchor"></a><code>| </code><code><span class="constructor">EndOfTagExpected</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-error_msg.EOFExpected" class="anchored"><td class="def constructor"><a href="#type-error_msg.EOFExpected" class="anchor"></a><code>| </code><code><span class="constructor">EOFExpected</span></code></td></tr><tr id="type-error_msg.Empty" class="anchored"><td class="def constructor"><a href="#type-error_msg.Empty" class="anchor"></a><code>| </code><code><span class="constructor">Empty</span></code></td></tr></table></dt><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code><code> = <a href="index.html#type-error_msg">error_msg</a> * <a href="index.html#type-error_pos">error_pos</a></code></dt></dl><dl><dt class="spec exception" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Error</span> <span class="keyword">of</span> <a href="index.html#type-error">error</a></code></dt><dt class="spec exception" id="exception-File_not_found"><a href="#exception-File_not_found" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">File_not_found</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val</span> error : <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Get a full error message from an Xml error.</p></dd></dl><dl><dt class="spec value" id="val-error_msg"><a href="#val-error_msg" class="anchor"></a><code><span class="keyword">val</span> error_msg : <a href="index.html#type-error_msg">error_msg</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Get the Xml error message as a string.</p></dd></dl><dl><dt class="spec value" id="val-line"><a href="#val-line" class="anchor"></a><code><span class="keyword">val</span> line : <a href="index.html#type-error_pos">error_pos</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get the line the error occurred at.</p></dd></dl><dl><dt class="spec value" id="val-range"><a href="#val-range" class="anchor"></a><code><span class="keyword">val</span> range : <a href="index.html#type-error_pos">error_pos</a> <span>&#45;&gt;</span> int * int</code></dt><dd><p>Get the relative character range (in current line) the error occurred at.</p></dd></dl><dl><dt class="spec value" id="val-abs_range"><a href="#val-abs_range" class="anchor"></a><code><span class="keyword">val</span> abs_range : <a href="index.html#type-error_pos">error_pos</a> <span>&#45;&gt;</span> int * int</code></dt><dd><p>Get the absolute character range the error occurred at.</p></dd></dl><dl><dt class="spec value" id="val-pos"><a href="#val-pos" class="anchor"></a><code><span class="keyword">val</span> pos : Stdlib.Lexing.lexbuf <span>&#45;&gt;</span> <a href="index.html#type-error_pos">error_pos</a></code></dt></dl><dl><dt class="spec type" id="type-source"><a href="#type-source" class="anchor"></a><code><span class="keyword">type</span> source</code><code> = </code><table class="variant"><tr id="type-source.SChannel" class="anchored"><td class="def constructor"><a href="#type-source.SChannel" class="anchor"></a><code>| </code><code><span class="constructor">SChannel</span> <span class="keyword">of</span> Stdlib.in_channel</code></td></tr><tr id="type-source.SString" class="anchored"><td class="def constructor"><a href="#type-source.SString" class="anchor"></a><code>| </code><code><span class="constructor">SString</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-source.SLexbuf" class="anchored"><td class="def constructor"><a href="#type-source.SLexbuf" class="anchor"></a><code>| </code><code><span class="constructor">SLexbuf</span> <span class="keyword">of</span> Stdlib.Lexing.lexbuf</code></td></tr></table></dt><dd><p>Several kind of resources can contain Xml documents.</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <a href="index.html#type-source">source</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>This function returns a new parser with default options.</p></dd></dl><dl><dt class="spec value" id="val-check_eof"><a href="#val-check_eof" class="anchor"></a><code><span class="keyword">val</span> check_eof : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dd><p>When a Xml document is parsed, the parser may check that the end of the document is reached, so for example parsing <code>&quot;&lt;A/&gt;&lt;B/&gt;&quot;</code> will fail instead of returning only the A element. You can turn on this check by setting <code>check_eof</code> to <code>true</code> <i>(by default, check_eof is false, unlike in the original Xmllight)</i>.</p></dd></dl><dl><dt class="spec value" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val</span> parse : <span>?&#8288;canonicalize:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-xml">xml</a></code></dt><dd><p>Once the parser is configured, you can run the parser on a any kind of xml document source to parse its contents into an Xml data structure.</p><p>When <code>canonicalize</code> is set, the parser tries to remove blank PCDATA elements.</p></dd></dl></section></div></body></html>