<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Document (coqide-server.Document)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">coqide-server</a> &#x00BB; Document</nav><h1>Module <code>Document</code></h1></header><dl><dt class="spec exception" id="exception-Empty"><a href="#exception-Empty" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Empty</span></code></dt></dl><dl><dt class="spec type" id="type-document"><a href="#type-document" class="anchor"></a><code><span class="keyword">type</span> <span>'a document</span></code></dt><dt class="spec type" id="type-id"><a href="#type-id" class="anchor"></a><code><span class="keyword">type</span> id</code><code> = <a href="../../coq-core/Stateid/index.html#type-t">Stateid.t</a></code></dt></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span></code></dt><dt class="spec value" id="val-tip"><a href="#val-tip" class="anchor"></a><code><span class="keyword">val</span> tip : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a></code></dt><dd><p>The last sentence. </p><dl><dt>raises Invalid_argument</dt><dd><p>if tip has no id. </p><p>@raise Empty</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-tip_data"><a href="#val-tip_data" class="anchor"></a><code><span class="keyword">val</span> tip_data : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>The last sentence. </p><dl><dt>raises Empty</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-push"><a href="#val-push" class="anchor"></a><code><span class="keyword">val</span> push : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Add a sentence on the top (with no state_id)</p></dd></dl><dl><dt class="spec value" id="val-pop"><a href="#val-pop" class="anchor"></a><code><span class="keyword">val</span> pop : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Remove the tip setence. </p><dl><dt>raises Empty</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-assign_tip_id"><a href="#val-assign_tip_id" class="anchor"></a><code><span class="keyword">val</span> assign_tip_id : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Assign the state_id of the tip. </p><dl><dt>raises Empty</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-cut_at"><a href="#val-cut_at" class="anchor"></a><code><span class="keyword">val</span> cut_at : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>cut_at d id</code> cuts the document at <code>id</code> that is the new tip. Returns the list of sentences that were cut.</p><dl><dt>raises Not_found</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-find_id"><a href="#val-find_id" class="anchor"></a><code><span class="keyword">val</span> find_id : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-id">id</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a> * bool</code></dt><dd><p>returns the id of the topmost sentence validating the predicate and a boolean that is true if one needs to unfocus the document to access such sentence. </p><dl><dt>raises Not_found</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span>(bool <span>&#45;&gt;</span> <span><a href="index.html#type-id">id</a> option</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>look for a sentence validating the predicate. The boolean is true if the sentence is in the zone currently focused. </p><dl><dt>raises Not_found</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-find_map"><a href="#val-find_map" class="anchor"></a><code><span class="keyword">val</span> find_map : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span>(bool <span>&#45;&gt;</span> <span><a href="index.html#type-id">id</a> option</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> option</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-focus"><a href="#val-focus" class="anchor"></a><code><span class="keyword">val</span> focus : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span>cond_top:<span>(<a href="index.html#type-id">id</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span>cond_bot:<span>(<a href="index.html#type-id">id</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>After <code>focus s c1 c2</code> the top of <code>s</code> is the topmost element <code>x</code> such that <code>c1 x</code> is <code>true</code> and the bottom is the first element <code>y</code> following <code>x</code> such that <code>c2 y</code> is <code>true</code>.</p><dl><dt>raises Invalid_argument</dt><dd><p>if there is no such <code>x</code> and <code>y</code> or already focused</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-unfocus"><a href="#val-unfocus" class="anchor"></a><code><span class="keyword">val</span> unfocus : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Undoes a <code>focus</code>.</p><dl><dt>raises Invalid_argument</dt><dd><p>&quot;CStack.unfocus&quot; if the stack is not focused</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-focused"><a href="#val-focused" class="anchor"></a><code><span class="keyword">val</span> focused : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Is the document focused</p></dd></dl><dl><dt class="spec value" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span class="keyword">val</span> is_empty : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>No sentences at all</p></dd></dl><dl><dt class="spec value" id="val-before_tip"><a href="#val-before_tip" class="anchor"></a><code><span class="keyword">val</span> before_tip : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a> * bool</code></dt><dd><p>returns the 1 to-last sentence, and true if we need to unfocus to reach it.</p><dl><dt>raises Not_found</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-is_in_focus"><a href="#val-is_in_focus" class="anchor"></a><code><span class="keyword">val</span> is_in_focus : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Is the id in the focused zone?</p></dd></dl><dl><dt class="spec value" id="val-fold_all"><a href="#val-fold_all" class="anchor"></a><code><span class="keyword">val</span> fold_all : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <span><a href="index.html#type-id">id</a> option</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt><dd><p>Folds over the whole document starting from the topmost (maybe unfocused) sentence.</p></dd></dl><dl><dt class="spec value" id="val-context"><a href="#val-context" class="anchor"></a><code><span class="keyword">val</span> context : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-id">id</a> * <span class="type-var">'a</span>)</span> list</span> * <span><span>(<a href="index.html#type-id">id</a> * <span class="type-var">'a</span>)</span> list</span></code></dt><dd><p>Returns (top,bot) such that the document is morally (top @ s @ bot) where s is the focused part. </p><dl><dt>raises Invalid_argument</dt><dd></dd></dl></dd></dl><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val</span> print : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span>(bool <span>&#45;&gt;</span> <span><a href="index.html#type-id">id</a> option</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../coq-core/Pp/index.html#type-t">Pp.t</a>)</span> <span>&#45;&gt;</span> <a href="../../coq-core/Pp/index.html#type-t">Pp.t</a></code></dt><dd><p>debug print</p></dd></dl><aside><p>Callbacks on documents</p></aside><div class="spec class-type" id="class-type-signals"><a href="#class-type-signals" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span> 'a <a href="class-type-signals/index.html">signals</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span class="keyword">val</span> connect : <span><span class="type-var">'a</span> <a href="index.html#type-document">document</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="class-type-signals/index.html">signals</a></span></code></dt></dl></div></body></html>