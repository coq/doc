<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/coqdoc.css" />

<title>Standard Library | The Coq Proof Assistant</title>

</head>

<body>

<div id="container">
  <div id="headertop">
    <div id="nav">
      <ul class="links-menu">
        <li><a href="//coq.inria.fr/" class="active">Home</a></li>
        <li><a href="//coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>
        <li><a href="//coq.inria.fr/download">Get Coq</a></li>
        <li><a href="//coq.inria.fr/documentation">Documentation</a></li>
        <li><a href="//coq.inria.fr/community">Community</a></li>
      </ul>
    </div>
  </div>

  <div id="header">
    <div id="logoWrapper">
      <div id="logo"><a href="//coq.inria.fr/" title="Home"><img src="//coq.inria.fr/files/barron_logo.png" alt="Home" /></a>
      </div>
      <div id="siteName"><a href="//coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
      </div>
    </div>
  </div>

  <div id="content">

<h1 class="libtitle">Library Coq.Logic.Eqdep_dec</h1>

<div class="code">

<br/>

<br/>
</div>

<div class="doc">
We prove that there is only one proof of <span class="inlinecode"><span class="id" title="var">x</span>=<span class="id" title="var">x</span></span>, i.e <span class="inlinecode"><span class="id" title="var">eq_refl</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>.
    This holds if the equality upon the set of <span class="inlinecode"><span class="id" title="var">x</span></span> is decidable.
    A corollary of this theorem is the equality of the right projections
    of two equal dependent pairs.

<div class="paragraph"> </div>

    Author:   Thomas Kleymann |&lt;tms@dcs.ed.ac.uk&gt;| in Lego
              adapted to Coq by B. Barras

<div class="paragraph"> </div>

    Credit:   Proofs up to <span class="inlinecode"><span class="id" title="var">K_dec</span></span> follow an outline by Michael Hedberg

<div class="paragraph"> </div>

Table of contents:

<div class="paragraph"> </div>

1. Streicher's K and injectivity of dependent pair hold on decidable types

<div class="paragraph"> </div>

1.1. Definition of the functor that builds properties of dependent equalities
     from a proof of decidability of equality for a set in Type

<div class="paragraph"> </div>

1.2. Definition of the functor that builds properties of dependent equalities
     from a proof of decidability of equality for a set in Set

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a id="lab959"></a><h1 class="section">Streicher's K and injectivity of dependent pair hold on decidable types</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">EqdepDec</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <span class="id" title="var">comp</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">eq1</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">eq2</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y'</span>) : <span class="id" title="var">y</span> = <span class="id" title="var">y'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eq_ind</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">a</span> = <span class="id" title="var">y'</span>) <span class="id" title="var">eq2</span> <span class="id" title="var">_</span> <span class="id" title="var">eq1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <span class="id" title="var">trans_sym_eq</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">u</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">comp</span> <span class="id" title="var">u</span> <span class="id" title="var">u</span> = <span class="id" title="var">eq_refl</span> <span class="id" title="var">y</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> \/ <span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <span class="id" title="var">nu</span> (<span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">u</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">eq_dec</span> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">or_introl</span> <span class="id" title="var">eqxy</span> =&gt; <span class="id" title="var">eqxy</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">or_intror</span> <span class="id" title="var">neqxy</span> =&gt; <span class="id" title="var">False_ind</span> <span class="id" title="var">_</span> (<span class="id" title="var">neqxy</span> <span class="id" title="var">u</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <span class="id" title="var">nu_constant</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">u</span> <span class="id" title="var">v</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">nu</span> <span class="id" title="var">u</span> = <span class="id" title="var">nu</span> <span class="id" title="var">v</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <span class="id" title="var">nu_inv</span> (<span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">v</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> := <span class="id" title="var">comp</span> (<span class="id" title="var">nu</span> (<span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>)) <span class="id" title="var">v</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <span class="id" title="var">nu_left_inv_on</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">u</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">nu_inv</span> (<span class="id" title="var">nu</span> <span class="id" title="var">u</span>) = <span class="id" title="var">u</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eq_proofs_unicity_on</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">p1</span> = <span class="id" title="var">p2</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">K_dec_on</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Prop</span>, <span class="id" title="var">P</span> (<span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>, <span class="id" title="var">P</span> <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
The corollary 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <span class="id" title="var">proj</span> (<span class="id" title="var">P</span>:<span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">exP</span>:<span class="id" title="var">ex</span> <span class="id" title="var">P</span>) (<span class="id" title="var">def</span>:<span class="id" title="var">P</span> <span class="id" title="var">x</span>) : <span class="id" title="var">P</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">exP</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ex_intro</span> <span class="id" title="var">_</span> <span class="id" title="var">x'</span> <span class="id" title="var">prf</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">eq_dec</span> <span class="id" title="var">x'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">or_introl</span> <span class="id" title="var">eqprf</span> =&gt; <span class="id" title="var">eq_ind</span> <span class="id" title="var">x'</span> <span class="id" title="var">P</span> <span class="id" title="var">prf</span> <span class="id" title="var">x</span> (<span class="id" title="var">eq_sym</span> <span class="id" title="var">eqprf</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">def</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">inj_right_pair_on</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">y</span> <span class="id" title="var">y'</span>:<span class="id" title="var">P</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">y'</span> -&gt; <span class="id" title="var">y</span> = <span class="id" title="var">y'</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">EqdepDec</span>.<br/>

<br/>
</div>

<div class="doc">
Now we prove the versions that require decidable equality for the entire type
    rather than just on the given element.  The rest of the file uses this total
    decidable equality.  We could do everything using decidable equality at a point
    (because the induction rule for <span class="inlinecode"><span class="id" title="var">eq</span></span> is really an induction rule for
    <span class="inlinecode">{</span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">}</span>), but we don't currently, because changing everything
    would break backward compatibility and no-one has yet taken the time to define
    the pointed versions, and then re-define the non-pointed versions in terms of
    those. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eq_proofs_unicity</span> <span class="id" title="var">A</span> (<span class="id" title="var">eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> \/ <span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>)<br/>
: <span class="id" title="keyword">forall</span> (<span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">p1</span> = <span class="id" title="var">p2</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">K_dec</span> <span class="id" title="var">A</span> (<span class="id" title="var">eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> \/ <span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>)<br/>
: <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Prop</span>, <span class="id" title="var">P</span> (<span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>, <span class="id" title="var">P</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">inj_right_pair</span> <span class="id" title="var">A</span> (<span class="id" title="var">eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> \/ <span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>)<br/>
: <span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">y</span> <span class="id" title="var">y'</span>:<span class="id" title="var">P</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">y'</span> -&gt; <span class="id" title="var">y</span> = <span class="id" title="var">y'</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">EqdepFacts</span>.<br/>

<br/>
</div>

<div class="doc">
We deduce axiom <span class="inlinecode"><span class="id" title="var">K</span></span> for (decidable) types 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">K_dec_type</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>, {<span class="id" title="var">x</span> = <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">P</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Prop</span>), <span class="id" title="var">P</span> (<span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>, <span class="id" title="var">P</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">K_dec_set</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Set</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>, {<span class="id" title="var">x</span> = <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">P</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Prop</span>), <span class="id" title="var">P</span> (<span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>, <span class="id" title="var">P</span> <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
We deduce the <span class="inlinecode"><span class="id" title="var">eq_rect_eq</span></span> axiom for (decidable) types 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eq_rect_eq_dec</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>, {<span class="id" title="var">x</span> = <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">p</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">Q</span>:<span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">x</span>:<span class="id" title="var">Q</span> <span class="id" title="var">p</span>) (<span class="id" title="var">h</span>:<span class="id" title="var">p</span> = <span class="id" title="var">p</span>), <span class="id" title="var">x</span> = <span class="id" title="var">eq_rect</span> <span class="id" title="var">p</span> <span class="id" title="var">Q</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">h</span>.<br/>

<br/>
</div>

<div class="doc">
We deduce the injectivity of dependent equality for decidable types 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eq_dep_eq_dec</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>, {<span class="id" title="var">x</span> = <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">A</span>-&gt;<span class="id" title="keyword">Type</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">P</span> <span class="id" title="var">p</span>), <span class="id" title="var">eq_dep</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">UIP_dec</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>, {<span class="id" title="var">x</span> = <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">p1</span> = <span class="id" title="var">p2</span>.<br/>

<br/>
<span class="id" title="keyword">Unset Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab960"></a><h2 class="section">Definition of the functor that builds properties of dependent equalities on decidable sets in Type</h2>

<div class="paragraph"> </div>

 The signature of decidable sets in <span class="inlinecode"><span class="id" title="keyword">Type</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">DecidableType</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">U</span>, {<span class="id" title="var">x</span> = <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>}.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">DecidableType</span>.<br/>

<br/>
</div>

<div class="doc">
The module <span class="inlinecode"><span class="id" title="var">DecidableEqDep</span></span> collects equality properties for decidable
    set in <span class="inlinecode"><span class="id" title="keyword">Type</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">DecidableEqDep</span> (<span class="id" title="var">M</span>:<span class="id" title="var">DecidableType</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">M</span>.<br/>

<br/>
</div>

<div class="doc">
Invariance by Substitution of Reflexive Equality Proofs 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eq_rect_eq</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">p</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">Q</span>:<span class="id" title="var">U</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">x</span>:<span class="id" title="var">Q</span> <span class="id" title="var">p</span>) (<span class="id" title="var">h</span>:<span class="id" title="var">p</span> = <span class="id" title="var">p</span>), <span class="id" title="var">x</span> = <span class="id" title="var">eq_rect</span> <span class="id" title="var">p</span> <span class="id" title="var">Q</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">h</span>.<br/>

<br/>
</div>

<div class="doc">
Injectivity of Dependent Equality 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eq_dep_eq</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">U</span>-&gt;<span class="id" title="keyword">Type</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">P</span> <span class="id" title="var">p</span>), <span class="id" title="var">eq_dep</span> <span class="id" title="var">U</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
Uniqueness of Identity Proofs (UIP) 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UIP</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">p1</span> = <span class="id" title="var">p2</span>.<br/>

<br/>
</div>

<div class="doc">
Uniqueness of Reflexive Identity Proofs 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UIP_refl</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>), <span class="id" title="var">p</span> = <span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
Streicher's axiom K 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Streicher_K</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">P</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Prop</span>), <span class="id" title="var">P</span> (<span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>, <span class="id" title="var">P</span> <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
Injectivity of equality on dependent pairs in <span class="inlinecode"><span class="id" title="keyword">Type</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inj_pairT2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">U</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">P</span> <span class="id" title="var">p</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">existT</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> = <span class="id" title="var">existT</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
Proof-irrelevance on subsets of decidable sets 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inj_pairP2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">U</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">x</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">p</span> <span class="id" title="var">q</span>:<span class="id" title="var">P</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> = <span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">q</span> -&gt; <span class="id" title="var">p</span> = <span class="id" title="var">q</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">DecidableEqDep</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab961"></a><h2 class="section">Definition of the functor that builds properties of dependent equalities on decidable sets in Set</h2>

<div class="paragraph"> </div>

 The signature of decidable sets in <span class="inlinecode"><span class="id" title="keyword">Set</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">DecidableSet</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">U</span>:<span class="id" title="keyword">Set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">U</span>, {<span class="id" title="var">x</span> = <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>}.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">DecidableSet</span>.<br/>

<br/>
</div>

<div class="doc">
The module <span class="inlinecode"><span class="id" title="var">DecidableEqDepSet</span></span> collects equality properties for decidable
    set in <span class="inlinecode"><span class="id" title="keyword">Set</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">DecidableEqDepSet</span> (<span class="id" title="var">M</span>:<span class="id" title="var">DecidableSet</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="var">N</span>:=<span class="id" title="var">DecidableEqDep</span>(<span class="id" title="var">M</span>).<br/>

<br/>
</div>

<div class="doc">
Invariance by Substitution of Reflexive Equality Proofs 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eq_rect_eq</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">p</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">Q</span>:<span class="id" title="var">U</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">x</span>:<span class="id" title="var">Q</span> <span class="id" title="var">p</span>) (<span class="id" title="var">h</span>:<span class="id" title="var">p</span> = <span class="id" title="var">p</span>), <span class="id" title="var">x</span> = <span class="id" title="var">eq_rect</span> <span class="id" title="var">p</span> <span class="id" title="var">Q</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">h</span>.<br/>

<br/>
</div>

<div class="doc">
Injectivity of Dependent Equality 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eq_dep_eq</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">U</span>-&gt;<span class="id" title="keyword">Type</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">P</span> <span class="id" title="var">p</span>), <span class="id" title="var">eq_dep</span> <span class="id" title="var">U</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
Uniqueness of Identity Proofs (UIP) 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UIP</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>), <span class="id" title="var">p1</span> = <span class="id" title="var">p2</span>.<br/>

<br/>
</div>

<div class="doc">
Uniqueness of Reflexive Identity Proofs 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UIP_refl</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>), <span class="id" title="var">p</span> = <span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
Streicher's axiom K 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Streicher_K</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">P</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Prop</span>), <span class="id" title="var">P</span> (<span class="id" title="var">eq_refl</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>:<span class="id" title="var">x</span> = <span class="id" title="var">x</span>, <span class="id" title="var">P</span> <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
Proof-irrelevance on subsets of decidable sets 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inj_pairP2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">U</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">x</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">p</span> <span class="id" title="var">q</span>:<span class="id" title="var">P</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> = <span class="id" title="var">ex_intro</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">q</span> -&gt; <span class="id" title="var">p</span> = <span class="id" title="var">q</span>.<br/>

<br/>
</div>

<div class="doc">
Injectivity of equality on dependent pairs in <span class="inlinecode"><span class="id" title="keyword">Type</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inj_pair2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">U</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">U</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">P</span> <span class="id" title="var">p</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">existT</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> = <span class="id" title="var">existT</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
Injectivity of equality on dependent pairs with second component
      in <span class="inlinecode"><span class="id" title="keyword">Type</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">inj_pairT2</span> := <span class="id" title="var">inj_pair2</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">DecidableEqDepSet</span>.<br/>

<br/>
</div>

<div class="doc">
From decidability to inj_pair2 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inj_pair2_eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>, (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">A</span>, {<span class="id" title="var">x</span>=<span class="id" title="var">y</span>}+{<span class="id" title="var">x</span>&lt;&gt;<span class="id" title="var">y</span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;( <span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span>:<span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">P</span> <span class="id" title="var">p</span>), <span class="id" title="var">existT</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> = <span class="id" title="var">existT</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> ).<br/>

<br/>

<br/>
</div>

<div class="doc">
Examples of short direct proofs of unicity of reflexivity proofs
      on specific domains 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UIP_refl_unit</span> (<span class="id" title="var">x</span> : <span class="id" title="var">tt</span> = <span class="id" title="var">tt</span>) : <span class="id" title="var">x</span> = <span class="id" title="var">eq_refl</span> <span class="id" title="var">tt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UIP_refl_bool</span> (<span class="id" title="var">b</span>:<span class="id" title="var">bool</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">b</span> = <span class="id" title="var">b</span>) : <span class="id" title="var">x</span> = <span class="id" title="var">eq_refl</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UIP_refl_nat</span> (<span class="id" title="var">n</span>:<span class="id" title="var">nat</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">n</span> = <span class="id" title="var">n</span>) : <span class="id" title="var">x</span> = <span class="id" title="var">eq_refl</span>.<br/>
</div>
    <div id="sidebarWrapper">
      <div id="sidebar">
        <div class="block">
          <h2 class="title">Navigation</h2>
          <div class="content">
            <ul class="menu">
              <li class="leaf">Standard Library
                <ul class="menu">
                  <li><a href="index.html">Table of contents</a></li>
                  <li><a href="genindex.html">Index</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div id="footer">
    <div id="nav-footer">
      <ul class="links-menu-footer">
        <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
        <li><a href="http://validator.w3.org/">xhtml valid</a></li>
        <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
      </ul>
    </div>
  </div>

</div>

</body>
</html>
