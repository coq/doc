<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/coqdoc.css" />

<title>Standard Library | The Coq Proof Assistant</title>

</head>

<body>

<div id="container">
  <div id="headertop">
    <div id="nav">
      <ul class="links-menu">
        <li><a href="//coq.inria.fr/" class="active">Home</a></li>
        <li><a href="//coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>
        <li><a href="//coq.inria.fr/download">Get Coq</a></li>
        <li><a href="//coq.inria.fr/documentation">Documentation</a></li>
        <li><a href="//coq.inria.fr/community">Community</a></li>
      </ul>
    </div>
  </div>

  <div id="header">
    <div id="logoWrapper">
      <div id="logo"><a href="//coq.inria.fr/" title="Home"><img src="//coq.inria.fr/files/barron_logo.png" alt="Home" /></a>
      </div>
      <div id="siteName"><a href="//coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
      </div>
    </div>
  </div>

  <div id="content">

<h1 class="libtitle">Library Coq.micromega.ZifyInst</h1>

<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Arith</span> <span class="id" title="var">Max</span> <span class="id" title="var">Min</span> <span class="id" title="var">BinInt</span> <span class="id" title="var">BinNat</span> <span class="id" title="var">Znat</span> <span class="id" title="var">Nnat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ZifyClasses</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">refl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">intros</span> ; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[@<span class="id" title="var">inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">X</span>] =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">X</span>, <span class="id" title="var">inj</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ; <span class="id" title="tactic">reflexivity</span>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Inj_Z_Z</span> : <span class="id" title="var">InjTyp</span> <span class="id" title="var">Z</span> <span class="id" title="var">Z</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">mkinj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt;  <span class="id" title="var">True</span> ) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">I</span>).<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">InjTyp</span> <span class="id" title="var">Inj_Z_Z</span>.<br/>

<br/>
</div>

<div class="doc">
Support for nat 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Inj_nat_Z</span> : <span class="id" title="var">InjTyp</span> <span class="id" title="var">nat</span> <span class="id" title="var">Z</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">mkinj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Z.of_nat</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt;  0 &lt;= <span class="id" title="var">x</span> ) <span class="id" title="var">Nat2Z.is_nonneg</span>.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">InjTyp</span> <span class="id" title="var">Inj_nat_Z</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_ge</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">ge</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.ge</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="var">Nat2Z.inj_ge</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_ge</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_lt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">lt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.lt</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="var">Nat2Z.inj_lt</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_lt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Nat_lt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Nat.lt</span> := <span class="id" title="var">Op_lt</span>.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_Nat_lt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_gt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">gt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.gt</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="var">Nat2Z.inj_gt</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_gt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_le</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">le</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.le</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="var">Nat2Z.inj_le</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_le</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Nat_le</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Nat.le</span> := <span class="id" title="var">Op_le</span>.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_Nat_le</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_eq_nat</span> : <span class="id" title="var">BinRel</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">nat</span>) :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := @<span class="id" title="var">eq</span> <span class="id" title="var">Z</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">nat</span> =&gt; <span class="id" title="var">iff_sym</span> (<span class="id" title="var">Nat2Z.inj_iff</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_eq_nat</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Nat_eq</span> : <span class="id" title="var">BinRel</span> (<span class="id" title="var">Nat.eq</span>) := <span class="id" title="var">Op_eq_nat</span>.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_Nat_eq</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_plus</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Nat.add</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.add</span>; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Nat2Z.inj_add</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_plus</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_sub</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Nat.sub</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">Z.max</span> 0 (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>) ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Nat2Z.inj_sub_max</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_sub</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_mul</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Nat.mul</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.mul</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Nat2Z.inj_mul</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_mul</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_min</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Nat.min</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.min</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Nat2Z.inj_min</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_min</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_max</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Nat.max</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.max</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Nat2Z.inj_max</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_max</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pred</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Nat.pred</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">Z.max</span> 0 (<span class="id" title="var">n</span> - 1) ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Nat2Z.inj_pred_max</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pred</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_S</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">Z.add</span> <span class="id" title="var">x</span> 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Nat2Z.inj_succ</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_S</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_O</span> : <span class="id" title="var">CstOp</span> <span class="id" title="var">O</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TCst</span> := <span class="id" title="var">Z0</span> ; <span class="id" title="var">TCstInj</span> := <span class="id" title="var">eq_refl</span> (<span class="id" title="var">Z.of_nat</span> 0) |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">CstOp</span> <span class="id" title="var">Op_O</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_abs_nat</span> : <span class="id" title="var">UnOp</span>  <span class="id" title="var">Z.abs_nat</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="var">Z.abs</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Zabs2Nat.id_abs</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_abs_nat</span>.<br/>

<br/>
</div>

<div class="doc">
Support for positive 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Inj_pos_Z</span> : <span class="id" title="var">InjTyp</span> <span class="id" title="var">positive</span> <span class="id" title="var">Z</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">inj</span> := <span class="id" title="var">Zpos</span> ; <span class="id" title="var">pred</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt;  0 &lt; <span class="id" title="var">x</span> ) ; <span class="id" title="var">cstr</span> := <span class="id" title="var">Pos2Z.pos_is_pos</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">InjTyp</span> <span class="id" title="var">Inj_pos_Z</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_to_nat</span> : <span class="id" title="var">UnOp</span>  <span class="id" title="var">Pos.to_nat</span> :=<br/>
&nbsp;&nbsp;{<span class="id" title="var">TUOp</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>); <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">positive_nat_Z</span>}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_to_nat</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Inj_N_Z</span> : <span class="id" title="var">InjTyp</span> <span class="id" title="var">N</span> <span class="id" title="var">Z</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">mkinj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Z.of_N</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt;  0 &lt;= <span class="id" title="var">x</span> ) <span class="id" title="var">N2Z.is_nonneg</span>.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">InjTyp</span> <span class="id" title="var">Inj_N_Z</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_to_nat</span> : <span class="id" title="var">UnOp</span>  <span class="id" title="var">N.to_nat</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">N_nat_Z</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_N_to_nat</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_ge</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Pos.ge</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.ge</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">x</span> &gt;= <span class="id" title="var">Z.pos</span> <span class="id" title="var">y</span>) |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_pos_ge</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_lt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Pos.lt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.lt</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">x</span> &lt; <span class="id" title="var">Z.pos</span> <span class="id" title="var">y</span>) |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_pos_lt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_gt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Pos.gt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.gt</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">x</span> &gt; <span class="id" title="var">Z.pos</span> <span class="id" title="var">y</span>)  |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_pos_gt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_le</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Pos.le</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.le</span>; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">x</span> &lt;= <span class="id" title="var">Z.pos</span> <span class="id" title="var">y</span>) |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_pos_le</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eq_pos_inj</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">positive</span>), <span class="id" title="var">x</span> = <span class="id" title="var">y</span> &lt;-&gt; <span class="id" title="var">Z.pos</span> <span class="id" title="var">x</span> = <span class="id" title="var">Z.pos</span> <span class="id" title="var">y</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_eq_pos</span> : <span class="id" title="var">BinRel</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">positive</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TR</span> := @<span class="id" title="var">eq</span> <span class="id" title="var">Z</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="var">eq_pos_inj</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_eq_pos</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_of_N</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.of_N</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>) ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">eq_refl</span> (<span class="id" title="var">Z.of_N</span> <span class="id" title="var">x</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_of_N</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_to_N</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.to_N</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">Z.max</span> 0 <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">now</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_to_N</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_neg</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.neg</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> :=  <span class="id" title="var">Z.opp</span> ; <span class="id" title="var">TUOpInj</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">eq_refl</span> (<span class="id" title="var">Zneg</span> <span class="id" title="var">x</span>))}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_neg</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_pos</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.pos</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt;  <span class="id" title="var">x</span>) ; <span class="id" title="var">TUOpInj</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">eq_refl</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">x</span>))}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_pos</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_succ</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Pos.succ</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> + 1; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Pos2Z.inj_succ</span>  }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_succ</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_pred_double</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Pos.pred_double</span> :=<br/>
{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 2 * <span class="id" title="var">x</span> - 1; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_pred_double</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_pred</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Pos.pred</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">Z.max</span> 1 (<span class="id" title="var">x</span> - 1) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Pos.sub_1_r</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Pos2Z.inj_sub_max</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_pred</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_predN</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Pos.pred_N</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> - 1 ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>: (<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">N.pos_pred_spec</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_predN</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_of_succ_nat</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Pos.of_succ_nat</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> + 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Zpos_P_of_succ_nat</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_of_succ_nat</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_of_nat</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Pos.of_nat</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">Z.max</span> 1 <span class="id" title="var">x</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>: (<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Pos.of_nat_succ</span>, &lt;- (<span class="id" title="var">Nat2Z.inj_max</span> 1)]) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_of_nat</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_add</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Pos.add</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.add</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>: (<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_pos_add</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_add_carry</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Pos.add_carry</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">x</span> + <span class="id" title="var">y</span> + 1 ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Pos.add_carry_spec</span>, <span class="id" title="var">Pos2Z.inj_succ</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_pos_add_carry</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_sub</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Pos.sub</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> =&gt; <span class="id" title="var">Z.max</span> 1 (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>) ;<span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Pos2Z.inj_sub_max</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_pos_sub</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_mul</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Pos.mul</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> :=  <span class="id" title="var">Z.mul</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>: (<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_pos_mul</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_min</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Pos.min</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.min</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Pos2Z.inj_min</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_pos_min</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_max</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Pos.max</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.max</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Pos2Z.inj_max</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_pos_max</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_pow</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Pos.pow</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.pow</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">Pos2Z.inj_pow</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_pos_pow</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_pos_square</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Pos.square</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="var">Z.square</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Pos2Z.inj_square</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_pos_square</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_xO</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">xO</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 2 * <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>: (<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_xO</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_xI</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">xI</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 2 * <span class="id" title="var">x</span> + 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>: (<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_xI</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_xH</span> : <span class="id" title="var">CstOp</span> <span class="id" title="var">xH</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TCst</span> := 1%<span class="id" title="var">Z</span> ; <span class="id" title="var">TCstInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>)}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">CstOp</span> <span class="id" title="var">Op_xH</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_of_nat</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.of_nat</span>:=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">nat</span> =&gt; @<span class="id" title="var">eq_refl</span> <span class="id" title="var">Z</span> (<span class="id" title="var">Z.of_nat</span> <span class="id" title="var">x</span>)) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_of_nat</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_ge</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">N.ge</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.ge</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="var">N2Z.inj_ge</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_N_ge</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_lt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">N.lt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.lt</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="var">N2Z.inj_lt</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_N_lt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_gt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">N.gt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.gt</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="var">N2Z.inj_gt</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_N_gt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_le</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">N.le</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.le</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="var">N2Z.inj_le</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_N_le</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_eq_N</span> : <span class="id" title="var">BinRel</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">N</span>) :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := @<span class="id" title="var">eq</span> <span class="id" title="var">Z</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">N</span> =&gt; <span class="id" title="var">iff_sym</span> (<span class="id" title="var">N2Z.inj_iff</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_eq_N</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_N0</span> : <span class="id" title="var">CstOp</span>  <span class="id" title="var">N0</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TCst</span> := <span class="id" title="var">Z0</span> ; <span class="id" title="var">TCstInj</span> := <span class="id" title="var">eq_refl</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">CstOp</span> <span class="id" title="var">Op_N_N0</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_Npos</span> : <span class="id" title="var">UnOp</span>  <span class="id" title="var">Npos</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>) ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_N_Npos</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_of_nat</span> : <span class="id" title="var">UnOp</span>  <span class="id" title="var">N.of_nat</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">nat_N_Z</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_N_of_nat</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_abs_N</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.abs_N</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="var">Z.abs</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">N2Z.inj_abs_N</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_abs_N</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_pos</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">N.pos</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>)}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_N_pos</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_add</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">N.add</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.add</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">N2Z.inj_add</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_N_add</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_min</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">N.min</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.min</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">N2Z.inj_min</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_N_min</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_max</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">N.max</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.max</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">N2Z.inj_max</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_N_max</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_mul</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">N.mul</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.mul</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">N2Z.inj_mul</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_N_mul</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_sub</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">N.sub</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">Z.max</span> 0 (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>) ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">N2Z.inj_sub_max</span>|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_N_sub</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_div</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">N.div</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.div</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">N2Z.inj_div</span>|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_N_div</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_mod</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">N.modulo</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.rem</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="var">N2Z.inj_rem</span>|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_N_mod</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_pred</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">N.pred</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span>  =&gt; <span class="id" title="var">Z.max</span> 0 (<span class="id" title="var">x</span> - 1) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">TUOpInj</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">N.pred_sub</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">N2Z.inj_sub_max</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_N_pred</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_N_succ</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">N.succ</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> + 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">N2Z.inj_succ</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_N_succ</span>.<br/>

<br/>
</div>

<div class="doc">
Support for Z - injected to itself 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_ge</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Z.ge</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.ge</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>  =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">x</span>&gt;= <span class="id" title="var">y</span>)|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_Z_ge</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_lt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Z.lt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.lt</span> ;  <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>  =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">x</span> &lt; <span class="id" title="var">y</span>)|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_Z_lt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_gt</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Z.gt</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.gt</span> ;<span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>  =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">x</span> &gt; <span class="id" title="var">y</span>)|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_Z_gt</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_le</span> : <span class="id" title="var">BinRel</span> <span class="id" title="var">Z.le</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">TR</span> := <span class="id" title="var">Z.le</span> ;<span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>  =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">x</span> &lt;= <span class="id" title="var">y</span>)|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_Z_le</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_eqZ</span> : <span class="id" title="var">BinRel</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">Z</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TR</span> := @<span class="id" title="var">eq</span> <span class="id" title="var">Z</span> ; <span class="id" title="var">TRInj</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>  =&gt; <span class="id" title="var">iff_refl</span> (<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinRel</span> <span class="id" title="var">Op_eqZ</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_Z0</span> : <span class="id" title="var">CstOp</span> <span class="id" title="var">Z0</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TCst</span> := <span class="id" title="var">Z0</span>  ; <span class="id" title="var">TCstInj</span> := <span class="id" title="var">eq_refl</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">CstOp</span> <span class="id" title="var">Op_Z_Z0</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_add</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.add</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.add</span>  ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_add</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_min</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.min</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.min</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_min</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_max</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.max</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.max</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_max</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_mul</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.mul</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.mul</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_mul</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_sub</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.sub</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.sub</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_sub</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_div</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.div</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.div</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_div</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_mod</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.modulo</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.modulo</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_mod</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_rem</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.rem</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.rem</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_rem</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_quot</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.quot</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.quot</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_quot</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_succ</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.succ</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> + 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_succ</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_pred</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.pred</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> - 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_pred</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_opp</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.opp</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="var">Z.opp</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_opp</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_abs</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.abs</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="var">Z.abs</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_abs</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_sgn</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.sgn</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="var">Z.sgn</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_sgn</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_pow</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.pow</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.pow</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_pow</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_pow_pos</span> : <span class="id" title="var">BinOp</span> <span class="id" title="var">Z.pow_pos</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TBOp</span> := <span class="id" title="var">Z.pow</span> ; <span class="id" title="var">TBOpInj</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">refl</span>) }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOp</span> <span class="id" title="var">Op_Z_pow_pos</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_double</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.double</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="var">Z.mul</span> 2 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Z.double_spec</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_double</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_pred_double</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.pred_double</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 2 * <span class="id" title="var">x</span> - 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Z.pred_double_spec</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_pred_double</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_succ_double</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.succ_double</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 2 * <span class="id" title="var">x</span> + 1 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Z.succ_double_spec</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_succ_double</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_square</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.square</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Z.square_spec</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_square</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_div2</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.div2</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> / 2 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Z.div2_div</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_div2</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_quot2</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.quot2</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">Z.quot</span> <span class="id" title="var">x</span> 2 ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">Zeven.Zquot2_quot</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_quot2</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">of_nat_to_nat_eq</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>,  <span class="id" title="var">Z.of_nat</span> (<span class="id" title="var">Z.to_nat</span> <span class="id" title="var">x</span>) = <span class="id" title="var">Z.max</span> 0 <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Op_Z_to_nat</span> : <span class="id" title="var">UnOp</span> <span class="id" title="var">Z.to_nat</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">TUOp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">Z.max</span> 0 <span class="id" title="var">x</span> ; <span class="id" title="var">TUOpInj</span> := <span class="id" title="var">of_nat_to_nat_eq</span> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOp</span> <span class="id" title="var">Op_Z_to_nat</span>.<br/>

<br/>
</div>

<div class="doc">
Specification of derived operators over Z 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">ZmaxSpec</span> : <span class="id" title="var">BinOpSpec</span> <span class="id" title="var">Z.max</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">BPred</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">n</span> &lt; <span class="id" title="var">m</span> /\ <span class="id" title="var">r</span> = <span class="id" title="var">m</span> \/ <span class="id" title="var">m</span> &lt;= <span class="id" title="var">n</span> /\ <span class="id" title="var">r</span> = <span class="id" title="var">n</span> ; <span class="id" title="var">BSpec</span> := <span class="id" title="var">Z.max_spec</span>|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOpSpec</span> <span class="id" title="var">ZmaxSpec</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">ZminSpec</span> : <span class="id" title="var">BinOpSpec</span> <span class="id" title="var">Z.min</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">BPred</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">n</span> &lt; <span class="id" title="var">m</span> /\ <span class="id" title="var">r</span> = <span class="id" title="var">n</span> \/ <span class="id" title="var">m</span> &lt;= <span class="id" title="var">n</span> /\ <span class="id" title="var">r</span> = <span class="id" title="var">m</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">BSpec</span> := <span class="id" title="var">Z.min_spec</span> |}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">BinOpSpec</span> <span class="id" title="var">ZminSpec</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">ZsgnSpec</span> : <span class="id" title="var">UnOpSpec</span> <span class="id" title="var">Z.sgn</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">UPred</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">r</span> : <span class="id" title="var">Z</span> =&gt; 0 &lt; <span class="id" title="var">n</span> /\ <span class="id" title="var">r</span> = 1 \/ 0 = <span class="id" title="var">n</span> /\ <span class="id" title="var">r</span> = 0 \/ <span class="id" title="var">n</span> &lt; 0 /\ <span class="id" title="var">r</span> = - (1) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">USpec</span> := <span class="id" title="var">Z.sgn_spec</span>|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOpSpec</span> <span class="id" title="var">ZsgnSpec</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">ZabsSpec</span> : <span class="id" title="var">UnOpSpec</span> <span class="id" title="var">Z.abs</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="var">UPred</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">r</span>: <span class="id" title="var">Z</span> =&gt;  0 &lt;= <span class="id" title="var">n</span> /\ <span class="id" title="var">r</span> = <span class="id" title="var">n</span> \/ <span class="id" title="var">n</span> &lt; 0 /\ <span class="id" title="var">r</span> = - <span class="id" title="var">n</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">USpec</span> := <span class="id" title="var">Z.abs_spec</span>|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">UnOpSpec</span> <span class="id" title="var">ZabsSpec</span>.<br/>

<br/>
</div>

<div class="doc">
Saturate positivity constraints 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">SatProd</span> : <span class="id" title="var">Saturate</span> <span class="id" title="var">Z.mul</span> :=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PArg1</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 0 &lt;= <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PArg2</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; 0 &lt;= <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PRes</span>  := <span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> =&gt; 0 &lt;= <span class="id" title="var">r</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">SatOk</span> := <span class="id" title="var">Z.mul_nonneg_nonneg</span><br/>
&nbsp;&nbsp;|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">Saturate</span> <span class="id" title="var">SatProd</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">SatProdPos</span> : <span class="id" title="var">Saturate</span> <span class="id" title="var">Z.mul</span> :=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PArg1</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 0 &lt; <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PArg2</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; 0 &lt; <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PRes</span>  := <span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> =&gt; 0 &lt; <span class="id" title="var">r</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">SatOk</span> := <span class="id" title="var">Z.mul_pos_pos</span><br/>
&nbsp;&nbsp;|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">Saturate</span> <span class="id" title="var">SatProdPos</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pow_pos_strict</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 &lt; <span class="id" title="var">a</span> -&gt; 0 &lt; <span class="id" title="var">b</span> -&gt; 0 &lt; <span class="id" title="var">a</span> ^ <span class="id" title="var">b</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">SatPowPos</span> : <span class="id" title="var">Saturate</span> <span class="id" title="var">Z.pow</span> :=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PArg1</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 0 &lt; <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PArg2</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; 0 &lt; <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PRes</span>  := <span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> =&gt; 0 &lt; <span class="id" title="var">r</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">SatOk</span> := <span class="id" title="var">pow_pos_strict</span><br/>
&nbsp;&nbsp;|}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">Saturate</span> <span class="id" title="var">SatPowPos</span>.<br/>
</div>
    <div id="sidebarWrapper">
      <div id="sidebar">
        <div class="block">
          <h2 class="title">Navigation</h2>
          <div class="content">
            <ul class="menu">
              <li class="leaf">Standard Library
                <ul class="menu">
                  <li><a href="index.html">Table of contents</a></li>
                  <li><a href="genindex.html">Index</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div id="footer">
    <div id="nav-footer">
      <ul class="links-menu-footer">
        <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
        <li><a href="http://validator.w3.org/">xhtml valid</a></li>
        <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
      </ul>
    </div>
  </div>

</div>

</body>
</html>
