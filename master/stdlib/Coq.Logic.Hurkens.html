<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/coqdoc.css" />

<title>Standard Library | The Coq Proof Assistant</title>

</head>

<body>

<div id="container">
  <div id="headertop">
    <div id="nav">
      <ul class="links-menu">
        <li><a href="//coq.inria.fr/" class="active">Home</a></li>
        <li><a href="//coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>
        <li><a href="//coq.inria.fr/download">Get Coq</a></li>
        <li><a href="//coq.inria.fr/documentation">Documentation</a></li>
        <li><a href="//coq.inria.fr/community">Community</a></li>
      </ul>
    </div>
  </div>

  <div id="header">
    <div id="logoWrapper">
      <div id="logo"><a href="//coq.inria.fr/" title="Home"><img src="//coq.inria.fr/files/barron_logo.png" alt="Home" /></a>
      </div>
      <div id="siteName"><a href="//coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
      </div>
    </div>
  </div>

  <div id="content">

<h1 class="libtitle">Library Coq.Logic.Hurkens</h1>

<div class="code">

<br/>
</div>

<div class="doc">
Exploiting Hurkens's paradox <span class="inlinecode">[<span class="id" title="var">Hurkens95</span>]</span> for system U- so as to
    derive various contradictory contexts.

<div class="paragraph"> </div>

    The file is divided into various sub-modules which all follow the
    same structure: a section introduces the contradictory hypotheses
    and a theorem named <span class="inlinecode"><span class="id" title="var">paradox</span></span> concludes the module with a proof of
    <span class="inlinecode"><span class="id" title="var">False</span></span>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> The <span class="inlinecode"><span class="id" title="var">Generic</span></span> module contains the actual Hurkens's paradox for a
      postulated shallow encoding of system U- in Coq. This is an
      adaptation by Arnaud Spiwack of a previous, more restricted
      implementation by Herman Geuvers. It is used to derive every
      other special cases of the paradox in this file.

<div class="paragraph"> </div>

<ul class="doclist">
<li> The <span class="inlinecode"><span class="id" title="var">NoRetractToImpredicativeUniverse</span></span> module contains a simple
      and effective formulation by Herman Geuvers <span class="inlinecode">[<span class="id" title="var">Geuvers01</span>]</span> of a
      result by Thierry Coquand <span class="inlinecode">[<span class="id" title="var">Coquand90</span>]</span>. It states that no
      impredicative sort can contain a type of which it is a
      retract. This result implies that Coq with classical logic
      stated in impredicative Set is inconsistent and that classical
      logic stated in Prop implies proof-irrelevance (see
      <span class="inlinecode"><span class="id" title="var">ClassicalFacts.v</span></span>)

<div class="paragraph"> </div>


</li>
<li> The <span class="inlinecode"><span class="id" title="var">NoRetractFromSmallPropositionToProp</span></span> module is a
      specialisation of the <span class="inlinecode"><span class="id" title="var">NoRetractToImpredicativeUniverse</span></span> module
      to the case where the impredicative sort is <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>.

<div class="paragraph"> </div>


</li>
<li> The <span class="inlinecode"><span class="id" title="var">NoRetractToModalProposition</span></span> module is a strengthening of
      the <span class="inlinecode"><span class="id" title="var">NoRetractFromSmallPropositionToProp</span></span> module.  It shows that
      given a monadic modality (aka closure operator) <span class="inlinecode"><span class="id" title="var">M</span></span>, the type of
      modal propositions (i.e. such that <span class="inlinecode"><span class="id" title="var">M</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">A</span></span>) cannot be a
      retract of a modal proposition. It is an example of use of the
      paradox where the universes of system U- are not mapped to
      universes of Coq.

<div class="paragraph"> </div>


</li>
<li> The <span class="inlinecode"><span class="id" title="var">NoRetractToNegativeProp</span></span> module is the specialisation of
      the <span class="inlinecode"><span class="id" title="var">NoRetractFromSmallPropositionToProp</span></span> module where the
      modality is double-negation. This result implies that the
      principle of weak excluded middle (<span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">A</span>,</span> <span class="inlinecode">~~<span class="id" title="var">A</span>\/~<span class="id" title="var">A</span></span>) implies
      a weak variant of proof irrelevance.

<div class="paragraph"> </div>


</li>
<li> The <span class="inlinecode"><span class="id" title="var">NoRetractFromTypeToProp</span></span> module proves that <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> cannot
      be a retract of a larger type.

<div class="paragraph"> </div>


</li>
<li> The <span class="inlinecode"><span class="id" title="var">TypeNeqSmallType</span></span> module proves that <span class="inlinecode"><span class="id" title="keyword">Type</span></span> is different
      from any smaller type.

<div class="paragraph"> </div>


</li>
<li> The <span class="inlinecode"><span class="id" title="var">PropNeqType</span></span> module proves that <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> is different from
      any larger <span class="inlinecode"><span class="id" title="keyword">Type</span></span>. It is an instance of the previous result.

<div class="paragraph"> </div>


</li>
</ul>
    References:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode">[<span class="id" title="var">Coquand90</span>]</span> T. Coquand, "Metamathematical Investigations of a
      Calculus of Constructions", Proceedings of Logic in Computer
      Science (LICS'90), 1990.

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" title="var">Hurkens95</span>]</span> A. J. Hurkens, "A simplification of Girard's paradox",
      Proceedings of the 2nd international conference Typed Lambda-Calculi
      and Applications (TLCA'95), 1995.

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" title="var">Geuvers01</span>]</span> H. Geuvers, "Inconsistency of Classical Logic in Type
      Theory", 2001, revised 2007
      (see external link <a href="http://www.cs.ru.nl/~herman/PUBS/newnote.ps.gz">http://www.cs.ru.nl/~herman/PUBS/newnote.ps.gz</a>).

</li>
</ul>

</li>
</ul>

</div>
<div class="code">

<br/>

<br/>

<br/>
</div>

<div class="doc">
<a id="lab860"></a><h1 class="section">A modular proof of Hurkens's paradox.</h1>

<div class="paragraph"> </div>

 It relies on an axiomatisation of a shallow embedding of system U-
    (i.e.  types of U- are interpreted by types of Coq). The
    universes are encoded in a style, due to Martin-Löf, where they
    are given by a set of names and a family <span class="inlinecode"><span class="id" title="var">El</span>:<span class="id" title="var">Name</span>-&gt;<span class="id" title="keyword">Type</span></span> which
    interprets each name into a type. This allows the encoding of
    universe to be decoupled from Coq's universes. Dependent products
    and abstractions are similarly postulated rather than encoded as
    Coq's dependent products and abstractions. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">Generic</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab861"></a><h2 class="section">Axiomatisation of impredicative universes in a Martin-Löf style</h2>

<div class="paragraph"> </div>

 System U- has two impredicative universes. In the proof of the
    paradox they are slightly asymmetric (in particular the reduction
    rules of the small universe are not needed).  Therefore, the
    axioms are duplicated allowing for a weaker requirement than the
    actual system U-. 
<div class="paragraph"> </div>

<a id="lab862"></a><h3 class="section">Large universe</h3>

</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">U1</span> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">El1</span> : <span class="id" title="var">U1</span> -&gt; <span class="id" title="keyword">Type</span>.<br/>
</div>

<div class="doc">
<a id="lab863"></a><h4 class="section">Closure by small product</h4>

</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">Forall1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span>:<span class="id" title="var">U1</span>, (<span class="id" title="var">El1</span> <span class="id" title="var">u</span> -&gt; <span class="id" title="var">U1</span>) -&gt; <span class="id" title="var">U1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'∀₁' x : A , B" := (<span class="id" title="var">Forall1</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;A '⟶₁' B" := (<span class="id" title="var">Forall1</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">B</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">lam1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">B</span>, (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">El1</span> <span class="id" title="var">u</span>, <span class="id" title="var">El1</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>)) -&gt; <span class="id" title="var">El1</span> (∀<span class="id" title="var">₁</span> <span class="id" title="var">x</span>:<span class="id" title="var">u</span>, <span class="id" title="var">B</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'λ₁' x , u" := (<span class="id" title="var">lam1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">app1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">B</span> (<span class="id" title="var">f</span>:<span class="id" title="var">El1</span> (<span class="id" title="var">Forall1</span> <span class="id" title="var">u</span> <span class="id" title="var">B</span>)) (<span class="id" title="var">x</span>:<span class="id" title="var">El1</span> <span class="id" title="var">u</span>), <span class="id" title="var">El1</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;f '·₁' x" := (<span class="id" title="var">app1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">beta1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">B</span> (<span class="id" title="var">f</span>:<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">El1</span> <span class="id" title="var">u</span>, <span class="id" title="var">El1</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>)) <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ₁</span> <span class="id" title="var">y</span>, <span class="id" title="var">f</span> <span class="id" title="var">y</span>) ·<span class="id" title="var">₁</span> <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">x</span>.<br/>
</div>

<div class="doc">
<a id="lab864"></a><h4 class="section">Closure by large products</h4>
 <span class="inlinecode"><span class="id" title="var">U1</span></span> only needs to quantify over itself. 
</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">ForallU1</span> : (<span class="id" title="var">U1</span>-&gt;<span class="id" title="var">U1</span>) -&gt; <span class="id" title="var">U1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'∀₂' A , F" := (<span class="id" title="var">ForallU1</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> =&gt; <span class="id" title="var">F</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">lamU1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">F</span>, (<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">U1</span>, <span class="id" title="var">El1</span> (<span class="id" title="var">F</span> <span class="id" title="var">A</span>)) -&gt; <span class="id" title="var">El1</span> (∀<span class="id" title="var">₂</span> <span class="id" title="var">A</span>, <span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'λ₂' x , u" := (<span class="id" title="var">lamU1</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">appU1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">F</span> (<span class="id" title="var">f</span>:<span class="id" title="var">El1</span>(∀<span class="id" title="var">₂</span> <span class="id" title="var">A</span>,<span class="id" title="var">F</span> <span class="id" title="var">A</span>)) (<span class="id" title="var">A</span>:<span class="id" title="var">U1</span>), <span class="id" title="var">El1</span> (<span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;f '·₁' [ A ]" := (<span class="id" title="var">appU1</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">betaU1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">F</span> (<span class="id" title="var">f</span>:<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">U1</span>, <span class="id" title="var">El1</span> (<span class="id" title="var">F</span> <span class="id" title="var">A</span>)) <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ₂</span> <span class="id" title="var">x</span>, <span class="id" title="var">f</span> <span class="id" title="var">x</span>) ·<span class="id" title="var">₁</span> [ <span class="id" title="var">A</span> ] = <span class="id" title="var">f</span> <span class="id" title="var">A</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab865"></a><h3 class="section">Small universe</h3>
 The small universe is an element of the large one. 
</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">u0</span> : <span class="id" title="var">U1</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">U0</span> := (<span class="id" title="var">El1</span> <span class="id" title="var">u0</span>).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">El0</span> : <span class="id" title="var">U0</span> -&gt; <span class="id" title="keyword">Type</span>.<br/>
</div>

<div class="doc">
<a id="lab866"></a><h4 class="section">Closure by small product</h4>
 <span class="inlinecode"><span class="id" title="var">U0</span></span> does not need reduction rules 
</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">Forall0</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span>:<span class="id" title="var">U0</span>, (<span class="id" title="var">El0</span> <span class="id" title="var">u</span> -&gt; <span class="id" title="var">U0</span>) -&gt; <span class="id" title="var">U0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'∀₀' x : A , B" := (<span class="id" title="var">Forall0</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;A '⟶₀' B" := (<span class="id" title="var">Forall0</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">B</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">lam0</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">B</span>, (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">El0</span> <span class="id" title="var">u</span>, <span class="id" title="var">El0</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>)) -&gt; <span class="id" title="var">El0</span> (∀<span class="id" title="var">₀</span> <span class="id" title="var">x</span>:<span class="id" title="var">u</span>, <span class="id" title="var">B</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'λ₀' x , u" := (<span class="id" title="var">lam0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">app0</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">B</span> (<span class="id" title="var">f</span>:<span class="id" title="var">El0</span> (<span class="id" title="var">Forall0</span> <span class="id" title="var">u</span> <span class="id" title="var">B</span>)) (<span class="id" title="var">x</span>:<span class="id" title="var">El0</span> <span class="id" title="var">u</span>), <span class="id" title="var">El0</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;f '·₀' x" := (<span class="id" title="var">app0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
</div>

<div class="doc">
<a id="lab867"></a><h4 class="section">Closure by large products</h4>

</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">ForallU0</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span>:<span class="id" title="var">U1</span>, (<span class="id" title="var">El1</span> <span class="id" title="var">u</span>-&gt;<span class="id" title="var">U0</span>) -&gt; <span class="id" title="var">U0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'∀₀¹' A : U , F" := (<span class="id" title="var">ForallU0</span> <span class="id" title="var">U</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> =&gt; <span class="id" title="var">F</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">lamU0</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">F</span>, (<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">El1</span> <span class="id" title="var">U</span>, <span class="id" title="var">El0</span> (<span class="id" title="var">F</span> <span class="id" title="var">A</span>)) -&gt; <span class="id" title="var">El0</span> (∀<span class="id" title="var">₀¹</span> <span class="id" title="var">A</span>:<span class="id" title="var">U</span>, <span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;'λ₀¹' x , u" := (<span class="id" title="var">lamU0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u</span>)).<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">appU0</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">F</span> (<span class="id" title="var">f</span>:<span class="id" title="var">El0</span>(∀<span class="id" title="var">₀¹</span> <span class="id" title="var">A</span>:<span class="id" title="var">U</span>,<span class="id" title="var">F</span> <span class="id" title="var">A</span>)) (<span class="id" title="var">A</span>:<span class="id" title="var">El1</span> <span class="id" title="var">U</span>), <span class="id" title="var">El0</span> (<span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;f '·₀' [ A ]" := (<span class="id" title="var">appU0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">A</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab868"></a><h2 class="section">Automating the rewrite rules of our encoding.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">simplify</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">beta1</span>, ?<span class="id" title="var">betaU1</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">lazy</span> <span class="id" title="keyword">beta</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">simplify_in</span> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">beta1</span>, ?<span class="id" title="var">betaU1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">lazy</span> <span class="id" title="keyword">beta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab869"></a><h2 class="section">Hurkens's paradox.</h2>

<div class="paragraph"> </div>

 An inhabitant of <span class="inlinecode"><span class="id" title="var">U0</span></span> standing for <span class="inlinecode"><span class="id" title="var">False</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">F</span>:<span class="id" title="var">U0</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab870"></a><h3 class="section">Preliminary definitions</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">V</span> : <span class="id" title="var">U1</span> := ∀<span class="id" title="var">₂</span> <span class="id" title="var">A</span>, ((<span class="id" title="var">A</span> ⟶<span class="id" title="var">₁</span> <span class="id" title="var">u0</span>) ⟶<span class="id" title="var">₁</span> <span class="id" title="var">A</span> ⟶<span class="id" title="var">₁</span> <span class="id" title="var">u0</span>) ⟶<span class="id" title="var">₁</span> <span class="id" title="var">A</span> ⟶<span class="id" title="var">₁</span> <span class="id" title="var">u0</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">U</span> : <span class="id" title="var">U1</span> := <span class="id" title="var">V</span> ⟶<span class="id" title="var">₁</span> <span class="id" title="var">u0</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sb</span> (<span class="id" title="var">z</span>:<span class="id" title="var">El1</span> <span class="id" title="var">V</span>) : <span class="id" title="var">El1</span> <span class="id" title="var">V</span> := <span class="id" title="var">λ₂</span> <span class="id" title="var">A</span>, <span class="id" title="var">λ₁</span> <span class="id" title="var">r</span>, <span class="id" title="var">λ₁</span> <span class="id" title="var">a</span>, <span class="id" title="var">r</span> ·<span class="id" title="var">₁</span> (<span class="id" title="var">z</span>·<span class="id" title="var">₁</span>[<span class="id" title="var">A</span>]·<span class="id" title="var">₁r</span>) ·<span class="id" title="var">₁</span> <span class="id" title="var">a</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">le</span> (<span class="id" title="var">i</span>:<span class="id" title="var">El1</span> (<span class="id" title="var">U</span>⟶<span class="id" title="var">₁u0</span>)) (<span class="id" title="var">x</span>:<span class="id" title="var">El1</span> <span class="id" title="var">U</span>) : <span class="id" title="var">U0</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">x</span> ·<span class="id" title="var">₁</span> (<span class="id" title="var">λ₂</span> <span class="id" title="var">A</span>, <span class="id" title="var">λ₁</span> <span class="id" title="var">r</span>, <span class="id" title="var">λ₁</span> <span class="id" title="var">a</span>, <span class="id" title="var">i</span> ·<span class="id" title="var">₁</span> (<span class="id" title="var">λ₁</span> <span class="id" title="var">v</span>, (<span class="id" title="var">sb</span> <span class="id" title="var">v</span>) ·<span class="id" title="var">₁</span> [<span class="id" title="var">A</span>] ·<span class="id" title="var">₁</span> <span class="id" title="var">r</span> ·<span class="id" title="var">₁</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">le'</span> : <span class="id" title="var">El1</span> ((<span class="id" title="var">U</span>⟶<span class="id" title="var">₁u0</span>) ⟶<span class="id" title="var">₁</span> <span class="id" title="var">U</span> ⟶<span class="id" title="var">₁</span> <span class="id" title="var">u0</span>) := <span class="id" title="var">λ₁</span> <span class="id" title="var">i</span>, <span class="id" title="var">λ₁</span> <span class="id" title="var">x</span>, <span class="id" title="var">le</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">induct</span> (<span class="id" title="var">i</span>:<span class="id" title="var">El1</span> (<span class="id" title="var">U</span>⟶<span class="id" title="var">₁u0</span>)) : <span class="id" title="var">U0</span> :=<br/>
&nbsp;&nbsp;∀<span class="id" title="var">₀¹</span> <span class="id" title="var">x</span>:<span class="id" title="var">U</span>, <span class="id" title="var">le</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> ⟶<span class="id" title="var">₀</span> <span class="id" title="var">i</span> ·<span class="id" title="var">₁</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">WF</span> : <span class="id" title="var">El1</span> <span class="id" title="var">U</span> := <span class="id" title="var">λ₁</span> <span class="id" title="var">z</span>, (<span class="id" title="var">induct</span> (<span class="id" title="var">z</span>·<span class="id" title="var">₁</span>[<span class="id" title="var">U</span>] ·<span class="id" title="var">₁</span> <span class="id" title="var">le'</span>)).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">I</span> (<span class="id" title="var">x</span>:<span class="id" title="var">El1</span> <span class="id" title="var">U</span>) : <span class="id" title="var">U0</span> :=<br/>
&nbsp;&nbsp;(∀<span class="id" title="var">₀¹</span> <span class="id" title="var">i</span>:<span class="id" title="var">U</span>⟶<span class="id" title="var">₁u0</span>, <span class="id" title="var">le</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> ⟶<span class="id" title="var">₀</span> <span class="id" title="var">i</span> ·<span class="id" title="var">₁</span> (<span class="id" title="var">λ₁</span> <span class="id" title="var">v</span>, (<span class="id" title="var">sb</span> <span class="id" title="var">v</span>) ·<span class="id" title="var">₁</span> [<span class="id" title="var">U</span>] ·<span class="id" title="var">₁</span> <span class="id" title="var">le'</span> ·<span class="id" title="var">₁</span> <span class="id" title="var">x</span>)) ⟶<span class="id" title="var">₀</span> <span class="id" title="var">F</span><br/>
.<br/>

<br/>
</div>

<div class="doc">
<a id="lab871"></a><h3 class="section">Proof</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Omega</span> : <span class="id" title="var">El0</span> (∀<span class="id" title="var">₀¹</span> <span class="id" title="var">i</span>:<span class="id" title="var">U</span>⟶<span class="id" title="var">₁u0</span>, <span class="id" title="var">induct</span> <span class="id" title="var">i</span> ⟶<span class="id" title="var">₀</span> <span class="id" title="var">i</span> ·<span class="id" title="var">₁</span> <span class="id" title="var">WF</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀¹</span> <span class="id" title="var">i</span>, <span class="id" title="var">λ₀</span> <span class="id" title="var">y</span>, <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">y</span>·<span class="id" title="var">₀</span>[<span class="id" title="var">_</span>]·<span class="id" title="var">₀_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">le</span>,<span class="id" title="var">WF</span>,<span class="id" title="var">induct</span>. <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀¹</span> <span class="id" title="var">x</span>, <span class="id" title="var">λ₀</span> <span class="id" title="var">h0</span>, <span class="id" title="var">_</span>). <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">y</span>·<span class="id" title="var">₀</span>[<span class="id" title="var">_</span>]·<span class="id" title="var">₀_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">le</span>. <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sb</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">le'</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">h0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lemma1</span> : <span class="id" title="var">El0</span> (<span class="id" title="var">induct</span> (<span class="id" title="var">λ₁</span> <span class="id" title="var">u</span>, <span class="id" title="var">I</span> <span class="id" title="var">u</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">induct</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀¹</span> <span class="id" title="var">x</span>, <span class="id" title="var">λ₀</span> <span class="id" title="var">p</span>, <span class="id" title="var">_</span>). <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀</span> <span class="id" title="var">q</span>,<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">El0</span> (<span class="id" title="var">I</span> (<span class="id" title="var">λ₁</span> <span class="id" title="var">v</span>, (<span class="id" title="var">sb</span> <span class="id" title="var">v</span>)·<span class="id" title="var">₁</span>[<span class="id" title="var">U</span>]·<span class="id" title="var">₁le'</span>·<span class="id" title="var">₁x</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">q</span>·<span class="id" title="var">₀</span>[<span class="id" title="var">λ₁</span> <span class="id" title="var">u</span>, <span class="id" title="var">I</span> <span class="id" title="var">u</span>]·<span class="id" title="var">₀p</span>). <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">q'</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">h</span>·<span class="id" title="var">₀_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀¹</span> <span class="id" title="var">i</span>,<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀</span> <span class="id" title="var">h'</span>, <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">q</span>·<span class="id" title="var">₀</span>[<span class="id" title="var">λ₁</span> <span class="id" title="var">y</span>, <span class="id" title="var">i</span> ·<span class="id" title="var">₁</span> (<span class="id" title="var">λ₁</span> <span class="id" title="var">v</span>, (<span class="id" title="var">sb</span> <span class="id" title="var">v</span>)·<span class="id" title="var">₁</span>[<span class="id" title="var">U</span>] ·<span class="id" title="var">₁</span> <span class="id" title="var">le'</span> ·<span class="id" title="var">₁</span> <span class="id" title="var">y</span>)]). <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">q'</span>·<span class="id" title="var">₀_</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">q'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">le</span> <span class="id" title="tactic">at</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">h'</span>. <span class="id" title="var">simplify_in</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sb</span> <span class="id" title="tactic">at</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">h'</span>. <span class="id" title="var">simplify_in</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">le'</span> <span class="id" title="tactic">at</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">h'</span>. <span class="id" title="var">simplify_in</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">h'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lemma2</span> : <span class="id" title="var">El0</span> ((∀<span class="id" title="var">₀¹i</span>:<span class="id" title="var">U</span>⟶<span class="id" title="var">₁u0</span>, <span class="id" title="var">induct</span> <span class="id" title="var">i</span> ⟶<span class="id" title="var">₀</span> <span class="id" title="var">i</span>·<span class="id" title="var">₁WF</span>) ⟶<span class="id" title="var">₀</span> <span class="id" title="var">F</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀</span> <span class="id" title="var">x</span>, <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">El0</span> (<span class="id" title="var">I</span> <span class="id" title="var">WF</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">x</span>·<span class="id" title="var">₀</span>[<span class="id" title="var">λ₁</span> <span class="id" title="var">u</span>, <span class="id" title="var">I</span> <span class="id" title="var">u</span>]·<span class="id" title="var">₀lemma1</span>). <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">q</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">h</span>·<span class="id" title="var">₀_</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">λ₀¹</span> <span class="id" title="var">i</span>, <span class="id" title="var">λ₀</span> <span class="id" title="var">h0</span>, <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">x</span>·<span class="id" title="var">₀</span>[<span class="id" title="var">λ₁</span> <span class="id" title="var">y</span>, <span class="id" title="var">i</span>·<span class="id" title="var">₁</span>(<span class="id" title="var">λ₁</span> <span class="id" title="var">v</span>, (<span class="id" title="var">sb</span> <span class="id" title="var">v</span>)·<span class="id" title="var">₁</span>[<span class="id" title="var">U</span>]·<span class="id" title="var">₁le'</span>·<span class="id" title="var">₁y</span>)]). <span class="id" title="var">simplify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">q</span>·<span class="id" title="var">₀_</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">le</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h0</span>. <span class="id" title="var">simplify_in</span> <span class="id" title="var">h0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">WF</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h0</span>. <span class="id" title="var">simplify_in</span> <span class="id" title="var">h0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">h0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="var">El0</span> <span class="id" title="var">F</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">lemma2</span>·<span class="id" title="var">₀Omega</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">paradox</span></span> tactic can be called as a shortcut to use the paradox. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">paradox</span> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> (<span class="id" title="tactic">refine</span> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">h</span> =&gt; <span class="id" title="var">_</span>) (<span class="id" title="var">paradox</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Generic</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab872"></a><h1 class="section">Impredicative universes are not retracts.</h1>

<div class="paragraph"> </div>

 There can be no retract to an impredicative Coq universe from a
    smaller type. In this version of the proof, the impredicativity of
    the universe is postulated with a pair of functions from the
    universe to its type and back which commute with dependent product
    in an appropriate way. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">NoRetractToImpredicativeUniverse</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">Let</span>      <span class="id" title="var">U2</span>    := <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Let</span>      <span class="id" title="var">U1</span>:<span class="id" title="var">U2</span> := <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">U0</span>:<span class="id" title="var">U1</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab873"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">U1</span></span> is impredicative</h3>

</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">u22u1</span> : <span class="id" title="var">U2</span> -&gt; <span class="id" title="var">U1</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">u22u1_unit</span>   : <span class="id" title="keyword">forall</span> (<span class="id" title="var">c</span>:<span class="id" title="var">U2</span>), <span class="id" title="var">c</span> -&gt; <span class="id" title="var">u22u1</span> <span class="id" title="var">c</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">u22u1_counit</span></span> and <span class="inlinecode"><span class="id" title="var">u22u1_coherent</span></span> only apply to dependent
    product so that the equations happen in the smaller <span class="inlinecode"><span class="id" title="var">U1</span></span> rather
    than <span class="inlinecode"><span class="id" title="var">U2</span></span>.  Indeed, it is not generally the case that one can
    project from a large universe to an impredicative universe and
    then get back the original type again. It would be too strong a
    hypothesis to require (in particular, it is not true of
    <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>). The formulation is reminiscent of the monadic
    characteristic of the projection from a large type to <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>.
</div>
<div class="code">
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">u22u1_counit</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">F</span>:<span class="id" title="var">U1</span>-&gt;<span class="id" title="var">U1</span>), <span class="id" title="var">u22u1</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>,<span class="id" title="var">F</span> <span class="id" title="var">A</span>) -&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>,<span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">u22u1_coherent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">F</span>:<span class="id" title="var">U1</span> -&gt; <span class="id" title="var">U1</span>) (<span class="id" title="var">f</span>:<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">U1</span>, <span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">x</span>:<span class="id" title="var">U1</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">u22u1_counit</span> <span class="id" title="var">_</span> (<span class="id" title="var">u22u1_unit</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab874"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">U0</span></span> is a retract of <span class="inlinecode"><span class="id" title="var">U1</span></span></h3>

</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">u02u1</span> : <span class="id" title="var">U0</span> -&gt; <span class="id" title="var">U1</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">u12u0</span> : <span class="id" title="var">U1</span> -&gt; <span class="id" title="var">U0</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">u12u0_unit</span>   : <span class="id" title="keyword">forall</span> (<span class="id" title="var">b</span>:<span class="id" title="var">U1</span>), <span class="id" title="var">b</span> -&gt; <span class="id" title="var">u02u1</span> (<span class="id" title="var">u12u0</span> <span class="id" title="var">b</span>).<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">u12u0_counit</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">b</span>:<span class="id" title="var">U1</span>), <span class="id" title="var">u02u1</span> (<span class="id" title="var">u12u0</span> <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab875"></a><h2 class="section">Paradox</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">F</span>:<span class="id" title="var">U1</span>, <span class="id" title="var">F</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Generic.paradox</span> <span class="id" title="var">h</span>.<br/>
</div>

<div class="doc">
Large universe 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">U1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> =&gt; <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">u</span>, <span class="id" title="var">F</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>

<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="var">u22u1</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">F</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u22u1_unit</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u22u1_counit</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
</div>

<div class="doc">
Small universe 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">U0</span>.<br/>
</div>

<div class="doc">
The interpretation of the small universe is the image of
      <span class="inlinecode"><span class="id" title="var">U0</span></span> in <span class="inlinecode"><span class="id" title="var">U1</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> =&gt; <span class="id" title="var">u02u1</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="var">u12u0</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:(<span class="id" title="var">u02u1</span> <span class="id" title="var">u</span>), <span class="id" title="var">u02u1</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="var">u12u0</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">u</span>, <span class="id" title="var">u02u1</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">u12u0</span> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">u12u0_counit</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> **. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">u22u1_coherent</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">u12u0_unit</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">u12u0_counit</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">u12u0_unit</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">u12u0_counit</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">NoRetractToImpredicativeUniverse</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab876"></a><h1 class="section">Modal fragments of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> are not retracts</h1>

<div class="paragraph"> </div>

 In presence of a a monadic modality on <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>, we can define a
    subset of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> of modal propositions which is also a complete
    Heyting algebra. These cannot be a retract of a modal
    proposition. This is a case where the universe in system U- are
    not encoded as Coq universes. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">NoRetractToModalProposition</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab877"></a><h2 class="section">Monadic modality</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">M</span> : <span class="id" title="keyword">Prop</span> -&gt; <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">incr</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="keyword">Prop</span>, (<span class="id" title="var">A</span>-&gt;<span class="id" title="var">B</span>) -&gt; <span class="id" title="var">M</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">M</span> <span class="id" title="var">B</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">strength</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> (<span class="id" title="var">P</span>:<span class="id" title="var">A</span>-&gt;<span class="id" title="keyword">Prop</span>), <span class="id" title="var">M</span>(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>,<span class="id" title="var">P</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>,<span class="id" title="var">M</span>(<span class="id" title="var">P</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">h</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">incr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab878"></a><h2 class="section">The universe of modal propositions</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">MProp</span> := { <span class="id" title="var">P</span>:<span class="id" title="keyword">Prop</span> | <span class="id" title="var">M</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">P</span> }.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">El</span> : <span class="id" title="var">MProp</span> -&gt; <span class="id" title="keyword">Prop</span> := @<span class="id" title="var">proj1_sig</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">modal</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span>:<span class="id" title="var">MProp</span>, <span class="id" title="var">M</span>(<span class="id" title="var">El</span> <span class="id" title="var">P</span>) -&gt; <span class="id" title="var">El</span> <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">P</span> <span class="id" title="var">m</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Forall</span> {<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span>:<span class="id" title="var">A</span>-&gt;<span class="id" title="var">MProp</span>) : <span class="id" title="var">MProp</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> (<span class="id" title="tactic">refine</span> (<span class="id" title="var">exist</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">El</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">strength</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="var">modal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab879"></a><h2 class="section">Retract of the modal fragment of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> in a small type</h2>

<div class="paragraph"> </div>

 The retract is axiomatized using logical equivalence as the
    equality on propositions. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">bool</span> : <span class="id" title="var">MProp</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">p2b</span> : <span class="id" title="var">MProp</span> -&gt; <span class="id" title="var">El</span> <span class="id" title="var">bool</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">b2p</span> : <span class="id" title="var">El</span> <span class="id" title="var">bool</span> -&gt; <span class="id" title="var">MProp</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">MProp</span>, <span class="id" title="var">El</span> (<span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>)) -&gt; <span class="id" title="var">El</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p2</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">MProp</span>, <span class="id" title="var">El</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">El</span> (<span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab880"></a><h2 class="section">Paradox</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">B</span>:<span class="id" title="var">MProp</span>, <span class="id" title="var">El</span> <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Generic.paradox</span> <span class="id" title="var">h</span>.<br/>
</div>

<div class="doc">
Large universe 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">MProp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">El</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">Forall</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Forall</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">f</span>).<br/>
</div>

<div class="doc">
Small universe 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">El</span> (<span class="id" title="var">b2p</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="var">p2b</span> (<span class="id" title="var">Forall</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">b2p</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)))).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="var">p2b</span> (<span class="id" title="var">Forall</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">b2p</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)))).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">p2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p2p1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p2p1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">NoRetractToModalProposition</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab881"></a><h1 class="section">The negative fragment of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> is not a retract</h1>

<div class="paragraph"> </div>

 The existence in the pure Calculus of Constructions of a retract
    from the negative fragment of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> into a negative proposition
    is inconsistent. This is an instance of the previous result. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">NoRetractToNegativeProp</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab882"></a><h2 class="section">The universe of negative propositions.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">NProp</span> := { <span class="id" title="var">P</span>:<span class="id" title="keyword">Prop</span> | ~~<span class="id" title="var">P</span> -&gt; <span class="id" title="var">P</span> }.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">El</span> : <span class="id" title="var">NProp</span> -&gt; <span class="id" title="keyword">Prop</span> := @<span class="id" title="var">proj1_sig</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab883"></a><h2 class="section">Retract of the negative fragment of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> in a small type</h2>

<div class="paragraph"> </div>

 The retract is axiomatized using logical equivalence as the
    equality on propositions. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">bool</span> : <span class="id" title="var">NProp</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">p2b</span> : <span class="id" title="var">NProp</span> -&gt; <span class="id" title="var">El</span> <span class="id" title="var">bool</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">b2p</span> : <span class="id" title="var">El</span> <span class="id" title="var">bool</span> -&gt; <span class="id" title="var">NProp</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">NProp</span>, <span class="id" title="var">El</span> (<span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>)) -&gt; <span class="id" title="var">El</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p2</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">NProp</span>, <span class="id" title="var">El</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">El</span> (<span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab884"></a><h2 class="section">Paradox</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">B</span>:<span class="id" title="var">NProp</span>, <span class="id" title="var">El</span> <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> (<span class="id" title="tactic">refine</span> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">h</span> =&gt; <span class="id" title="var">_</span>) (<span class="id" title="var">NoRetractToModalProposition.paradox</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">P</span> =&gt; ~~<span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">p2b</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">b2p</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">NoRetractToNegativeProp</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab885"></a><h1 class="section">Prop is not a retract</h1>

<div class="paragraph"> </div>

 The existence in the pure Calculus of Constructions of a retract
    from <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> into a small type of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> is inconsistent. This is a
    special case of the previous result. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">NoRetractFromSmallPropositionToProp</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab886"></a><h2 class="section">The universe of propositions.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">NProp</span> := { <span class="id" title="var">P</span>:<span class="id" title="keyword">Prop</span> | <span class="id" title="var">P</span> -&gt; <span class="id" title="var">P</span>}.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">El</span> : <span class="id" title="var">NProp</span> -&gt; <span class="id" title="keyword">Prop</span> := @<span class="id" title="var">proj1_sig</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">MParadox</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab887"></a><h2 class="section">Retract of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> in a small type, using the identity modality.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">bool</span> : <span class="id" title="var">NProp</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">p2b</span> : <span class="id" title="var">NProp</span> -&gt; <span class="id" title="var">El</span> <span class="id" title="var">bool</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">b2p</span> : <span class="id" title="var">El</span> <span class="id" title="var">bool</span> -&gt; <span class="id" title="var">NProp</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">NProp</span>, <span class="id" title="var">El</span> (<span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>)) -&gt; <span class="id" title="var">El</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p2</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="var">NProp</span>, <span class="id" title="var">El</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">El</span> (<span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab888"></a><h2 class="section">Paradox</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">mparadox</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">B</span>:<span class="id" title="var">NProp</span>, <span class="id" title="var">El</span> <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> (<span class="id" title="tactic">refine</span> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">h</span> =&gt; <span class="id" title="var">_</span>) (<span class="id" title="var">NoRetractToModalProposition.paradox</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">P</span> =&gt; <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">p2b</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">b2p</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">MParadox</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab889"></a><h2 class="section">Retract of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> in a small type</h2>

<div class="paragraph"> </div>

 The retract is axiomatized using logical equivalence as the
    equality on propositions. 
</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">bool</span> : <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">p2b</span> : <span class="id" title="keyword">Prop</span> -&gt; <span class="id" title="var">bool</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">b2p</span> : <span class="id" title="var">bool</span> -&gt; <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Prop</span>, <span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>) -&gt; <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p2p2</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Prop</span>, <span class="id" title="var">A</span> -&gt; <span class="id" title="var">b2p</span> (<span class="id" title="var">p2b</span> <span class="id" title="var">A</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab890"></a><h2 class="section">Paradox</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">B</span>:<span class="id" title="keyword">Prop</span>, <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> (<span class="id" title="tactic">refine</span> (<span class="id" title="var">mparadox</span> (<span class="id" title="var">exist</span> <span class="id" title="var">_</span> <span class="id" title="var">bool</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">exist</span> <span class="id" title="var">_</span> <span class="id" title="var">B</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>)))).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">p2b</span> (<span class="id" title="var">El</span> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">b2p</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> <span class="id" title="var">H</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">p2p1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> <span class="id" title="var">H</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">p2p2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">NoRetractFromSmallPropositionToProp</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab891"></a><h1 class="section">Large universes are not retracts of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>.</h1>

<div class="paragraph"> </div>

 The existence in the Calculus of Constructions with universes of a
    retract from some <span class="inlinecode"><span class="id" title="keyword">Type</span></span> universe into <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> is inconsistent. 
</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">NoRetractFromTypeToProp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Type2</span> := <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Type1</span> := <span class="id" title="keyword">Type</span> : <span class="id" title="var">Type2</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab892"></a><h2 class="section">Assumption of a retract from Type into Prop</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">down</span> : <span class="id" title="var">Type1</span> -&gt; <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">up</span> : <span class="id" title="keyword">Prop</span> -&gt; <span class="id" title="var">Type1</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">up_down</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="var">Type1</span>), <span class="id" title="var">up</span> (<span class="id" title="var">down</span> <span class="id" title="var">A</span>) = <span class="id" title="var">A</span> :&gt; <span class="id" title="var">Type1</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab893"></a><h2 class="section">Paradox</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span>:<span class="id" title="keyword">Prop</span>, <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Generic.paradox</span> <span class="id" title="var">h</span>.<br/>
</div>

<div class="doc">
Large universe. 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Type1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> =&gt; <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">F</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>:<span class="id" title="keyword">Prop</span>, <span class="id" title="var">F</span>(<span class="id" title="var">up</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">A</span> =&gt; <span class="id" title="var">f</span> (<span class="id" title="var">up</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">f</span> (<span class="id" title="var">down</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">up_down</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> =&gt; <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">P</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">P</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">up_down</span> <span class="id" title="var">A</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">NoRetractFromTypeToProp</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab894"></a><h1 class="section"><span class="inlinecode"><span class="id" title="var">A</span>&lt;&gt;<span class="id" title="keyword">Type</span></span></h1>

<div class="paragraph"> </div>

 No Coq universe can be equal to one of its elements. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">TypeNeqSmallType</span>.<br/>

<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="var">Universe</span> <span class="id" title="var">Polymorphism</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab895"></a><h2 class="section">Universe <span class="inlinecode"><span class="id" title="var">U</span></span> is equal to one of its elements.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">U</span> := <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">A</span>:<span class="id" title="var">U</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">h</span> : <span class="id" title="var">U</span>=<span class="id" title="var">A</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab896"></a><h2 class="section">Universe <span class="inlinecode"><span class="id" title="var">U</span></span> is a retract of <span class="inlinecode"><span class="id" title="var">A</span></span></h2>

<div class="paragraph"> </div>

 The following context is actually sufficient for the paradox to
    hold. The hypothesis <span class="inlinecode"><span class="id" title="var">h</span>:<span class="id" title="var">U</span>=<span class="id" title="var">A</span></span> is only used to define <span class="inlinecode"><span class="id" title="var">down</span></span>, <span class="inlinecode"><span class="id" title="var">up</span></span>
    and <span class="inlinecode"><span class="id" title="var">up_down</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">down</span> (<span class="id" title="var">X</span>:<span class="id" title="var">U</span>) : <span class="id" title="var">A</span> := @<span class="id" title="var">eq_rect</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> =&gt; <span class="id" title="var">X</span>) <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">up</span>   (<span class="id" title="var">X</span>:<span class="id" title="var">A</span>) : <span class="id" title="var">U</span> := @<span class="id" title="var">eq_rect_r</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> =&gt; <span class="id" title="var">X</span>) <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">up_down</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">X</span>:<span class="id" title="var">U</span>), <span class="id" title="var">up</span> (<span class="id" title="var">down</span> <span class="id" title="var">X</span>) = <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">up</span>,<span class="id" title="var">down</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="var">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Generic.paradox</span> <span class="id" title="var">p</span>.<br/>
</div>

<div class="doc">
Large universe 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span>=&gt;<span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">X</span>, <span class="id" title="var">F</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">F</span> (<span class="id" title="var">up</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span> =&gt; <span class="id" title="var">f</span> (<span class="id" title="var">up</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">f</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">f</span> (<span class="id" title="var">down</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">up_down</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
</div>

<div class="doc">
Small universe 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">A</span>.<br/>
</div>

<div class="doc">
The interpretation of <span class="inlinecode"><span class="id" title="var">A</span></span> as a universe is <span class="inlinecode"><span class="id" title="var">U</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">up</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="var">down</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">up</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> =&gt; <span class="id" title="var">down</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">up</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">down</span> <span class="id" title="var">False</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">up_down</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">f</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">up_down</span> <span class="id" title="var">X</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">up_down</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">up_down</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">up_down</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">up_down</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Paradox</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">TypeNeqSmallType</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab897"></a><h1 class="section"><span class="inlinecode"><span class="id" title="keyword">Prop</span>&lt;&gt;<span class="id" title="keyword">Type</span></span>.</h1>

<div class="paragraph"> </div>

 Special case of <span class="inlinecode"><span class="id" title="var">TypeNeqSmallType</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">PropNeqType</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">paradox</span> : <span class="id" title="keyword">Prop</span> &lt;&gt; <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> (<span class="id" title="tactic">refine</span> (<span class="id" title="var">TypeNeqSmallType.paradox</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">PropNeqType</span>.<br/>

<br/>
</div>
    <div id="sidebarWrapper">
      <div id="sidebar">
        <div class="block">
          <h2 class="title">Navigation</h2>
          <div class="content">
            <ul class="menu">
              <li class="leaf">Standard Library
                <ul class="menu">
                  <li><a href="index.html">Table of contents</a></li>
                  <li><a href="genindex.html">Index</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div id="footer">
    <div id="nav-footer">
      <ul class="links-menu-footer">
        <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
        <li><a href="http://validator.w3.org/">xhtml valid</a></li>
        <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
      </ul>
    </div>
  </div>

</div>

</body>
</html>
