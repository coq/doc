<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/coqdoc.css" />

<title>Standard Library | The Coq Proof Assistant</title>

</head>

<body>

<div id="container">
  <div id="headertop">
    <div id="nav">
      <ul class="links-menu">
        <li><a href="//coq.inria.fr/" class="active">Home</a></li>
        <li><a href="//coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>
        <li><a href="//coq.inria.fr/download">Get Coq</a></li>
        <li><a href="//coq.inria.fr/documentation">Documentation</a></li>
        <li><a href="//coq.inria.fr/community">Community</a></li>
      </ul>
    </div>
  </div>

  <div id="header">
    <div id="logoWrapper">
      <div id="logo"><a href="//coq.inria.fr/" title="Home"><img src="//coq.inria.fr/files/barron_logo.png" alt="Home" /></a>
      </div>
      <div id="siteName"><a href="//coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
      </div>
    </div>
  </div>

  <div id="content">

<h1 class="libtitle">Library Coq.MSets.MSetProperties</h1>

<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab175"></a><h1 class="section">Finite sets library</h1>

<div class="paragraph"> </div>

 This functor derives additional properties from <span class="inlinecode"><span class="id" title="var">MSetInterface.S</span></span>.
    Contrary to the functor in <span class="inlinecode"><span class="id" title="var">MSetEqProperties</span></span> it uses
    predicates over sets instead of sets operations, i.e.
    <span class="inlinecode"><span class="id" title="var">In</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> instead of <span class="inlinecode"><span class="id" title="var">mem</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">s</span>=<span class="id" title="var">true</span></span>,
    <span class="inlinecode"><span class="id" title="var">Equal</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> <span class="inlinecode"><span class="id" title="var">s'</span></span> instead of <span class="inlinecode"><span class="id" title="var">equal</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> <span class="inlinecode"><span class="id" title="var">s'</span>=<span class="id" title="var">true</span></span>, etc. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">MSetInterface</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">DecidableTypeEx</span> <span class="id" title="var">OrdersLists</span> <span class="id" title="var">MSetFacts</span> <span class="id" title="var">MSetDecide</span>.<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <span class="id" title="var">transpose</span> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
First, a functor for Weak Sets in functorial version. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">WPropertiesOn</span> (<span class="id" title="keyword">Import</span> <span class="id" title="var">E</span> : <span class="id" title="var">DecidableType</span>)(<span class="id" title="var">M</span> : <span class="id" title="var">WSetsOn</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Dec</span> := <span class="id" title="var">WDecideOn</span> <span class="id" title="var">E</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">FM</span> := <span class="id" title="var">Dec.F</span> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">M</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">In_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>, {<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>} + {~ <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> := <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">In</span> <span class="id" title="var">y</span> <span class="id" title="var">s'</span> &lt;-&gt; <span class="id" title="var">E.eq</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> \/ <span class="id" title="var">In</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Add_Equal</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> &lt;-&gt; <span class="id" title="var">s'</span> [=] <span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">expAdd</span> := <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Add_Equal</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">BasicProperties</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s3</span> : <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">elt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">equal_refl</span> : <span class="id" title="var">s</span>[=]<span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">equal_sym</span> : <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">s'</span>[=]<span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">equal_trans</span> : <span class="id" title="var">s1</span>[=]<span class="id" title="var">s2</span> -&gt; <span class="id" title="var">s2</span>[=]<span class="id" title="var">s3</span> -&gt; <span class="id" title="var">s1</span>[=]<span class="id" title="var">s3</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_refl</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_trans</span> : <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s2</span> -&gt; <span class="id" title="var">s2</span>[&lt;=]<span class="id" title="var">s3</span> -&gt; <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s3</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_antisym</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">s'</span>[&lt;=]<span class="id" title="var">s</span> -&gt; <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_equal</span> : <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_empty</span> : <span class="id" title="var">empty</span>[&lt;=]<span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_remove_3</span> : <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s2</span> -&gt; <span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s1</span> [&lt;=] <span class="id" title="var">s2</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_diff</span> : <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s3</span> -&gt; <span class="id" title="var">diff</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> [&lt;=] <span class="id" title="var">s3</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_add_3</span> : <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s2</span> -&gt; <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s2</span> -&gt; <span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s1</span> [&lt;=] <span class="id" title="var">s2</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_add_2</span> : <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s2</span> -&gt; <span class="id" title="var">s1</span>[&lt;=] <span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s2</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">in_subset</span> : <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s1</span> -&gt; <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s2</span> -&gt; <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s2</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">double_inclusion</span> : <span class="id" title="var">s1</span>[=]<span class="id" title="var">s2</span> &lt;-&gt; <span class="id" title="var">s1</span>[&lt;=]<span class="id" title="var">s2</span> /\ <span class="id" title="var">s2</span>[&lt;=]<span class="id" title="var">s1</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_is_empty_1</span> : <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">s</span>[=]<span class="id" title="var">empty</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_is_empty_2</span> : <span class="id" title="var">s</span>[=]<span class="id" title="var">empty</span> -&gt; <span class="id" title="var">Empty</span> <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_equal</span> : <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_add</span> : <span class="id" title="var">add</span> <span class="id" title="var">x</span> (<span class="id" title="var">add</span> <span class="id" title="var">x'</span> <span class="id" title="var">s</span>) [=] <span class="id" title="var">add</span> <span class="id" title="var">x'</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_equal</span> : ~ <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Equal_remove</span> : <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_remove</span> : <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">add</span> <span class="id" title="var">x</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) [=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_add</span> : ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">remove</span> <span class="id" title="var">x</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) [=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">singleton_equal_add</span> : <span class="id" title="var">singleton</span> <span class="id" title="var">x</span> [=] <span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">empty</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_singleton_empty</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">empty</span> -&gt; <span class="id" title="var">singleton</span> <span class="id" title="var">x</span> [=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_sym</span> : <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_subset_equal</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_equal_1</span> : <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span> [=] <span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_equal_2</span> : <span class="id" title="var">s'</span>[=]<span class="id" title="var">s''</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_assoc</span> : <span class="id" title="var">union</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) <span class="id" title="var">s''</span> [=] <span class="id" title="var">union</span> <span class="id" title="var">s</span> (<span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_union_singleton</span> : <span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">union</span> (<span class="id" title="var">singleton</span> <span class="id" title="var">x</span>) <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_add</span> : <span class="id" title="var">union</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">s'</span> [=] <span class="id" title="var">add</span> <span class="id" title="var">x</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_remove_add_1</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">union</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>) [=] <span class="id" title="var">union</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_remove_add_2</span> : <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">union</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>) [=] <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_subset_1</span> : <span class="id" title="var">s</span> [&lt;=] <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_subset_2</span> : <span class="id" title="var">s'</span> [&lt;=] <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_subset_3</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s''</span> -&gt; <span class="id" title="var">s'</span>[&lt;=]<span class="id" title="var">s''</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [&lt;=] <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_subset_4</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span> [&lt;=] <span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_subset_5</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s''</span> <span class="id" title="var">s</span> [&lt;=] <span class="id" title="var">union</span> <span class="id" title="var">s''</span> <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_union_1</span> : <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_union_2</span> : <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_in_union</span> : ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> -&gt; ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_sym</span> : <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">inter</span> <span class="id" title="var">s'</span> <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_subset_equal</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_equal_1</span> : <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span> [=] <span class="id" title="var">inter</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_equal_2</span> : <span class="id" title="var">s'</span>[=]<span class="id" title="var">s''</span> -&gt; <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_assoc</span> : <span class="id" title="var">inter</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) <span class="id" title="var">s''</span> [=] <span class="id" title="var">inter</span> <span class="id" title="var">s</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_inter_1</span> : <span class="id" title="var">inter</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) <span class="id" title="var">s''</span> [=] <span class="id" title="var">union</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span>) (<span class="id" title="var">inter</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_inter_2</span> : <span class="id" title="var">union</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) <span class="id" title="var">s''</span> [=] <span class="id" title="var">inter</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span>) (<span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_add_1</span> : <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">inter</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">s'</span> [=] <span class="id" title="var">add</span> <span class="id" title="var">x</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_add_2</span> : ~ <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">inter</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">s'</span> [=] <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_inter_1</span> : <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">Empty</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_inter_2</span> : <span class="id" title="var">Empty</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">Empty</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_subset_1</span> : <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [&lt;=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_subset_2</span> : <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [&lt;=] <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_subset_3</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">s''</span>[&lt;=]<span class="id" title="var">s</span> -&gt; <span class="id" title="var">s''</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">s''</span>[&lt;=] <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_diff_1</span> : <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">Empty</span> (<span class="id" title="var">diff</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_diff_2</span> : <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">diff</span> <span class="id" title="var">s'</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">s'</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">diff_subset</span> : <span class="id" title="var">diff</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [&lt;=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">diff_subset_equal</span> : <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">diff</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> [=] <span class="id" title="var">empty</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_diff_singleton</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> [=] <span class="id" title="var">diff</span> <span class="id" title="var">s</span> (<span class="id" title="var">singleton</span> <span class="id" title="var">x</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">diff_inter_empty</span> : <span class="id" title="var">inter</span> (<span class="id" title="var">diff</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) [=] <span class="id" title="var">empty</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">diff_inter_all</span> : <span class="id" title="var">union</span> (<span class="id" title="var">diff</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) [=] <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Add_add</span> : <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Add_remove</span> : <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">s</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_Add</span> : <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span>) (<span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_Add</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s''</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span>) (<span class="id" title="var">inter</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_Equal</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s''</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span> [=] <span class="id" title="var">union</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inter_Add_2</span> :<br/>
&nbsp;&nbsp;&nbsp;~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s''</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s''</span> [=] <span class="id" title="var">inter</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">BasicProperties</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Immediate</span> <span class="id" title="var">equal_sym</span> <span class="id" title="var">add_remove</span> <span class="id" title="var">remove_add</span> <span class="id" title="var">union_sym</span> <span class="id" title="var">inter_sym</span>: <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">equal_refl</span> <span class="id" title="var">equal_trans</span> <span class="id" title="var">subset_refl</span> <span class="id" title="var">subset_equal</span> <span class="id" title="var">subset_antisym</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subset_trans</span> <span class="id" title="var">subset_empty</span> <span class="id" title="var">subset_remove_3</span> <span class="id" title="var">subset_diff</span> <span class="id" title="var">subset_add_3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subset_add_2</span> <span class="id" title="var">in_subset</span> <span class="id" title="var">empty_is_empty_1</span> <span class="id" title="var">empty_is_empty_2</span> <span class="id" title="var">add_equal</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remove_equal</span> <span class="id" title="var">singleton_equal_add</span> <span class="id" title="var">union_subset_equal</span> <span class="id" title="var">union_equal_1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">union_equal_2</span> <span class="id" title="var">union_assoc</span> <span class="id" title="var">add_union_singleton</span> <span class="id" title="var">union_add</span> <span class="id" title="var">union_subset_1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">union_subset_2</span> <span class="id" title="var">union_subset_3</span> <span class="id" title="var">inter_subset_equal</span> <span class="id" title="var">inter_equal_1</span> <span class="id" title="var">inter_equal_2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inter_assoc</span> <span class="id" title="var">union_inter_1</span> <span class="id" title="var">union_inter_2</span> <span class="id" title="var">inter_add_1</span> <span class="id" title="var">inter_add_2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">empty_inter_1</span> <span class="id" title="var">empty_inter_2</span> <span class="id" title="var">empty_union_1</span> <span class="id" title="var">empty_union_2</span> <span class="id" title="var">empty_diff_1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">empty_diff_2</span> <span class="id" title="var">union_Add</span> <span class="id" title="var">inter_Add</span> <span class="id" title="var">union_Equal</span> <span class="id" title="var">inter_Add_2</span> <span class="id" title="var">not_in_union</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inter_subset_1</span> <span class="id" title="var">inter_subset_2</span> <span class="id" title="var">inter_subset_3</span> <span class="id" title="var">diff_subset</span> <span class="id" title="var">diff_subset_equal</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remove_diff_singleton</span> <span class="id" title="var">diff_inter_empty</span> <span class="id" title="var">diff_inter_all</span> <span class="id" title="var">Add_add</span> <span class="id" title="var">Add_remove</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Equal_remove</span> <span class="id" title="var">add_add</span> : <span class="id" title="tactic">set</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab176"></a><h1 class="section">Properties of elements</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">elements_Empty</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> &lt;-&gt; <span class="id" title="var">elements</span> <span class="id" title="var">s</span> = <span class="id" title="var">nil</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">elements_empty</span> : <span class="id" title="var">elements</span> <span class="id" title="var">empty</span> = <span class="id" title="var">nil</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab177"></a><h1 class="section">Conversions between lists and sets</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">of_list</span> (<span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">elt</span>) := <span class="id" title="var">List.fold_right</span> <span class="id" title="var">add</span> <span class="id" title="var">empty</span> <span class="id" title="var">l</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">to_list</span> := <span class="id" title="var">elements</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">of_list_1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> (<span class="id" title="var">of_list</span> <span class="id" title="var">l</span>) &lt;-&gt; <span class="id" title="var">InA</span> <span class="id" title="var">E.eq</span> <span class="id" title="var">x</span> <span class="id" title="var">l</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">of_list_2</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">l</span>, <span class="id" title="var">equivlistA</span> <span class="id" title="var">E.eq</span> (<span class="id" title="var">to_list</span> (<span class="id" title="var">of_list</span> <span class="id" title="var">l</span>)) <span class="id" title="var">l</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">of_list_3</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">of_list</span> (<span class="id" title="var">to_list</span> <span class="id" title="var">s</span>) [=] <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab178"></a><h1 class="section">Fold</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Fold</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">NoDup</span> := (<span class="id" title="var">NoDupA</span> <span class="id" title="var">E.eq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">InA</span> := (<span class="id" title="var">InA</span> <span class="id" title="var">E.eq</span>).<br/>

<br/>
</div>

<div class="doc">
Alternative specification via <span class="inlinecode"><span class="id" title="var">fold_right</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_spec_right</span> (<span class="id" title="var">s</span>:<span class="id" title="var">t</span>)(<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">i</span>:<span class="id" title="var">A</span>)(<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span> = <span class="id" title="var">List.fold_right</span> <span class="id" title="var">f</span> <span class="id" title="var">i</span> (<span class="id" title="var">rev</span> (<span class="id" title="var">elements</span> <span class="id" title="var">s</span>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab179"></a><h2 class="section">Induction principles for fold (contributed by S. Lescuyer)</h2>

<div class="paragraph"> </div>

 In the following lemma, the step hypothesis is deliberately restricted
      to the precise set s we are considering. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">fold_rec</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">P</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>)(<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)(<span class="id" title="var">i</span>:<span class="id" title="var">A</span>)(<span class="id" title="var">s</span>:<span class="id" title="var">t</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s'</span>, <span class="id" title="var">Empty</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s''</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">s</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
</div>

<div class="doc">
Same, with <span class="inlinecode"><span class="id" title="var">empty</span></span> and <span class="inlinecode"><span class="id" title="var">add</span></span> instead of <span class="inlinecode"><span class="id" title="var">Empty</span></span> and <span class="inlinecode"><span class="id" title="keyword">Add</span></span>. In this
      case, <span class="inlinecode"><span class="id" title="var">P</span></span> must be compatible with equality of sets 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">fold_rec_bis</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">P</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>)(<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)(<span class="id" title="var">i</span>:<span class="id" title="var">A</span>)(<span class="id" title="var">s</span>:<span class="id" title="var">t</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>, <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> <span class="id" title="var">empty</span> <span class="id" title="var">i</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">s'</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">P</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">s</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_rec_nodep</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>)(<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)(<span class="id" title="var">i</span>:<span class="id" title="var">A</span>)(<span class="id" title="var">s</span>:<span class="id" title="var">t</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">i</span> -&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">fold_rec_weak</span></span> is a weaker principle than <span class="inlinecode"><span class="id" title="var">fold_rec_bis</span></span> :
      the step hypothesis must here be applicable to any <span class="inlinecode"><span class="id" title="var">x</span></span>.
      At the same time, it looks more like an induction principle,
      and hence can be easier to use. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_rec_weak</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">P</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>)(<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)(<span class="id" title="var">i</span>:<span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>, <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">empty</span> <span class="id" title="var">i</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">P</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_rel</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">R</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)(<span class="id" title="var">g</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B</span>)(<span class="id" title="var">i</span> : <span class="id" title="var">A</span>)(<span class="id" title="var">j</span> : <span class="id" title="var">B</span>)(<span class="id" title="var">s</span> : <span class="id" title="var">t</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">R</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">R</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">g</span> <span class="id" title="var">s</span> <span class="id" title="var">j</span>).<br/>

<br/>
</div>

<div class="doc">
From the induction principle on <span class="inlinecode"><span class="id" title="tactic">fold</span></span>, we can deduce some general
      induction principles on sets. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">set_induction</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">set_induction_bis</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">s</span> [=] <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">empty</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="tactic">fold</span></span> can be used to reconstruct the same initial set. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_identity</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="tactic">fold</span> <span class="id" title="var">add</span> <span class="id" title="var">s</span> <span class="id" title="var">empty</span> [=] <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab180"></a><h2 class="section">Alternative (weaker) specifications for <span class="inlinecode"><span class="id" title="tactic">fold</span></span></h2>

<div class="paragraph"> </div>

 When <span class="inlinecode"><span class="id" title="var">MSets</span></span> was first designed, the order in which Ocaml's <span class="inlinecode"><span class="id" title="var">Set.fold</span></span>
      takes the set elements was unspecified. This specification reflects
      this fact:
  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">elt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">NoDup</span> <span class="id" title="var">l</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="var">elt</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> &lt;-&gt; <span class="id" title="var">InA</span> <span class="id" title="var">x</span> <span class="id" title="var">l</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span> = <span class="id" title="var">fold_right</span> <span class="id" title="var">f</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span>.<br/>

<br/>
</div>

<div class="doc">
An alternate (and previous) specification for <span class="inlinecode"><span class="id" title="tactic">fold</span></span> was based on
      the recursive structure of a set. It is now lemmas <span class="inlinecode"><span class="id" title="var">fold_1</span></span> and
      <span class="inlinecode"><span class="id" title="var">fold_2</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_1</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">eqA</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span> : <span class="id" title="var">Equivalence</span> <span class="id" title="var">eqA</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_2</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">eqA</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span> : <span class="id" title="var">Equivalence</span> <span class="id" title="var">eqA</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Proper</span> (<span class="id" title="var">E.eq</span>==&gt;<span class="id" title="var">eqA</span>==&gt;<span class="id" title="var">eqA</span>) <span class="id" title="var">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">transpose</span> <span class="id" title="var">eqA</span> <span class="id" title="var">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;~ <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>

<br/>
</div>

<div class="doc">
In fact, <span class="inlinecode"><span class="id" title="tactic">fold</span></span> on empty sets is more than equivalent to
      the initial element, it is Leibniz-equal to it. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_1b</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>)(<span class="id" title="var">i</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) = <span class="id" title="var">i</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Fold_More</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">eqA</span>:<span class="id" title="var">A</span>-&gt;<span class="id" title="var">A</span>-&gt;<span class="id" title="keyword">Prop</span>)(<span class="id" title="var">st</span>:<span class="id" title="var">Equivalence</span> <span class="id" title="var">eqA</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<span class="id" title="var">f</span>:<span class="id" title="var">elt</span>-&gt;<span class="id" title="var">A</span>-&gt;<span class="id" title="var">A</span>)(<span class="id" title="var">Comp</span>:<span class="id" title="var">Proper</span> (<span class="id" title="var">E.eq</span>==&gt;<span class="id" title="var">eqA</span>==&gt;<span class="id" title="var">eqA</span>) <span class="id" title="var">f</span>)(<span class="id" title="var">Ass</span>:<span class="id" title="var">transpose</span> <span class="id" title="var">eqA</span> <span class="id" title="var">f</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_commutes</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span>)) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab181"></a><h2 class="section">Fold is a morphism</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_init</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">s</span>, <span class="id" title="var">eqA</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i'</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_equal</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab182"></a><h2 class="section">Fold and other set operators</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_empty</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">empty</span> <span class="id" title="var">i</span> = <span class="id" title="var">i</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_add</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_fold</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_fold_1</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">i</span>)) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_fold_2</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_union_inter</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_diff_inter</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">diff</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) <span class="id" title="var">i</span>)) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_union</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, ~(<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>/\<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Fold_More</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_plus</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span>, <span class="id" title="tactic">fold</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">S</span>) <span class="id" title="var">s</span> <span class="id" title="var">p</span> = <span class="id" title="tactic">fold</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">S</span>) <span class="id" title="var">s</span> 0 + <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Fold</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab183"></a><h1 class="section">Cardinal</h1>

<div class="paragraph"> </div>

<a id="lab184"></a><h2 class="section">Characterization of cardinal in terms of fold</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_fold</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> = <span class="id" title="tactic">fold</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">S</span>) <span class="id" title="var">s</span> 0.<br/>

<br/>
</div>

<div class="doc">
<a id="lab185"></a><h2 class="section">Old specifications for <span class="inlinecode"><span class="id" title="var">cardinal</span></span>.</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">elt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">NoDupA</span> <span class="id" title="var">E.eq</span> <span class="id" title="var">l</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="var">elt</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> &lt;-&gt; <span class="id" title="var">InA</span> <span class="id" title="var">E.eq</span> <span class="id" title="var">x</span> <span class="id" title="var">l</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> = <span class="id" title="var">length</span> <span class="id" title="var">l</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> = 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span>, ~ <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span> = <span class="id" title="var">S</span> (<span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab186"></a><h2 class="section">Cardinal and (non-)emptiness</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_Empty</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> &lt;-&gt; <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> = 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_inv_1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> = 0 -&gt; <span class="id" title="var">Empty</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">cardinal_inv_1</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_inv_2</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">n</span>, <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> = <span class="id" title="var">S</span> <span class="id" title="var">n</span> -&gt; { <span class="id" title="var">x</span> : <span class="id" title="var">elt</span> | <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cardinal_inv_2b</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> &lt;&gt; 0 -&gt; { <span class="id" title="var">x</span> : <span class="id" title="var">elt</span> | <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> }.<br/>

<br/>
</div>

<div class="doc">
<a id="lab187"></a><h2 class="section">Cardinal is a morphism</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Equal_cardinal</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> = <span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">cardinal_m</span> : <span class="id" title="var">Proper</span> (<span class="id" title="var">Equal</span>==&gt;<span class="id" title="var">Logic.eq</span>) <span class="id" title="var">cardinal</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Add_add</span> <span class="id" title="var">Add_remove</span> <span class="id" title="var">Equal_remove</span> <span class="id" title="var">cardinal_inv_1</span> <span class="id" title="var">Equal_cardinal</span> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab188"></a><h2 class="section">Cardinal and set operators</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">empty_cardinal</span> : <span class="id" title="var">cardinal</span> <span class="id" title="var">empty</span> = 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Immediate</span> <span class="id" title="var">empty_cardinal</span> <span class="id" title="var">cardinal_1</span> : <span class="id" title="tactic">set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">singleton_cardinal</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">cardinal</span> (<span class="id" title="var">singleton</span> <span class="id" title="var">x</span>) = 1.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">singleton_cardinal</span>: <span class="id" title="tactic">set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">diff_inter_cardinal</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">cardinal</span> (<span class="id" title="var">diff</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) + <span class="id" title="var">cardinal</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) = <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> .<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_cardinal</span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, ~(<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>/\<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">cardinal</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>)=<span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>+<span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_cardinal</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> &lt;= <span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span> .<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subset_cardinal_lt</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span>, <span class="id" title="var">s</span>[&lt;=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> -&gt; ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> &lt; <span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">union_inter_cardinal</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">cardinal</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) + <span class="id" title="var">cardinal</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>)  = <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>  + <span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span> .<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_cardinal_inter</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">cardinal</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) = <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span> + <span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span> - <span class="id" title="var">cardinal</span> (<span class="id" title="var">inter</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">union_cardinal_le</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">cardinal</span> (<span class="id" title="var">union</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>) &lt;= <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>  + <span class="id" title="var">cardinal</span> <span class="id" title="var">s'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_cardinal_1</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">cardinal</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) = <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_cardinal_2</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">cardinal</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) = <span class="id" title="var">S</span> (<span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_cardinal_1</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">S</span> (<span class="id" title="var">cardinal</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>)) = <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_cardinal_2</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">cardinal</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) = <span class="id" title="var">cardinal</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">subset_cardinal</span> <span class="id" title="var">union_cardinal</span> <span class="id" title="var">add_cardinal_1</span> <span class="id" title="var">add_cardinal_2</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">WPropertiesOn</span>.<br/>

<br/>
</div>

<div class="doc">
Now comes variants for self-contained weak sets and for full sets.
    For these variants, only one argument is necessary. Thanks to
    the subtyping <span class="inlinecode"><span class="id" title="var">WS</span>&lt;=<span class="id" title="var">S</span></span>, the <span class="inlinecode"><span class="id" title="var">Properties</span></span> functor which is meant to be
    used on modules <span class="inlinecode">(<span class="id" title="var">M</span>:<span class="id" title="var">S</span>)</span> can simply be an alias of <span class="inlinecode"><span class="id" title="var">WProperties</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">WProperties</span> (<span class="id" title="var">M</span>:<span class="id" title="var">WSets</span>) := <span class="id" title="var">WPropertiesOn</span> <span class="id" title="var">M.E</span> <span class="id" title="var">M</span>.<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">Properties</span> := <span class="id" title="var">WProperties</span>.<br/>

<br/>
</div>

<div class="doc">
Now comes some properties specific to the element ordering,
    invalid for Weak Sets. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">OrdProperties</span> (<span class="id" title="var">M</span>:<span class="id" title="var">Sets</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ME</span>:=<span class="id" title="var">OrderedTypeFacts</span>(<span class="id" title="var">M.E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ML</span>:=<span class="id" title="var">OrderedTypeLists</span>(<span class="id" title="var">M.E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> := <span class="id" title="var">Properties</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">FM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">M.E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">M</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">elements_spec2</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Immediate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">min_elt_spec1</span> <span class="id" title="var">min_elt_spec2</span> <span class="id" title="var">min_elt_spec3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">max_elt_spec1</span> <span class="id" title="var">max_elt_spec2</span> <span class="id" title="var">max_elt_spec3</span> : <span class="id" title="tactic">set</span>.<br/>

<br/>
</div>

<div class="doc">
First, a specialized version of SortA_equivlistA_eqlistA: 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">sort_equivlistA_eqlistA</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <span class="id" title="var">list</span> <span class="id" title="var">elt</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">sort</span> <span class="id" title="var">E.lt</span> <span class="id" title="var">l</span> -&gt; <span class="id" title="var">sort</span> <span class="id" title="var">E.lt</span> <span class="id" title="var">l'</span> -&gt; <span class="id" title="var">equivlistA</span> <span class="id" title="var">E.eq</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> -&gt; <span class="id" title="var">eqlistA</span> <span class="id" title="var">E.eq</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">gtb</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">E.compare</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Gt</span> =&gt; <span class="id" title="var">true</span> | <span class="id" title="var">_</span> =&gt; <span class="id" title="var">false</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">leb</span> <span class="id" title="var">x</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">negb</span> (<span class="id" title="var">gtb</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">elements_lt</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> := <span class="id" title="var">List.filter</span> (<span class="id" title="var">gtb</span> <span class="id" title="var">x</span>) (<span class="id" title="var">elements</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">elements_ge</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> := <span class="id" title="var">List.filter</span> (<span class="id" title="var">leb</span> <span class="id" title="var">x</span>) (<span class="id" title="var">elements</span> <span class="id" title="var">s</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gtb_1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">gtb</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">true</span> &lt;-&gt; <span class="id" title="var">E.lt</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">leb_1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">leb</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">true</span> &lt;-&gt; ~<span class="id" title="var">E.lt</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">gtb_compat</span> <span class="id" title="var">x</span> : <span class="id" title="var">Proper</span> (<span class="id" title="var">E.eq</span>==&gt;<span class="id" title="var">Logic.eq</span>) (<span class="id" title="var">gtb</span> <span class="id" title="var">x</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">leb_compat</span> <span class="id" title="var">x</span> : <span class="id" title="var">Proper</span> (<span class="id" title="var">E.eq</span>==&gt;<span class="id" title="var">Logic.eq</span>) (<span class="id" title="var">leb</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">gtb_compat</span> <span class="id" title="var">leb_compat</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">elements_split</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">elements</span> <span class="id" title="var">s</span> = <span class="id" title="var">elements_lt</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> ++ <span class="id" title="var">elements_ge</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">elements_Add</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqlistA</span> <span class="id" title="var">E.eq</span> (<span class="id" title="var">elements</span> <span class="id" title="var">s'</span>) (<span class="id" title="var">elements_lt</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> ++ <span class="id" title="var">x</span> :: <span class="id" title="var">elements_ge</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Above</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> := <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">In</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">E.lt</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Below</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> := <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">In</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">E.lt</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">elements_Add_Above</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Above</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqlistA</span> <span class="id" title="var">E.eq</span> (<span class="id" title="var">elements</span> <span class="id" title="var">s'</span>) (<span class="id" title="var">elements</span> <span class="id" title="var">s</span> ++ <span class="id" title="var">x</span>::<span class="id" title="var">nil</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">elements_Add_Below</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Below</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqlistA</span> <span class="id" title="var">E.eq</span> (<span class="id" title="var">elements</span> <span class="id" title="var">s'</span>) (<span class="id" title="var">x</span>::<span class="id" title="var">elements</span> <span class="id" title="var">s</span>).<br/>

<br/>
</div>

<div class="doc">
Two other induction principles on sets: we can be more restrictive
      on the element we add at each step.  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">set_induction_max</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> : <span class="id" title="var">t</span>, <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Above</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> : <span class="id" title="var">t</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">set_induction_min</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> : <span class="id" title="var">t</span>, <span class="id" title="var">Empty</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Below</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">s'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> : <span class="id" title="var">t</span>, <span class="id" title="var">P</span> <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
More properties of <span class="inlinecode"><span class="id" title="tactic">fold</span></span> : behavior with respect to Above/Below 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_3</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">eqA</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span> : <span class="id" title="var">Equivalence</span> <span class="id" title="var">eqA</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Proper</span> (<span class="id" title="var">E.eq</span>==&gt;<span class="id" title="var">eqA</span>==&gt;<span class="id" title="var">eqA</span>) <span class="id" title="var">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Above</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_4</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">eqA</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span> : <span class="id" title="var">Equivalence</span> <span class="id" title="var">eqA</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">elt</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Proper</span> (<span class="id" title="var">E.eq</span>==&gt;<span class="id" title="var">eqA</span>==&gt;<span class="id" title="var">eqA</span>) <span class="id" title="var">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Below</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt; <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt; <span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span>)).<br/>

<br/>
</div>

<div class="doc">
The following results have already been proved earlier,
    but we can now prove them with one hypothesis less:
    no need for <span class="inlinecode">(<span class="id" title="var">transpose</span></span> <span class="inlinecode"><span class="id" title="var">eqA</span></span> <span class="inlinecode"><span class="id" title="var">f</span>)</span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">FoldOpt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">eqA</span>:<span class="id" title="var">A</span>-&gt;<span class="id" title="var">A</span>-&gt;<span class="id" title="keyword">Prop</span>)(<span class="id" title="var">st</span>:<span class="id" title="var">Equivalence</span> <span class="id" title="var">eqA</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<span class="id" title="var">f</span>:<span class="id" title="var">elt</span>-&gt;<span class="id" title="var">A</span>-&gt;<span class="id" title="var">A</span>)(<span class="id" title="var">Comp</span>:<span class="id" title="var">Proper</span> (<span class="id" title="var">E.eq</span>==&gt;<span class="id" title="var">eqA</span>==&gt;<span class="id" title="var">eqA</span>) <span class="id" title="var">f</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fold_equal</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">s</span>[=]<span class="id" title="var">s'</span> -&gt; <span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_fold</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">add</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">remove_fold_2</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, ~<span class="id" title="var">In</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqA</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> (<span class="id" title="var">remove</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">i</span>) (<span class="id" title="tactic">fold</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">FoldOpt</span>.<br/>

<br/>
</div>

<div class="doc">
An alternative version of <span class="inlinecode"><span class="id" title="var">choose_3</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">choose_equal</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <span class="id" title="var">Equal</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">choose</span> <span class="id" title="var">s</span>, <span class="id" title="var">choose</span> <span class="id" title="var">s'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Some</span> <span class="id" title="var">x</span>, <span class="id" title="var">Some</span> <span class="id" title="var">x'</span> =&gt; <span class="id" title="var">E.eq</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">None</span>, <span class="id" title="var">None</span> =&gt; <span class="id" title="var">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <span class="id" title="var">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">OrdProperties</span>.<br/>
</div>
    <div id="sidebarWrapper">
      <div id="sidebar">
        <div class="block">
          <h2 class="title">Navigation</h2>
          <div class="content">
            <ul class="menu">
              <li class="leaf">Standard Library
                <ul class="menu">
                  <li><a href="index.html">Table of contents</a></li>
                  <li><a href="genindex.html">Index</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div id="footer">
    <div id="nav-footer">
      <ul class="links-menu-footer">
        <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
        <li><a href="http://validator.w3.org/">xhtml valid</a></li>
        <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
      </ul>
    </div>
  </div>

</div>

</body>
</html>
