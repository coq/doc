<!DOCTYPE html>
<html >
<head>


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/coq/coqdoc.css" /><title>Chapter 7  Proof handling</title>
</head>
<body >

<div id="container">

<div id="headertop">
<div id="nav">
  <ul class="links-menu">
    <li><a href="/" class="active">Home</a></li>
    <li><a href="/about-coq" title="More about coq">About Coq</a></li>
    <li><a href="/download">Get Coq</a></li>
    <li><a href="/documentation">Documentation</a></li>
    <li><a href="/community">Community</a></li>
  </ul>
</div>
</div>

<div id="header">
<div id="logoWrapper">
  <div id="logo"><a href="/" title="Home"><img src="/files/barron_logo.png" alt="Home" /></a>
  </div>
  <div id="siteName"><a href="/" title="Home">The Coq Proof Assistant</a>
  </div>
</div>
</div>

<div id="content">

<h1 id="Proof-handling" class="chapter">Chapter 7  Proof handling<a id="hevea_default486"></a>
</h1>
<ul>
<li><a href="proof-handling.html#sec321">7.1  Switching on/off the proof editing mode</a>
</li><li><a href="proof-handling.html#sec332">7.2  Navigation in the proof tree</a>
</li><li><a href="proof-handling.html#sec341">7.3  Requesting information</a>
</li><li><a href="proof-handling.html#sec344">7.4  Controlling the effect of proof editing commands</a>
</li><li><a href="proof-handling.html#sec348">7.5  Controlling memory usage</a>
</li></ul>
<p>In <span style="font-variant:small-caps">Coq</span>’s proof editing mode all top-level commands documented in 
Chapter <a href="vernacular.html#Vernacular-commands">6</a> remain available
and the user has access to specialized commands dealing with proof
development pragmas documented in this section. He can also use some
other specialized commands called <em>tactics</em>. They are the very
tools allowing the user to deal with logical reasoning. They are
documented in Chapter <a href="tactics.html#Tactics">8</a>.<br>
When switching in editing proof mode, the prompt
<a id="hevea_default487"></a> 
<span style="font-family:monospace">Coq &lt;</span> is changed into <span style="font-style:oblique">ident</span><span style="font-family:monospace"> &lt;</span> where <span style="font-style:oblique">ident</span> is the
declared name of the theorem currently edited.</p><p>At each stage of a proof development, one has a list of goals to
prove. Initially, the list consists only in the theorem itself. After
having applied some tactics, the list of goals contains the subgoals
generated by the tactics.</p><p>To each subgoal is associated a number of
hypotheses called the <a id="hevea_default488"><em>local context</em></a> of the goal.
Initially, the local context contains the local variables and
hypotheses of the current section (see Section <a href="gallina.html#Variable">1.3.1</a>) and the
local variables and hypotheses of the theorem statement. It is
enriched by the use of certain tactics (see e.g. <span style="font-family:monospace">intro</span> in
Section <a href="tactics.html#intro">8.3.1</a>).</p><p>When a proof is completed, the message <span style="font-family:monospace">Proof completed</span> is
displayed. One can then register this proof as a defined constant in the
environment. Because there exists a correspondence between proofs and
terms of λ-calculus, known as the <em>Curry-Howard
isomorphism</em> [<a href="biblio.html#How80">81</a>, <a href="biblio.html#Bar91">6</a>, <a href="biblio.html#Gir89">75</a>, <a href="biblio.html#Hue89">85</a>], <span style="font-variant:small-caps">Coq</span>  stores proofs as
terms of <span style="font-variant:small-caps">Cic</span>. Those terms are called <em>proof
terms</em><a id="hevea_default489"></a>.</p><p><br>
<span style="font-weight:bold">Error message: </span>When one attempts to use a proof editing command out of the
proof editing mode, <span style="font-variant:small-caps">Coq</span>  raises the error message : <span style="font-family:monospace">No focused
proof</span><a id="hevea_error44"></a>.</p>
<h2 id="sec321" class="section">7.1  Switching on/off the proof editing mode</h2>
<p>The proof editing mode is entered by asserting a statement, which
typically is the assertion of a theorem:</p><blockquote class="quote">
<span style="font-family:monospace">Theorem </span><span style="font-style:oblique">ident</span><span style="font-family:monospace"> </span><span style="font-family:monospace"><span style="font-style:oblique">[</span></span><span style="font-style:oblique">binders</span><span style="font-family:monospace"><span style="font-style:oblique">]</span></span><span style="font-family:monospace"> : </span><span style="font-style:oblique">form</span><span style="font-family:monospace">.</span><a id="hevea_default490"></a><a id="hevea_command150"></a><span style="font-family:monospace">
</span><a id="Theorem"></a>
</blockquote><p>The list of assertion commands is given in
Section <a href="gallina.html#Assertions">1.3.5</a>. The command <span style="font-family:monospace">Goal</span> can also be used.</p><h3 id="Goal" class="subsection">7.1.1  <span style="font-family:monospace">Goal </span><span style="font-style:oblique">form</span><span style="font-family:monospace">.</span><a id="hevea_default491"></a><a id="hevea_command151"></a></h3>
<p>This is intended for quick assertion of statements, without knowing in
advance which name to give to the assertion, typically for quick
testing of the provability of a statement. If the proof of the
statement is eventually completed and validated, the statement is then
bound to the name <span style="font-family:monospace">Unnamed_thm</span> (or a variant of this name not
already used for another statement).</p><h3 id="Qed" class="subsection">7.1.2  <span style="font-family:monospace">Qed.</span><a id="hevea_default492"></a><a id="hevea_command152"></a></h3>
<p>
This command is available in interactive editing proof mode when the
proof is completed. Then <span style="font-family:monospace">Qed</span> extracts a proof term from the
proof script, switches back to <span style="font-variant:small-caps">Coq</span> top-level and attaches the
extracted proof term to the declared name of the original goal. This
name is added to the environment as an <span style="font-family:monospace">Opaque</span> constant.</p><p><br>
<span style="font-weight:bold">Error messages: </span></p><ol class="enumerate" type=1><li class="li-enumerate">
<span style="font-family:monospace">Attempt to save an incomplete proof</span><a id="hevea_error45"></a>
</li><li class="li-enumerate">Sometimes an error occurs when building the proof term,
because tactics do not enforce completely the term construction
constraints.<p>The user should also be aware of the fact that since the proof term is
completely rechecked at this point, one may have to wait a while when
the proof is large. In some exceptional cases one may even incur a
memory overflow.
</p></li></ol><p><br>
<span style="font-weight:bold">Variants: </span></p><ol class="enumerate" type=1><li class="li-enumerate"><span style="font-family:monospace">Defined.</span>
<a id="hevea_default493"></a><a id="hevea_command153"></a> 
<a id="Defined"></a> <p>Defines the proved term as a transparent constant.</p></li><li class="li-enumerate"><span style="font-family:monospace">Save </span><span style="font-style:oblique">ident</span><span style="font-family:monospace">.</span><p>Forces the name of the original goal to be <span style="font-style:oblique">ident</span>. This command
(and the following ones) can only be used if the original goal has
been opened using the <span style="font-family:monospace">Goal</span> command.</p></li></ol><h3 id="Admitted" class="subsection">7.1.3  <span style="font-family:monospace">Admitted.</span><a id="hevea_default494"></a><a id="hevea_command154"></a></h3>
<p>
This command is available in interactive editing proof mode to give up
the current proof and declare the initial goal as an axiom.</p><h3 id="BeginProof" class="subsection">7.1.4  <span style="font-family:monospace">Proof </span><span style="font-style:oblique">term</span><span style="font-family:monospace">.</span><a id="hevea_default495"></a><a id="hevea_command155"></a><span style="font-family:monospace">
</span></h3>
<p>
This command applies in proof editing mode. It is equivalent to <span style="font-family:monospace">exact </span><span style="font-style:oblique">term</span><span style="font-family:monospace">. Qed.</span> That is, you have to give the full proof in
one gulp, as a proof term (see Section <a href="tactics.html#exact">8.2.1</a>).</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof.</span></p><p>Is a noop which is useful to delimit the sequence of tactic commands
which start a proof, after a <span style="font-family:monospace">Theorem</span> command. It is a good
practice to use <span style="font-family:monospace">Proof.</span> as an opening parenthesis, closed in
the script with a closing <span style="font-family:monospace">Qed.</span></p><p><br>
<span style="font-weight:bold">See also: </span><span style="font-family:monospace">Proof with </span><span style="font-style:oblique">tactic</span><span style="font-family:monospace">.</span> in Section <a href="tactics.html#ProofWith">8.9.7</a>.</p><h3 id="ProofUsing" class="subsection">7.1.5  <span style="font-family:monospace">Proof using</span> <span style="font-style:oblique">ident</span><sub>1</sub> … <span style="font-style:oblique">ident</span><sub><span style="font-style:italic">n</span></sub><span style="font-family:monospace">.</span>
<a id="hevea_default496"></a><a id="hevea_command156"></a> </h3>
<p>This command applies in proof editing mode. 
It declares the set of section variables (see <a href="gallina.html#Variable">1.3.1</a>) 
used by the proof. At <span style="font-family:monospace">Qed</span> time, the system will assert that 
the set of section variables actually used in the proof is a subset of
the declared one.</p><p>The set of declared variables is closed under type dependency.
For example if <span style="font-family:monospace">T</span> is variable and <span style="font-family:monospace">a</span> is a variable of
type <span style="font-family:monospace">T</span>, the commands <span style="font-family:monospace">Proof using a</span> and
<span style="font-family:monospace">Proof using T a</span> are actually equivalent.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using</span> <span style="font-style:oblique">ident</span><sub>1</sub> … <span style="font-style:oblique">ident</span><sub><span style="font-style:italic">n</span></sub> <span style="font-family:monospace">with</span> <span style="font-style:oblique">tactic</span><span style="font-family:monospace">.</span> 
in Section <a href="tactics.html#ProofWith">8.9.7</a>.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using All.</span> </p><p>Use all section variables.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using Type.</span> 
<br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using.</span> </p><p>Use only section variables occurring in the statement.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using Type*.</span> </p><p>The <span style="font-family:monospace">*</span> operator computes the forward transitive closure.
E.g. if the variable <span style="font-family:monospace">H</span> has type <span style="font-family:monospace">p &lt; 5</span> then <span style="font-family:monospace">H</span> is
in <span style="font-family:monospace">p*</span> since <span style="font-family:monospace">p</span> occurs in the type of <span style="font-family:monospace">H</span>.
<span style="font-family:monospace">Type* </span> is the forward transitive closure of the entire set of
section variables occurring in the statement.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using -( </span><span style="font-style:oblique">ident</span><sub>1</sub> … <span style="font-style:oblique">ident</span><sub><span style="font-style:italic">n</span></sub><span style="font-family:monospace"> ).</span></p><p>Use all section variables except <span style="font-style:oblique">ident</span><sub>1</sub> … <span style="font-style:oblique">ident</span><sub><span style="font-style:italic">n</span></sub>.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using </span><span style="font-style:oblique">collection</span><sub>1</sub><span style="font-family:monospace"> + </span><span style="font-style:oblique">collection</span><sub>2</sub><span style="font-family:monospace"> .</span></p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using </span><span style="font-style:oblique">collection</span><sub>1</sub><span style="font-family:monospace"> - </span><span style="font-style:oblique">collection</span><sub>2</sub><span style="font-family:monospace"> .</span></p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using </span><span style="font-style:oblique">collection</span><span style="font-family:monospace"> - ( </span><span style="font-style:oblique">ident</span><sub>1</sub> … <span style="font-style:oblique">ident</span><sub><span style="font-style:italic">n</span></sub><span style="font-family:monospace"> ).</span></p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Proof using </span><span style="font-style:oblique">collection</span><span style="font-family:monospace"> * .</span></p><p>Use section variables being, respectively, in the set union, set difference,
set complement, set forward transitive closure.
See Section <a href="#Collection">7.1.5</a> to know how to form a named
collection.
The <span style="font-family:monospace">*</span> operator binds stronger than <span style="font-family:monospace">+</span> and <span style="font-family:monospace">-</span>.</p>
<h4 id="sec327" class="subsubsection"><span style="font-family:monospace">Proof using</span> options</h4>
<p>
<a id="hevea_default497"></a><a id="hevea_option43"></a>
<a id="hevea_default498"></a><a id="hevea_option44"></a>
</p><p>The following options modify the behavior of <span style="font-family:monospace">Proof using</span>.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Set Default Proof Using "expression".</span> </p><p>Use <span style="font-family:monospace">expression</span> as the default <span style="font-family:monospace">Proof using</span> value.
E.g. <span style="font-family:monospace">Set Default Proof Using "a b".</span> will complete all <span style="font-family:monospace">Proof </span>
commands not followed by a <span style="font-family:monospace">using</span> part with <span style="font-family:monospace">using a b</span>.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Set Suggest Proof Using.</span></p><p>When <span style="font-family:monospace">Qed</span> is performed, suggest a <span style="font-family:monospace">using</span> annotation if
the user did not provide one.</p><h4 id="sec328" class="subsubsection">Name a set of section hypotheses for <span style="font-family:monospace">Proof using</span></h4>
<p>
<a id="hevea_default499"></a><a id="hevea_command157"></a><a id="Collection"></a></p><p>The command <span style="font-family:monospace">Collection</span> can be used to name a set of section hypotheses,
with the purpose of making <span style="font-family:monospace">Proof using</span> annotations more compact.</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Collection Some := x y z.</span></p><p>Define the collection named "Some" containing <span style="font-family:monospace">x y</span> and <span style="font-family:monospace">z</span> </p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Collection Fewer := Some - x.</span> </p><p>Define the collection named "Fewer" containing only <span style="font-family:monospace">x y</span> </p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Collection Many := Fewer + Some.</span> 
<br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Collection Many := Fewer - Some.</span> </p><p>Define the collection named "Many" containing the set union or set difference
of "Fewer" and "Some".</p><p><br>
<span style="font-weight:bold">Variant: </span><span style="font-family:monospace">Collection Many := Fewer - (x y).</span></p><p>Define the collection named "Many" containing the set difference
of "Fewer" and the unnamed collection <span style="font-family:monospace">x y</span>.</p><h3 id="sec329" class="subsection">7.1.6  <span style="font-family:monospace">Abort.</span><a id="hevea_default500"></a><a id="hevea_command158"></a></h3>
<p>This command cancels the current proof development, switching back to
the previous proof development, or to the <span style="font-variant:small-caps">Coq</span> toplevel if no other
proof was edited.</p><p><br>
<span style="font-weight:bold">Error messages: </span></p><ol class="enumerate" type=1><li class="li-enumerate">
<span style="font-family:monospace">No focused proof (No proof-editing in progress)</span><a id="hevea_error46"></a>
</li></ol><p><br>
<span style="font-weight:bold">Variants: </span></p><ol class="enumerate" type=1><li class="li-enumerate"><span style="font-family:monospace">Abort </span><span style="font-style:oblique">ident</span><span style="font-family:monospace">.</span><p>Aborts the editing of the proof named <span style="font-style:oblique">ident</span>.</p></li><li class="li-enumerate"><span style="font-family:monospace">Abort All.</span><p>Aborts all current goals, switching back to the <span style="font-variant:small-caps">Coq</span> toplevel.</p></li></ol><h3 id="Existential" class="subsection">7.1.7  <span style="font-family:monospace">Existential </span><span style="font-style:oblique">num</span><span style="font-family:monospace"> := </span><span style="font-style:oblique">term</span><span style="font-family:monospace">.</span><a id="hevea_default501"></a><a id="hevea_command159"></a><span style="font-family:monospace">
</span></h3>
<p>This command instantiates an existential variable. <span style="font-style:oblique">num</span>
is an index in the list of uninstantiated existential variables
displayed by <span style="font-family:monospace">Show Existentials</span> (described in Section <a href="#Show">7.3.1</a>).</p><p>This command is intended to be used to instantiate existential
variables when the proof is completed but some uninstantiated
existential variables remain. To instantiate existential variables
during proof edition, you should use the tactic <span style="font-family:monospace">instantiate</span>.</p><p><br>
<span style="font-weight:bold">See also: </span><span style="font-family:monospace">instantiate (</span><span style="font-style:oblique">num</span><span style="font-family:monospace">:= </span><span style="font-style:oblique">term</span><span style="font-family:monospace">).</span> in Section <a href="tactics.html#instantiate">8.4.4</a>.
<br>
<span style="font-weight:bold">See also: </span><span style="font-family:monospace">Grab Existential Variables.</span> below.</p><h3 id="GrabEvars" class="subsection">7.1.8  <span style="font-family:monospace">Grab Existential Variables.</span><a id="hevea_default502"></a><a id="hevea_command160"></a><span style="font-family:monospace">
</span></h3>
<p>This command can be run when a proof has no more goal to be solved but has remaining
uninstantiated existential variables. It takes every uninstantiated existential variable
and turns it into a goal.</p>
<h2 id="sec332" class="section">7.2  Navigation in the proof tree</h2>
<h3 id="sec333" class="subsection">7.2.1  <span style="font-family:monospace">Undo.</span><a id="hevea_default503"></a><a id="hevea_command161"></a></h3>
<p>This command cancels the effect of the last command. Thus, it
backtracks one step.</p><p><br>
<span style="font-weight:bold">Variants: </span></p><ol class="enumerate" type=1><li class="li-enumerate"><span style="font-family:monospace">Undo </span><span style="font-style:oblique">num</span><span style="font-family:monospace">.</span><p>Repeats <span style="font-family:monospace">Undo</span> <span style="font-style:oblique">num</span> times.</p></li></ol><h3 id="sec334" class="subsection">7.2.2  <span style="font-family:monospace">Restart.</span><a id="hevea_default504"></a><a id="hevea_command162"></a></h3>
<p>
This command restores the proof editing process to the original goal.</p><p><br>
<span style="font-weight:bold">Error messages: </span></p><ol class="enumerate" type=1><li class="li-enumerate">
<span style="font-family:monospace">No focused proof to restart</span><a id="hevea_error47"></a>
</li></ol><h3 id="sec335" class="subsection">7.2.3  <span style="font-family:monospace">Focus.</span><a id="hevea_default505"></a><a id="hevea_command163"></a></h3>
<p>
This focuses the attention on the first subgoal to prove and the printing
of the other subgoals is suspended until the focused subgoal is
solved or unfocused. This is useful when there are many current
subgoals which clutter your screen.</p><p><br>
<span style="font-weight:bold">Variant: </span></p><ol class="enumerate" type=1><li class="li-enumerate">
<span style="font-family:monospace">Focus </span><span style="font-style:oblique">num</span><span style="font-family:monospace">.</span><br>
This focuses the attention on the <span style="font-style:oblique">num</span><sup><span style="font-style:italic">th</span></sup> subgoal to prove.</li></ol><h3 id="sec336" class="subsection">7.2.4  <span style="font-family:monospace">Unfocus.</span><a id="hevea_default506"></a><a id="hevea_command164"></a></h3>
<p>
This command restores to focus the goal that were suspended by the
last <span style="font-family:monospace">Focus</span> command.</p><h3 id="sec337" class="subsection">7.2.5  <span style="font-family:monospace">Unfocused.</span><a id="hevea_default507"></a><a id="hevea_command165"></a></h3>
<p>
Succeeds in the proof is fully unfocused, fails is there are some
goals out of focus.</p><h3 id="sec338" class="subsection">7.2.6  <span style="font-family:monospace">{ </span>and<span style="font-family:monospace"> }</span><a id="hevea_default508"></a><a id="hevea_command166"></a><a id="hevea_default509"></a><a id="hevea_command167"></a></h3>
<p><a id="curlybacket"></a>
The command <span style="font-family:monospace">{</span> (without a terminating period) focuses on the
first goal, much like <span style="font-family:monospace">Focus.</span> does, however, the subproof can
only be unfocused when it has been fully solved (<em>i.e.</em> when
there is no focused goal left). Unfocusing is then handled by <span style="font-family:monospace">}</span>
(again, without a terminating period). See also example in next section.</p><p>Note that when a focused goal is proved a message is displayed
together with a suggestion about the right bullet or <span style="font-family:monospace">}</span> to
unfocus it or focus the next one.</p><p><br>
<span style="font-weight:bold">Error messages: </span></p><ol class="enumerate" type=1><li class="li-enumerate">
<span style="font-family:monospace">This proof is focused, but cannot be unfocused
this way</span><a id="hevea_error48"></a> You are trying to use <span style="font-family:monospace">}</span> but the current subproof
has not been fully solved.
</li><li class="li-enumerate">see also error message about bullets below.
</li></ol><h3 id="sec339" class="subsection">7.2.7  Bullets<a id="hevea_default510"></a><a id="hevea_command168"></a>
<a id="hevea_default511"></a><a id="hevea_command169"></a><a id="hevea_default512"></a><a id="hevea_command170"></a><a id="hevea_default513"></a></h3>
<p><a id="bullets"></a>
Alternatively to <span style="font-family:monospace">{</span> and <span style="font-family:monospace">}</span>, proofs can be structured with
bullets. The use of a bullet <span style="font-style:italic">b</span> for the first time focuses on the
first goal <span style="font-style:italic">g</span>, the same bullet cannot be used again until the proof
of <span style="font-style:italic">g</span> is completed, then it is mandatory to focus the next goal with <span style="font-style:italic">b</span>. The
consequence is that <span style="font-style:italic">g</span> and all goals present when <span style="font-style:italic">g</span> was focused are
focused with the same bullet <span style="font-style:italic">b</span>. See the example below.</p><p>Different bullets can be used to nest levels. The scope of bullet does
not go beyond enclosing <span style="font-family:monospace">{</span> and <span style="font-family:monospace">}</span>, so bullets can be
reused as further nesting levels provided they are delimited by these.
Available bullets are <span style="font-family:monospace">-</span>, <span style="font-family:monospace">+</span>, <span style="font-family:monospace">*</span>, <span style="font-family:monospace">--</span>, <span style="font-family:monospace">++</span>, <span style="font-family:monospace">**</span>,
<span style="font-family:monospace">---</span>, <span style="font-family:monospace">+++</span>, <span style="font-family:monospace">***</span>, ... (without a
terminating period).</p><p>Note again that when a focused goal is proved a message is displayed
together with a suggestion about the right bullet or <span style="font-family:monospace">}</span> to
unfocus it or focus the next one.</p><p>Remark: In <span style="font-variant:small-caps">Proof General</span> (Emacs interface to <span style="font-variant:small-caps">Coq</span>), you must use
bullets with the priority ordering shown above to have a correct
indentation. For example <span style="font-family:monospace">-</span> must be the outer bullet and <span style="font-family:monospace">**</span>
the inner one in the example below.</p><p>The following example script illustrates all these features:
<span style="font-size:small">
</span></p><div class="flushleft"><span style="font-size:small">
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace"> Goal (((True/</span></span><span style="font-size:small"><span style="font-family:monospace">\</span></span><span style="font-size:small"><span style="font-family:monospace">True)/</span></span><span style="font-size:small"><span style="font-family:monospace">\</span></span><span style="font-size:small"><span style="font-family:monospace">True)/</span></span><span style="font-size:small"><span style="font-family:monospace">\</span></span><span style="font-size:small"><span style="font-family:monospace">True)/</span></span><span style="font-size:small"><span style="font-family:monospace">\</span></span><span style="font-size:small"><span style="font-family:monospace">True.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace"> Proof.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">   split.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">   - split.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">     + split.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">       ** { split.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">           - trivial.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">           - trivial.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">         }</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">       ** trivial.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">     + trivial.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">   - assert True.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">     { trivial. }</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">     assumption.</span></span><span style="font-size:small"><br>
</span></div><p><br>
<span style="font-weight:bold">Error messages: </span></p><ol class="enumerate" type=1><li class="li-enumerate">
<span style="font-family:monospace">Wrong bullet </span><span style="font-style:oblique">bullet</span><span style="font-family:monospace">1 : Current bullet
</span><span style="font-style:oblique">bullet</span><span style="font-family:monospace">2 is not finished.</span><a id="hevea_error49"></a><p>Before using bullet <span style="font-style:oblique">bullet</span>1 again, you should first finish
proving the current focused goal. Note that <span style="font-style:oblique">bullet</span>1 and
<span style="font-style:oblique">bullet</span>2 may be the same.</p></li><li class="li-enumerate"><span style="font-family:monospace">Wrong bullet </span><span style="font-style:oblique">bullet</span><span style="font-family:monospace">1 : Bullet </span><span style="font-style:oblique">bullet</span><span style="font-family:monospace">2
is mandatory here.</span><a id="hevea_error50"></a> You must put <span style="font-style:oblique">bullet</span>2 to focus next goal.
No other bullet is allowed here.</li><li class="li-enumerate"><span style="font-family:monospace">No such goal. Focus next goal with bullet
</span><span style="font-style:oblique">bullet</span><span style="font-family:monospace">.</span><a id="hevea_error51"></a><p>You tried to applied a tactic but no goal where under focus. Using
<span style="font-style:oblique">bullet</span> is mandatory here.</p></li><li class="li-enumerate"><span style="font-family:monospace">No such goal. Try unfocusing with </span><span style="font-family:monospace">"</span><span style="font-family:monospace">}</span><span style="font-family:monospace">"</span><span style="font-family:monospace">.</span><a id="hevea_error52"></a> You
just finished a goal focused by <span style="font-family:monospace">{</span>, you must unfocus it with "<span style="font-family:monospace">}</span>".</li></ol><h3 id="sec340" class="subsection">7.2.8  <span style="font-family:monospace">Set Bullet Behavior.</span><a id="hevea_default514"></a><a id="hevea_option45"></a></h3>
<p>The bullet behavior can be controlled by the following commands.</p><blockquote class="quote">
Set Bullet Behavior "None".
</blockquote><p>This makes bullets inactive.</p><blockquote class="quote">
Set Bullet Behavior "Strict Subproofs".
</blockquote><p>This makes bullets active (this is the default behavior).</p>
<h2 id="sec341" class="section">7.3  Requesting information</h2>
<h3 id="Show" class="subsection">7.3.1  <span style="font-family:monospace">Show.</span><a id="hevea_default515"></a><a id="hevea_command171"></a></h3>
<p>
This command displays the current goals.</p><p><br>
<span style="font-weight:bold">Variants: </span></p><ol class="enumerate" type=1><li class="li-enumerate">
<span style="font-family:monospace">Show </span><span style="font-style:oblique">num</span><span style="font-family:monospace">.</span><br>
 Displays only the <span style="font-style:oblique">num</span>-th subgoal.<br>
<br>
<span style="font-weight:bold">Error messages: </span><ol class="enumerate" type=a><li class="li-enumerate">
<span style="font-family:monospace">No such goal</span><a id="hevea_error53"></a>
</li><li class="li-enumerate"><span style="font-family:monospace">No focused proof</span><a id="hevea_error54"></a>
</li></ol></li><li class="li-enumerate"><span style="font-family:monospace">Show </span><span style="font-style:oblique">ident</span><span style="font-family:monospace">.</span><br>
 Displays the named goal <span style="font-style:oblique">ident</span>.
This is useful in particular to display a shelved goal but only works
if the corresponding existential variable has been named by the user
(see <a href="gallina-ext.html#ExistentialVariables">2.11</a>) as in the following example.<div class="flushleft"><span style="font-size:small">
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace"> Goal exists n, n = 0.</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">   eexists ?[n].</span></span><span style="font-size:small"><br>
<br>
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace">   Show n.</span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic">subgoal n is:</span></span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic">  </span></span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic">  ============================</span></span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic">  nat</span></span></span><span style="font-size:small"><br>
</span></div></li><li class="li-enumerate"><span style="font-family:monospace">Show Script.</span><a id="hevea_default516"></a><a id="hevea_command172"></a><br>
 Displays the whole list of tactics applied from the beginning
of the current proof. 
This tactics script may contain some holes (subgoals not yet proved).
They are printed under the form <code>&lt;Your Tactic Text here&gt;</code>.</li><li class="li-enumerate"><span style="font-family:monospace">Show Proof.</span><a id="hevea_default517"></a><a id="hevea_command173"></a><br>
It displays the proof term generated by the 
tactics that have been applied. 
If the proof is not completed, this term contain holes,
which correspond to the sub-terms which are still to be 
constructed. These holes appear as a question mark indexed 
by an integer, and applied to the list of variables in 
the context, since it may depend on them. 
The types obtained by abstracting away the context from the
type of each hole-placer are also printed.</li><li class="li-enumerate"><span style="font-family:monospace">Show Conjectures.</span><a id="hevea_default518"></a><a id="hevea_command174"></a><br>
It prints the list of the names of all the theorems that 
are currently being proved.
As it is possible to start proving a previous lemma during
the proof of a theorem, this list may contain several 
names. </li><li class="li-enumerate"><span style="font-family:monospace">Show Intro.</span><a id="hevea_default519"></a><a id="hevea_command175"></a><br>
If the current goal begins by at least one product, this command
prints the name of the first product, as it would be generated by 
an anonymous <span style="font-family:monospace">intro</span>. The aim of this command is to ease the
writing of more robust scripts. For example, with an appropriate 
<span style="font-variant:small-caps">Proof General</span> macro, it is possible to transform any anonymous <span style="font-family:monospace">intro</span> into a qualified one such as <span style="font-family:monospace">intro y13</span>.
In the case of a non-product goal, it prints nothing. </li><li class="li-enumerate"><span style="font-family:monospace">Show Intros.</span><a id="hevea_default520"></a><a id="hevea_command176"></a><br>
This command is similar to the previous one, it simulates the naming 
process of an <span style="font-family:monospace">intros</span>.</li><li class="li-enumerate"><span style="font-family:monospace">Show Existentials.</span><a id="ShowExistentials"></a><a id="hevea_default521"></a><a id="hevea_command177"></a>
<br>
It displays
the set of all uninstantiated existential variables in the current proof tree, 
along with the type and the context of each variable.</li><li class="li-enumerate"><span style="font-family:monospace">Show Match </span><span style="font-style:oblique">ident</span><span style="font-family:monospace">.</span><a id="ShowMatch"></a><a id="hevea_default522"></a><a id="hevea_command178"></a><br>
This variant displays a template of the Gallina <span style="font-family:monospace">match</span> construct 
with a branch for each constructor of the type <span style="font-style:oblique">ident</span>.<p>Example:</p><div class="flushleft"><span style="font-size:small">
</span><span style="font-size:small"><span style="font-family:monospace">Coq </span></span><span style="font-size:small"><span style="font-family:monospace">&lt;</span></span><span style="font-size:small"><span style="font-family:monospace"> Show Match nat.  </span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic">match # with</span></span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic"> | O =</span></span></span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic">&gt;</span></span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic"> | S x =</span></span></span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic">&gt;</span></span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic"> end</span></span></span><span style="font-size:small"><br>
</span><span style="font-size:small"><span style="font-family:monospace"><span style="font-style:italic"> </span></span></span><span style="font-size:small"><br>
</span></div><p><span style="font-size:small">
</span>
<br>
<span style="font-weight:bold">Error messages: </span></p><ol class="enumerate" type=a><li class="li-enumerate">
<span style="font-family:monospace">Unknown inductive type</span><a id="hevea_error55"></a>
</li></ol></li><li class="li-enumerate"><span style="font-family:monospace">Show Universes.</span><a id="ShowUniverses"></a><a id="hevea_default523"></a><a id="hevea_command179"></a>
<br>
It displays the set of all universe constraints and its
normalized form at the current stage of the proof, useful for
debugging universe inconsistencies.</li></ol><h3 id="Guarded" class="subsection">7.3.2  <span style="font-family:monospace">Guarded.</span><a id="hevea_default524"></a><a id="hevea_command180"></a></h3>
<p>Some tactics (e.g. refine <a href="tactics.html#refine">8.2.3</a>) allow to build proofs using
fixpoint or co-fixpoint constructions. Due to the incremental nature
of interactive proof construction, the check of the termination (or
guardedness) of the recursive calls in the fixpoint or cofixpoint
constructions is postponed to the time of the completion of the proof.</p><p>The command <code>Guarded</code> allows checking if the guard condition for
fixpoint and cofixpoint is violated at some time of the construction
of the proof without having to wait the completion of the proof."</p>
<h2 id="sec344" class="section">7.4  Controlling the effect of proof editing commands</h2>
<h3 id="sec345" class="subsection">7.4.1  <span style="font-family:monospace">Set Hyps Limit </span><span style="font-style:oblique">num</span><span style="font-family:monospace">.</span><a id="hevea_default525"></a><a id="hevea_option46"></a></h3>
<p>
This command sets the maximum number of hypotheses displayed in
goals after the application of a tactic. 
All the hypotheses remains usable in the proof development.</p><h3 id="sec346" class="subsection">7.4.2  <span style="font-family:monospace">Unset Hyps Limit.</span><a id="hevea_default526"></a><a id="hevea_option47"></a></h3>
<p>
This command goes back to the default mode which is to print all
available hypotheses.</p><h3 id="Set Automatic Introduction" class="subsection">7.4.3  <span style="font-family:monospace">Set Automatic Introduction.</span><a id="hevea_default527"></a><a id="hevea_option48"></a></h3>
<p>The option <span style="font-family:monospace">Automatic Introduction</span> controls the way binders are
handled in assertion commands such as <span style="font-family:monospace">Theorem </span><span style="font-style:oblique">ident</span><span style="font-family:monospace">
</span><span style="font-family:monospace"><span style="font-style:oblique">[</span></span><span style="font-style:oblique">binders</span><span style="font-family:monospace"><span style="font-style:oblique">]</span></span><span style="font-family:monospace"> : </span><span style="font-style:oblique">form</span>. When the option is set, which is the
default, <span style="font-style:oblique">binders</span> are automatically put in the local context of the
goal to prove.</p><p>The option can be unset by issuing <span style="font-family:monospace">Unset Automatic Introduction</span>.
When the option is unset, <span style="font-style:oblique">binders</span> are discharged on the statement
to be proved and a tactic such as <span style="font-family:monospace">intro</span> (see
Section <a href="tactics.html#intro">8.3.1</a>) has to be used to move the assumptions to the
local context.</p>
<h2 id="sec348" class="section">7.5  Controlling memory usage<a id="hevea_default528"></a><a id="hevea_command181"></a><a id="hevea_default529"></a><a id="hevea_command182"></a></h2>
<p>When experiencing high memory usage the following commands can be
used to force Coq to optimize some of its internal data structures.</p><h3 id="sec349" class="subsection">7.5.1  <span style="font-family:monospace">Optimize Proof.</span></h3>
<p>This command forces Coq to shrink the data structure used to represent
the ongoing proof.</p><h3 id="sec350" class="subsection">7.5.2  <span style="font-family:monospace">Optimize Heap.</span></h3>
<p>This command forces the OCaml runtime to perform a heap compaction.
This is in general an expensive operation. See:
<a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Gc.html#VALcompact"><span style="font-family:monospace">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Gc.html#VALcompact</span></a></p>

<div id="sidebarWrapper">
  <div id="sidebar">
    <div class="block">
      <h2 class="title">Navigation</h2>
      <div class="content">
        <ul class="menu">
          <li class="leaf"><a href="index.html">Cover</a></li>
          <li class="leaf"><a href="toc.html">Table of contents</a></li>
          <li class="leaf">Index
            <ul class="menu">
              <li><a href="general-index.html">General</a></li>
              <li><a href="command-index.html">Commands</a></li>
              <li><a href="option-index.html">Options</a></li>
              <li><a href="tactic-index.html">Tactics</a></li>
              <li><a href="error-index.html">Errors</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

</div>

<div id="footer">
<div id="nav-footer">
  <ul class="links-menu-footer">
    <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
    <li><a href="http://validator.w3.org/">xhtml valid</a></li>
    <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
  </ul>

</div>
</div>

</div>
</body>
</html>
