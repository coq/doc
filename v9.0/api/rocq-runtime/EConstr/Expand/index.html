<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Expand (rocq-runtime.EConstr.Expand)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">rocq-runtime</a> &#x00BB; <a href="../index.html">EConstr</a> &#x00BB; Expand</nav><header class="odoc-preamble"><h1>Module <code><span>EConstr.Expand</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A variant of <code>EConstr.t</code> where evar substitution is performed on the fly. The <code>handle</code> type below is a kind of substitution that is needed to make sense of the delayed term. Such representation is more efficient than <code>EConstr.t</code> when iterating over a whole term.</p><p>Caveat: the <code>kind</code> function below only returns the expanded head of the term. This means that when it returns <code>Evar (evk, inst)</code>, <code>evk</code> is guaranteed to be undefined in the evar map but <code>inst</code> is, in general, not the same as you would get after expansion. You must call <code>expand_instance</code> before performing any operation on it.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-kind" class="anchored"><a href="#type-kind" class="anchor"></a><code><span><span class="keyword">type</span> kind</span><span> = <span><span>(<a href="#type-t">t</a>, <a href="#type-t">t</a>, <a href="../ESorts/index.html#type-t">ESorts.t</a>, <a href="../EInstance/index.html#type-t">EInstance.t</a>, <a href="../ERelevance/index.html#type-t">ERelevance.t</a>)</span> <a href="../../Constr/index.html#type-kind_of_term">Constr.kind_of_term</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-handle" class="anchored"><a href="#type-handle" class="anchor"></a><code><span><span class="keyword">type</span> handle</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><a href="../../Evd/index.html#type-econstr">Evd.econstr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-handle">handle</a> * <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-repr" class="anchored"><a href="#val-repr" class="anchor"></a><code><span><span class="keyword">val</span> repr : <span><a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Evd/index.html#type-econstr">Evd.econstr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-liftn_handle" class="anchored"><a href="#val-liftn_handle" class="anchor"></a><code><span><span class="keyword">val</span> liftn_handle : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-handle">handle</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-kind" class="anchored"><a href="#val-kind" class="anchor"></a><code><span><span class="keyword">val</span> kind : <span><a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-handle">handle</a> * <a href="#type-kind">kind</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-expand_instance" class="anchored"><a href="#val-expand_instance" class="anchor"></a><code><span><span class="keyword">val</span> expand_instance : <span>skip:bool <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../Evd/index.html#type-undefined">Evd.undefined</a> <a href="../../Evd/index.html#type-evar_info">Evd.evar_info</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> <a href="../../SList/index.html#type-t">SList.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../SList/index.html#type-t">SList.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-kind">kind</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-iter_with_binders" class="anchored"><a href="#val-iter_with_binders" class="anchor"></a><code><span><span class="keyword">val</span> iter_with_binders : <span><a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-handle">handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-kind">kind</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>