<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dumpglob (rocq-runtime.Dumpglob)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">rocq-runtime</a> &#x00BB; Dumpglob</nav><header class="odoc-preamble"><h1>Module <code><span>Dumpglob</span></code></h1><p>This file implements the Coq's <code>.glob</code> file format, which provides information about the objects that are defined and referenced from a Coq file.</p><p>The <code>.glob</code> file format is notably used by <code>coqdoc</code> and <code>coq2html</code> to generate links and other documentation meta-data.</p><p>Note that we consider this format a legacy one, and no stability guarantees are provided as of today, as we search to replace this format with a more structured and strongly-typed API.</p><p>However, we do provide up to date documentation about the format of <code>.glob</code> files below.</p></header><nav class="odoc-toc"><ul><li><a href="#the-.glob-file-format">The <code>.glob</code> file format</a><ul><li><a href="#.glob-header"><code>.glob</code> header</a></li><li><a href="#.glob-entries"><code>.glob</code> entries</a></li></ul></li></ul></nav><div class="odoc-content"><h3 id="the-.glob-file-format"><a href="#the-.glob-file-format" class="anchor"></a>The <code>.glob</code> file format</h3><p><code>.glob</code> files contain a header, and then a list of entries, with one line per entry.</p><h4 id=".glob-header"><a href="#.glob-header" class="anchor"></a><code>.glob</code> header</h4><p>The header consists of two lines:</p><p><code>DIGEST: %md5sum_of_file</code> <code>F%modpath</code></p><p>where %modpath is the fully-qualified module name of the library that the <code>.glob</code> file refers to. <code>%md5sum_of_file</code> may be NO if <code>-dump-glob file</code> was used.</p><h4 id=".glob-entries"><a href="#.glob-entries" class="anchor"></a><code>.glob</code> entries</h4><p>There are 2 kinds of <code>.glob</code> entries:</p><ul><li>*definitions*: these entries correspond to definitions of inductives, functions, binders, notations. They are written as:</li></ul><p><code>%kind %bc:%ec %secpath %name</code></p><p>where <code>%kind</code> is one of <code>{ax,def,coe,subclass,canonstruc,ex,scheme,proj,inst,meth,defax,prfax,thm,prim,class,var,indrec,rec,corec,ind,variant,coind,constr,not,binder,lib,mod,modtype}</code>, meaning:</p><ol><li><code>ax</code> Axiom, Parameter or Variable(s), Hypothes<i>,e</i>s, Context outside any section</li><li><code>def</code> Definition</li><li><code>coe</code> Coertion</li><li><code>thm</code> Theorem</li><li><code>subclass</code> Sub Class</li><li><code>canonstruc</code> Canonical Declaration</li><li><code>ex</code> Example</li><li><code>scheme</code> Scheme</li><li><code>class</code> Class declaration</li><li><code>proj</code> Projection from a structure</li><li><code>inst</code> Instance</li><li><code>meth</code> Class Method</li><li><code>defax</code> Definitional assumption</li><li><code>prfax</code> Logical assumption</li><li><code>prim</code> Primitive</li><li><code>var</code> section Variable reference (Variable<code>,s</code>, Hypothes<i>,e</i>s, Context)</li><li><code>indrec</code> Inductive</li><li><code>rec</code> Inductive (variant)</li><li><code>corec</code> Coinductive</li><li><code>ind</code> Record</li><li><code>variant</code> Record (variant)</li><li><code>coind</code> Coinductive Record</li><li><code>constr</code> Constructor</li><li><code>not</code> Notation</li><li><code>binder</code> Binder</li><li><code>lib</code> Require</li><li><code>mod</code> Module Reference (Import, Module start / end)</li><li><code>modtype</code> Module Type</li></ol><p><code>%bc</code> and <code>%ec</code> are respectively the start and end byte locations in the file (0-indexed), multiple entries can share the same <code>%bc</code> and <code>%ec</code> <code>%secpath</code> the section path (or <code>&lt;&gt;</code> if no section path) and <code>%name</code> the name of the defined object, or also <code>&lt;&gt;</code> in where no name applies.</p><p>Section paths are ...</p><ol><li>In the case of notations, <code>%name</code> is encoded as <code>:entry:scope:notation_key</code> where <code>_</code> is used to replace spaces in the notation key, <code>%entry</code> is left empty if the notation entry is <code>constr</code>, and similarly <code>%scope</code> is empty if the corresponding notation has no associated scope.</li></ol><ol><li>For binding variables, <code>:number</code> is added to distinguish uniquely different binding variables of the same name in a file.</li></ol><ul><li>*references*: which identify the object a particular document piece of text points to; their format is:</li></ul><p><code>R%bc:%ec %filepath %secpath %name %kind</code></p><p>where <code>%bc</code>, <code>%ec</code>, <code>%name</code>, and <code>%kind</code> are as the above; <code>%filepath</code> contains the file module path the object that the references lives in, whereas <code>%name</code> may contain non-file non-directory module names.</p><div class="odoc-spec"><div class="spec value" id="val-start_dump_glob" class="anchored"><a href="#val-start_dump_glob" class="anchor"></a><code><span><span class="keyword">val</span> start_dump_glob : <span>vfile:string <span class="arrow">&#45;&gt;</span></span> <span>vofile:string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-end_dump_glob" class="anchored"><a href="#val-end_dump_glob" class="anchor"></a><code><span><span class="keyword">val</span> end_dump_glob : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump" class="anchored"><a href="#val-dump" class="anchor"></a><code><span><span class="keyword">val</span> dump : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-glob_output" class="anchored"><a href="#type-glob_output" class="anchor"></a><code><span><span class="keyword">type</span> glob_output</span><span> = </span></code><table><tr id="type-glob_output.NoGlob" class="anchored"><td class="def variant constructor"><a href="#type-glob_output.NoGlob" class="anchor"></a><code><span>| </span><span><span class="constructor">NoGlob</span></span></code></td></tr><tr id="type-glob_output.Feedback" class="anchored"><td class="def variant constructor"><a href="#type-glob_output.Feedback" class="anchor"></a><code><span>| </span><span><span class="constructor">Feedback</span></span></code></td></tr><tr id="type-glob_output.MultFiles" class="anchored"><td class="def variant constructor"><a href="#type-glob_output.MultFiles" class="anchor"></a><code><span>| </span><span><span class="constructor">MultFiles</span></span></code></td></tr><tr id="type-glob_output.File" class="anchored"><td class="def variant constructor"><a href="#type-glob_output.File" class="anchor"></a><code><span>| </span><span><span class="constructor">File</span> <span class="keyword">of</span> string</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-push_output" class="anchored"><a href="#val-push_output" class="anchor"></a><code><span><span class="keyword">val</span> push_output : <span><a href="#type-glob_output">glob_output</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>push_output o</code> temporarily overrides the output location to <code>o</code>. The original output can be restored using <code>pop_output</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-pop_output" class="anchored"><a href="#val-pop_output" class="anchor"></a><code><span><span class="keyword">val</span> pop_output : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Restores the original output that was overridden by <code>push_output</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-pause" class="anchored"><a href="#val-pause" class="anchor"></a><code><span><span class="keyword">val</span> pause : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Alias for <code>push_output NoGlob</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-continue" class="anchored"><a href="#val-continue" class="anchor"></a><code><span><span class="keyword">val</span> continue : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Deprecated alias for <code>pop_output</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-with_glob_output" class="anchored"><a href="#val-with_glob_output" class="anchor"></a><code><span><span class="keyword">val</span> with_glob_output : <span><a href="#type-glob_output">glob_output</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_glob" class="anchored"><a href="#val-add_glob" class="anchor"></a><code><span><span class="keyword">val</span> add_glob : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_glob_kn" class="anchored"><a href="#val-add_glob_kn" class="anchor"></a><code><span><span class="keyword">val</span> add_glob_kn : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/KerName/index.html#type-t">Names.KerName.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_definition" class="anchored"><a href="#val-dump_definition" class="anchor"></a><code><span><span class="keyword">val</span> dump_definition : <span><a href="../Names/index.html#type-lident">Names.lident</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_moddef" class="anchored"><a href="#val-dump_moddef" class="anchor"></a><code><span><span class="keyword">val</span> dump_moddef : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_modref" class="anchored"><a href="#val-dump_modref" class="anchor"></a><code><span><span class="keyword">val</span> dump_modref : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/ModPath/index.html#type-t">Names.ModPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_reference" class="anchored"><a href="#val-dump_reference" class="anchor"></a><code><span><span class="keyword">val</span> dump_reference : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_secvar" class="anchored"><a href="#val-dump_secvar" class="anchor"></a><code><span><span class="keyword">val</span> dump_secvar : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/Id/index.html#type-t">Names.Id.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_libref" class="anchored"><a href="#val-dump_libref" class="anchor"></a><code><span><span class="keyword">val</span> dump_libref : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_notation_location" class="anchored"><a href="#val-dump_notation_location" class="anchor"></a><code><span><span class="keyword">val</span> dump_notation_location : <span><span><span>(int * int)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Constrexpr/index.html#type-notation">Constrexpr.notation</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Notation/index.html#type-notation_location">Notation.notation_location</a> * <span><a href="../Notation_term/index.html#type-scope_name">Notation_term.scope_name</a> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_binding" class="anchored"><a href="#val-dump_binding" class="anchor"></a><code><span><span class="keyword">val</span> dump_binding : <span>?loc:<a href="../Loc/index.html#type-t">Loc.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_notation" class="anchored"><a href="#val-dump_notation" class="anchor"></a><code><span><span class="keyword">val</span> dump_notation : <span><span><a href="../Constrexpr/index.html#type-notation">Constrexpr.notation</a> <a href="../CAst/index.html#type-t">CAst.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Notation_term/index.html#type-scope_name">Notation_term.scope_name</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_constraint" class="anchored"><a href="#val-dump_constraint" class="anchor"></a><code><span><span class="keyword">val</span> dump_constraint : <span><a href="../Names/index.html#type-lname">Names.lname</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dump_string" class="anchored"><a href="#val-dump_string" class="anchor"></a><code><span><span class="keyword">val</span> dump_string : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-type_of_global_ref" class="anchored"><a href="#val-type_of_global_ref" class="anchor"></a><code><span><span class="keyword">val</span> type_of_global_ref : <span><a href="../Names/GlobRef/index.html#type-t">Names.GlobRef.t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_constant_kind" class="anchored"><a href="#val-add_constant_kind" class="anchor"></a><code><span><span class="keyword">val</span> add_constant_kind : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Decls/index.html#type-logical_kind">Decls.logical_kind</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Registration of constant information</p></div></div><div class="odoc-spec"><div class="spec value" id="val-constant_kind" class="anchored"><a href="#val-constant_kind" class="anchor"></a><code><span><span class="keyword">val</span> constant_kind : <span><a href="../Names/Constant/index.html#type-t">Names.Constant.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Decls/index.html#type-logical_kind">Decls.logical_kind</a></span></code></div></div></div></body></html>