<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/coqdoc.css" />

<title>Standard Library | The Coq Proof Assistant</title>

</head>

<body>

<div id="container">
  <div id="headertop">
    <div id="nav">
      <ul class="links-menu">
        <li><a href="//coq.inria.fr/" class="active">Home</a></li>
        <li><a href="//coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>
        <li><a href="//coq.inria.fr/download">Get Coq</a></li>
        <li><a href="//coq.inria.fr/documentation">Documentation</a></li>
        <li><a href="//coq.inria.fr/community">Community</a></li>
      </ul>
    </div>
  </div>

  <div id="header">
    <div id="logoWrapper">
      <div id="logo"><a href="//coq.inria.fr/" title="Home"><img src="//coq.inria.fr/files/barron_logo.png" alt="Home" /></a>
      </div>
      <div id="siteName"><a href="//coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
      </div>
    </div>
  </div>

  <div id="content">
<h1 class="libtitle">Library Stdlib.setoid_ring.Field_tac</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Stdlib.setoid_ring.Ring_tac.html#"><span class="id" title="library">Ring_tac</span></a> <a class="idref" href="Stdlib.setoid_ring.BinList.html#"><span class="id" title="library">BinList</span></a> <a class="idref" href="Stdlib.setoid_ring.Ring_polynom.html#"><span class="id" title="library">Ring_polynom</span></a> <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#"><span class="id" title="library">InitialRing</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Stdlib.setoid_ring.Field_theory.html#"><span class="id" title="library">Field_theory</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">mkFieldexpr</span> <span class="id" title="var">C</span> <span class="id" title="var">Cst</span> <span class="id" title="var">CstPow</span> <span class="id" title="var">rO</span> <span class="id" title="var">rI</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span> :=<br/>
&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">mkP</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Cst</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#NotConstant"><span class="id" title="definition">InitialRing.NotConstant</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rO</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEO"><span class="id" title="constructor">FEO</span></a> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rI</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEI"><span class="id" title="constructor">FEI</span></a> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">radd</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e1</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e2</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t2</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEadd"><span class="id" title="constructor">FEadd</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">rmul</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e1</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e2</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t2</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEmul"><span class="id" title="constructor">FEmul</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">rsub</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e1</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e2</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t2</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEsub"><span class="id" title="constructor">FEsub</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">ropp</span> ?<span class="id" title="var">t1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">e1</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEopp"><span class="id" title="constructor">FEopp</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">rdiv</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e1</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e2</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t2</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEdiv"><span class="id" title="constructor">FEdiv</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">rinv</span> ?<span class="id" title="var">t1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">e1</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEinv"><span class="id" title="constructor">FEinv</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">rpow</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">n</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">CstPow</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#NotConstant"><span class="id" title="definition">InitialRing.NotConstant</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="var">Find_at</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEX"><span class="id" title="constructor">FEX</span></a> <span class="id" title="var">C</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">c</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">e1</span> := <span class="id" title="var">mkP</span> <span class="id" title="var">t1</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEpow"><span class="id" title="constructor">FEpow</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e1</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="var">Find_at</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEX"><span class="id" title="constructor">FEX</span></a> <span class="id" title="var">C</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">c</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEc"><span class="id" title="constructor">FEc</span></a> <span class="id" title="var">C</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> ()<br/>
&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">mkP</span> <span class="id" title="var">t</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">FFV</span> <span class="id" title="var">Cst</span> <span class="id" title="var">CstPow</span> <span class="id" title="var">rO</span> <span class="id" title="var">rI</span> <span class="id" title="var">add</span> <span class="id" title="var">mul</span> <span class="id" title="var">sub</span> <span class="id" title="var">opp</span> <span class="id" title="var">div</span> <span class="id" title="var">inv</span> <span class="id" title="var">pow</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span> :=<br/>
&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">TFV</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Cst</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#NotConstant"><span class="id" title="definition">InitialRing.NotConstant</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rO</span> =&gt; <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rI</span> =&gt; <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">add</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt; <span class="id" title="var">TFV</span> <span class="id" title="var">t2</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">TFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">mul</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt; <span class="id" title="var">TFV</span> <span class="id" title="var">t2</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">TFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">sub</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt; <span class="id" title="var">TFV</span> <span class="id" title="var">t2</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">TFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">opp</span> ?<span class="id" title="var">t1</span>) =&gt; <span class="id" title="var">TFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">div</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">t2</span>) =&gt; <span class="id" title="var">TFV</span> <span class="id" title="var">t2</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">TFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">inv</span> ?<span class="id" title="var">t1</span>) =&gt; <span class="id" title="var">TFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">pow</span> ?<span class="id" title="var">t1</span> ?<span class="id" title="var">n</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">CstPow</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#NotConstant"><span class="id" title="definition">InitialRing.NotConstant</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">AddFvTail</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">TFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">AddFvTail</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">fv</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">TFV</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">PackField</span> <span class="id" title="var">F</span> <span class="id" title="var">req</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">L1</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [<span class="id" title="var">req</span> (@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEeval"><span class="id" title="definition">FEeval</span></a> ?<span class="id" title="var">R</span> ?<span class="id" title="var">rO</span> ?<span class="id" title="var">rI</span> ?<span class="id" title="var">radd</span> ?<span class="id" title="var">rmul</span> ?<span class="id" title="var">rsub</span> ?<span class="id" title="var">ropp</span> ?<span class="id" title="var">rdiv</span> ?<span class="id" title="var">rinv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">C</span> ?<span class="id" title="var">phi</span> ?<span class="id" title="var">Cpow</span> ?<span class="id" title="var">Cp_phi</span> ?<span class="id" title="var">rpow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">proj</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">proj</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">req</span> <span class="id" title="var">rO</span> <span class="id" title="var">rI</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 "field anomaly: bad correctness lemma (parse)"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">FLD</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_FldPre</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pre</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_FldPost</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">post</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_L1</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_SimplifyEqLemma</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L2</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_SimplifyLemma</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L3</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_L4</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L4</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_CondLemma</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cond_ok</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_FldEq</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">req</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_FldCarrier</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">req</span> := <span class="id" title="var">get_FldEq</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">relation_carrier</span> <span class="id" title="var">req</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_RingFV</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">FV</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rpow</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_FFV</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">FFV</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_RingMeta</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mkPolexpr</span> <span class="id" title="var">C</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rpow</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_Meta</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mkFieldexpr</span> <span class="id" title="var">C</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_Hyp_tac</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">FLD</span> <span class="id" title="keyword">ltac</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">req</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rdiv</span> <span class="id" title="var">rinv</span> <span class="id" title="var">rpow</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span> <span class="id" title="var">cond_ok</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkPol</span> := <span class="id" title="var">mkPolexpr</span> <span class="id" title="var">C</span> <span class="id" title="var">Cst_tac</span> <span class="id" title="var">Pow_tac</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">radd</span> <span class="id" title="var">rmul</span> <span class="id" title="var">rsub</span> <span class="id" title="var">ropp</span> <span class="id" title="var">rpow</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">fv</span> <span class="id" title="var">lH</span> =&gt; <span class="id" title="var">mkHyp_tac</span> <span class="id" title="var">C</span> <span class="id" title="var">req</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">mkPol</span> <span class="id" title="var">t</span> <span class="id" title="var">fv</span>) <span class="id" title="var">lH</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_FEeval</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">L1</span> := <span class="id" title="var">get_L1</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">L1</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEeval"><span class="id" title="definition">FEeval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">R</span> ?<span class="id" title="var">r0</span> ?<span class="id" title="var">r1</span> ?<span class="id" title="var">add</span> ?<span class="id" title="var">mul</span> ?<span class="id" title="var">sub</span> ?<span class="id" title="var">opp</span> ?<span class="id" title="var">div</span> ?<span class="id" title="var">inv</span> ?<span class="id" title="var">C</span> ?<span class="id" title="var">phi</span> ?<span class="id" title="var">Cpow</span> ?<span class="id" title="var">powphi</span> ?<span class="id" title="var">pow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(@<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#FEeval"><span class="id" title="definition">FEeval</span></a> <span class="id" title="var">R</span> <span class="id" title="var">r0</span> <span class="id" title="var">r1</span> <span class="id" title="var">add</span> <span class="id" title="var">mul</span> <span class="id" title="var">sub</span> <span class="id" title="var">opp</span> <span class="id" title="var">div</span> <span class="id" title="var">inv</span> <span class="id" title="var">C</span> <span class="id" title="var">phi</span> <span class="id" title="var">Cpow</span> <span class="id" title="var">powphi</span> <span class="id" title="var">pow</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 "field anomaly: bad correctness lemma (get_FEeval)"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_field_cond</span> <span class="id" title="var">req</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">fold_concl</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> ?<span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fx</span> := <span class="id" title="var">fold_concl</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">fy</span> := <span class="id" title="var">fold_concl</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">fx</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><span class="id" title="var">fy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">req</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> =&gt; <span class="id" title="keyword">constr</span>:(<a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">req</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ft</span> := <span class="id" title="var">fold_concl</span> <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">ft</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_PCond</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">req</span> := <span class="id" title="var">get_FldEq</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> := <span class="id" title="var">get_CondLemma</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">lemma</span>; <span class="id" title="tactic">intros</span> ?<span class="id" title="var">lock</span> ?<span class="id" title="var">lock_def</span>; <span class="id" title="keyword">vm_compute</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lock_def</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">lock_def</span> <span class="id" title="var">lock</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">protect_fv</span> "field_cond";<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_field_cond</span> <span class="id" title="var">req</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_PCond_BEURK</span> <span class="id" title="var">FLD</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">req</span> := <span class="id" title="var">get_FldEq</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> := <span class="id" title="var">get_CondLemma</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <span class="id" title="var">lemma</span>; <span class="id" title="tactic">intros</span> ?<span class="id" title="var">lock</span> ?<span class="id" title="var">lock_def</span>; <span class="id" title="keyword">vm_compute</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lock_def</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">lock_def</span> <span class="id" title="var">lock</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">protect_fv</span> "field_cond";<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_field_cond</span> <span class="id" title="var">req</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Field_norm_gen</span> <span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> <span class="id" title="var">rl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFV</span> := <span class="id" title="var">get_RingFV</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFFV</span> := <span class="id" title="var">get_FFV</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFE</span> :=  <span class="id" title="var">get_Meta</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv0</span> := <span class="id" title="var">FV_hypo_tac</span> <span class="id" title="var">mkFV</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">get_FldEq</span> <span class="id" title="var">FLD</span>) <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma_tac</span> <span class="id" title="var">fv</span> <span class="id" title="var">kont</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> := <span class="id" title="var">get_SimplifyLemma</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lpe</span> := <span class="id" title="var">get_Hyp_tac</span> <span class="id" title="var">FLD</span> <span class="id" title="var">fv</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vlpe</span> := <span class="id" title="tactic">fresh</span> "hyps" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">vlpe</span> := <span class="id" title="var">lpe</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">prh</span> := <span class="id" title="var">proofHyp_tac</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vlmp</span> := <span class="id" title="tactic">fresh</span> "hyps'" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vlmp_eq</span> := <span class="id" title="tactic">fresh</span> "hyps_eq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mk_monpol</span> := <span class="id" title="var">get_MonPol</span> <span class="id" title="var">lemma</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compute_assertion</span> <span class="id" title="var">vlmp_eq</span> <span class="id" title="var">vlmp</span> (<span class="id" title="var">mk_monpol</span> <span class="id" title="var">vlpe</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lem</span> := <span class="id" title="tactic">fresh</span> "f_rw_lemma" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">assert</span> (<span class="id" title="var">lem</span> := <span class="id" title="var">lemma</span> <span class="id" title="var">n</span> <span class="id" title="var">vlpe</span> <span class="id" title="var">fv</span> <span class="id" title="var">prh</span> <span class="id" title="var">vlmp</span> <span class="id" title="var">vlmp_eq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "type error when building the rewriting lemma");<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">kont</span> <span class="id" title="var">lem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">clear</span> <span class="id" title="var">lem</span> <span class="id" title="var">vlmp_eq</span> <span class="id" title="var">vlmp</span> <span class="id" title="var">vlpe</span>||<span class="id" title="tactic">idtac</span>"Field_norm_gen:cleanup failed") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">main_tac</span> <span class="id" title="var">H</span> := <span class="id" title="var">protect_fv</span> "field" <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">f</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">ReflexiveRewriteTactic</span> <span class="id" title="var">mkFFV</span> <span class="id" title="var">mkFE</span> <span class="id" title="var">lemma_tac</span> <span class="id" title="var">main_tac</span> <span class="id" title="var">fv0</span> <span class="id" title="var">rl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">simpl_PCond</span> <span class="id" title="var">FLD</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Field_simplify_gen</span> <span class="id" title="var">f</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> <span class="id" title="var">rl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="tactic">fresh</span> "to_rewrite" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">l</span>:= <span class="id" title="var">rl</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">l</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l</span> <span class="id" title="tactic">at</span> 2;<br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPre</span> <span class="id" title="var">FLD</span> ();<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">RL</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">RL</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 "ring_simplify anomaly: bad goal after pre"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Heq</span> := <span class="id" title="tactic">fresh</span> "Heq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span> <span class="id" title="var">l</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">Field_norm_gen</span> <span class="id" title="var">f</span> <span class="id" title="var">ring_subst_niter</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> <span class="id" title="var">rl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPost</span> <span class="id" title="var">FLD</span> ().<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Field_simplify</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">Field_simplify_gen</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) "field_simplify" <span class="id" title="var">constr_list</span>(<span class="id" title="var">rl</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">Field_simplify</span>) [] <span class="id" title="var">rl</span> <span class="id" title="var">G</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0)<br/>
&nbsp;&nbsp;"field_simplify" "[" <span class="id" title="var">constr_list</span>(<span class="id" title="var">lH</span>) "]" <span class="id" title="var">constr_list</span>(<span class="id" title="var">rl</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">Field_simplify</span>) [<span class="id" title="var">lH</span>] <span class="id" title="var">rl</span> <span class="id" title="var">G</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "field_simplify" <span class="id" title="var">constr_list</span>(<span class="id" title="var">rl</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>):=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="tactic">fresh</span> "goal" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span>:= <span class="id" title="var">G</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">Field_simplify</span>) [] <span class="id" title="var">rl</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span> | .. ];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "field_simplify"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"["<span class="id" title="var">constr_list</span>(<span class="id" title="var">lH</span>) "]" <span class="id" title="var">constr_list</span>(<span class="id" title="var">rl</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>):=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="tactic">fresh</span> "goal" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span>:= <span class="id" title="var">G</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">Field_simplify</span>) [<span class="id" title="var">lH</span>] <span class="id" title="var">rl</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span> | .. ];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">g</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
Generic tactic for solving equations 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Field_Scheme</span> <span class="id" title="var">Simpl_tac</span> <span class="id" title="var">n</span> <span class="id" title="var">lemma</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">req</span> := <span class="id" title="var">get_FldEq</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFV</span> := <span class="id" title="var">get_RingFV</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFFV</span> := <span class="id" title="var">get_FFV</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFE</span> := <span class="id" title="var">get_Meta</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Main_eq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv</span> := <span class="id" title="var">FV_hypo_tac</span> <span class="id" title="var">mkFV</span> <span class="id" title="var">req</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv</span> := <span class="id" title="var">mkFFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv</span> := <span class="id" title="var">mkFFV</span> <span class="id" title="var">t2</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lpe</span> := <span class="id" title="var">get_Hyp_tac</span> <span class="id" title="var">FLD</span> <span class="id" title="var">fv</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">prh</span> := <span class="id" title="var">proofHyp_tac</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vlpe</span> := <span class="id" title="tactic">fresh</span> "list_hyp" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fe1</span> := <span class="id" title="var">mkFE</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fe2</span> := <span class="id" title="var">mkFE</span> <span class="id" title="var">t2</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">vlpe</span> := <span class="id" title="var">lpe</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">nlemma</span> := <span class="id" title="tactic">fresh</span> "field_lemma" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">assert</span> (<span class="id" title="var">nlemma</span> := <span class="id" title="var">lemma</span> <span class="id" title="var">n</span> <span class="id" title="var">fv</span> <span class="id" title="var">vlpe</span> <span class="id" title="var">fe1</span> <span class="id" title="var">fe2</span> <span class="id" title="var">prh</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "field anomaly:failed to build lemma");<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ProveLemmaHyps</span> <span class="id" title="var">nlemma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">ilemma</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ilemma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="tactic">fail</span> "field anomaly: failed in applying lemma";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">Simpl_tac</span> | <span class="id" title="var">simpl_PCond</span> <span class="id" title="var">FLD</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">nlemma</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">vlpe</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">OnEquation</span> <span class="id" title="var">req</span> <span class="id" title="var">Main_eq</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">FIELD</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> <span class="id" title="var">rl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Simpl</span> := <span class="id" title="keyword">vm_compute</span>; <span class="id" title="tactic">reflexivity</span> || <span class="id" title="tactic">fail</span> "not a valid field equation" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> := <span class="id" title="var">get_L1</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPre</span> <span class="id" title="var">FLD</span> ();<br/>
&nbsp;&nbsp;<span class="id" title="var">Field_Scheme</span> <span class="id" title="var">Simpl</span> <span class="id" title="var">Ring_tac.ring_subst_niter</span> <span class="id" title="var">lemma</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPost</span> <span class="id" title="var">FLD</span>().<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) "field" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">FIELD</span>) [] <span class="id" title="var">G</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) "field" "[" <span class="id" title="var">constr_list</span>(<span class="id" title="var">lH</span>) "]" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">FIELD</span>) [<span class="id" title="var">lH</span>] <span class="id" title="var">G</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">FIELD_SIMPL</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> <span class="id" title="var">rl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Simpl</span> := (<span class="id" title="var">protect_fv</span> "field") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> := <span class="id" title="var">get_SimplifyEqLemma</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPre</span> <span class="id" title="var">FLD</span> ();<br/>
&nbsp;&nbsp;<span class="id" title="var">Field_Scheme</span> <span class="id" title="var">Simpl</span> <span class="id" title="var">Ring_tac.ring_subst_niter</span> <span class="id" title="var">lemma</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPost</span> <span class="id" title="var">FLD</span> ().<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) "field_simplify_eq" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">FIELD_SIMPL</span>) [] <span class="id" title="var">G</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) "field_simplify_eq" "[" <span class="id" title="var">constr_list</span>(<span class="id" title="var">lH</span>) "]" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">Get_goal</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">FIELD_SIMPL</span>) [<span class="id" title="var">lH</span>] <span class="id" title="var">G</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Field_simplify_eq</span> <span class="id" title="var">n</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">req</span> := <span class="id" title="var">get_FldEq</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFV</span> := <span class="id" title="var">get_RingFV</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFFV</span> := <span class="id" title="var">get_FFV</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFE</span> := <span class="id" title="var">get_Meta</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> := <span class="id" title="var">get_L4</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">hyp</span> := <span class="id" title="tactic">fresh</span> "hyp" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">hyp</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">OnEquationHyp</span> <span class="id" title="var">req</span> <span class="id" title="var">hyp</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv</span> := <span class="id" title="var">FV_hypo_tac</span> <span class="id" title="var">mkFV</span> <span class="id" title="var">req</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv</span> := <span class="id" title="var">mkFFV</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv</span> := <span class="id" title="var">mkFFV</span> <span class="id" title="var">t2</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lpe</span> := <span class="id" title="var">get_Hyp_tac</span> <span class="id" title="var">FLD</span> <span class="id" title="var">fv</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">prh</span> := <span class="id" title="var">proofHyp_tac</span> <span class="id" title="var">lH</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fe1</span> := <span class="id" title="var">mkFE</span> <span class="id" title="var">t1</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fe2</span> := <span class="id" title="var">mkFE</span> <span class="id" title="var">t2</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vlpe</span> := <span class="id" title="tactic">fresh</span> "vlpe" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ProveLemmaHyps</span> (<span class="id" title="var">lemma</span> <span class="id" title="var">n</span> <span class="id" title="var">fv</span> <span class="id" title="var">lpe</span> <span class="id" title="var">fe1</span> <span class="id" title="var">fe2</span> <span class="id" title="var">prh</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">ilemma</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">ilemma</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">req</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> ?<span class="id" title="var">EQ</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tmp</span> := <span class="id" title="tactic">fresh</span> "tmp" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tmp</span> : <span class="id" title="var">EQ</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">ilemma</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">hyp</span> | <span class="id" title="var">simpl_PCond_BEURK</span> <span class="id" title="var">FLD</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">protect_fv</span> "field" <span class="id" title="tactic">in</span> <span class="id" title="var">tmp</span>; <span class="id" title="var">revert</span> <span class="id" title="var">tmp</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">hyp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">FIELD_SIMPL_EQ</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span> <span class="id" title="var">rl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPre</span> <span class="id" title="var">FLD</span> ();<br/>
&nbsp;&nbsp;<span class="id" title="var">Field_simplify_eq</span> <span class="id" title="var">Ring_tac.ring_subst_niter</span> <span class="id" title="var">FLD</span> <span class="id" title="var">lH</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">get_FldPost</span> <span class="id" title="var">FLD</span> ().<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) "field_simplify_eq" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">FIELD_SIMPL_EQ</span>) [] <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>].<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0)<br/>
&nbsp;&nbsp;"field_simplify_eq" "[" <span class="id" title="var">constr_list</span>(<span class="id" title="var">lH</span>) "]"  "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">FIELD_SIMPL_EQ</span>) [<span class="id" title="var">lH</span>] <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a><br/>
&nbsp;&nbsp;|<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>].<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">gen_with_field</span> <span class="id" title="var">F</span> <span class="id" title="var">c</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">MetaExpr</span> <span class="id" title="var">FLD</span> <span class="id" title="var">_</span> <span class="id" title="var">rl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">R</span> := <span class="id" title="var">get_FldCarrier</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFFV</span> := <span class="id" title="var">get_FFV</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mkFE</span>  := <span class="id" title="var">get_Meta</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">csr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Stdlib.Lists.List.html#cons"><span class="id" title="abbreviation">List.cons</span></a> ?<span class="id" title="var">r</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 "anomaly: ill-formed list"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fv</span> := <span class="id" title="var">mkFFV</span> <span class="id" title="var">csr</span> (@<a class="idref" href="Stdlib.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> <span class="id" title="var">R</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">expr</span> := <span class="id" title="var">mkFE</span> <span class="id" title="var">csr</span> <span class="id" title="var">fv</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">FLD</span> <span class="id" title="var">fv</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_lookup</span> (<span class="id" title="var">PackField</span> <span class="id" title="var">MetaExpr</span>) [] (<span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">c</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prove_field_eqn</span> <span class="id" title="var">ope</span> <span class="id" title="var">FLD</span> <span class="id" title="var">fv</span> <span class="id" title="var">expr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">ope</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">expr'</span> := <span class="id" title="tactic">fresh</span> "input_expr" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">expr'</span> := <span class="id" title="var">expr</span>);<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res'</span> := <span class="id" title="tactic">fresh</span> "result" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">res'</span> := <span class="id" title="var">res</span>);<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> := <span class="id" title="var">get_L1</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lemma</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="var">lemma</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <span class="id" title="var">fv</span> <a class="idref" href="Stdlib.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> <span class="id" title="var">expr'</span> <span class="id" title="var">res'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#I"><span class="id" title="constructor">I</span></a> <a class="idref" href="Stdlib.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ty</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">lemma</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">_</span>, ?<span class="id" title="var">lhs</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">lhs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span>, ?<span class="id" title="var">rhs</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">rhs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs'</span> := <span class="id" title="tactic">fresh</span> "lhs" <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">lhs_eq</span> := <span class="id" title="tactic">fresh</span> "lhs_eq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs'</span> := <span class="id" title="tactic">fresh</span> "rhs" <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">rhs_eq</span> := <span class="id" title="tactic">fresh</span> "rhs_eq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">compute_assertion</span> <span class="id" title="var">lhs_eq</span> <span class="id" title="var">lhs'</span> <span class="id" title="var">lhs</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">compute_assertion</span> <span class="id" title="var">rhs_eq</span> <span class="id" title="var">rhs'</span> <span class="id" title="var">rhs</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "fld_eqn" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> (<span class="id" title="var">lemma</span> <span class="id" title="var">lhs'</span> <span class="id" title="var">lhs_eq</span> <span class="id" title="var">rhs'</span> <span class="id" title="var">rhs_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>;<span class="id" title="var">protect_fv</span> "field" <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">revert</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">vm_compute</span>; <span class="id" title="tactic">reflexivity</span> || <span class="id" title="tactic">fail</span> "field cannot prove this equality"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">simpl_PCond</span> <span class="id" title="var">FLD</span>];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">lhs_eq</span> <span class="id" title="var">rhs_eq</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">lhs'</span> <span class="id" title="var">rhs'</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prove_with_field</span> <span class="id" title="var">ope</span> <span class="id" title="var">c</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_with_field</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">prove_field_eqn</span> <span class="id" title="var">ope</span>) <span class="id" title="var">c</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prove_rw</span> <span class="id" title="var">ope</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">prove_with_field</span> <span class="id" title="var">ope</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;[ <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "Heq_maple" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;|..].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reduce_field_expr</span> <span class="id" title="var">ope</span> <span class="id" title="var">kont</span> <span class="id" title="var">FLD</span> <span class="id" title="var">fv</span> <span class="id" title="var">expr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">evfun</span> := <span class="id" title="var">get_FEeval</span> <span class="id" title="var">FLD</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">ope</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="var">simpl_field_expr</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">evfun</span> <span class="id" title="var">fv</span> <span class="id" title="var">res</span>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">kont</span> <span class="id" title="var">c</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">return_term</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_term</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reduce_field_ope</span> <span class="id" title="var">ope</span> <span class="id" title="var">c</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_with_field</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">reduce_field_expr</span> <span class="id" title="var">ope</span> <span class="id" title="var">return_term</span>) <span class="id" title="var">c</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">ring_of_field</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">f</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.Field_theory.html#almost_field_theory"><span class="id" title="record">almost_field_theory</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#AF_AR"><span class="id" title="projection">AF_AR</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.Field_theory.html#field_theory"><span class="id" title="record">field_theory</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#F_R"><span class="id" title="projection">F_R</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.Field_theory.html#semi_field_theory"><span class="id" title="record">semi_field_theory</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#SF_SR"><span class="id" title="projection">SF_SR</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">coerce_to_almost_field</span> <span class="id" title="tactic">set</span> <span class="id" title="var">ext</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">f</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.Field_theory.html#almost_field_theory"><span class="id" title="record">almost_field_theory</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.Field_theory.html#field_theory"><span class="id" title="record">field_theory</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#F2AF"><span class="id" title="definition">F2AF</span></a> <span class="id" title="tactic">set</span> <span class="id" title="var">ext</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.Field_theory.html#semi_field_theory"><span class="id" title="record">semi_field_theory</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#SF2AF"><span class="id" title="definition">SF2AF</span></a> <span class="id" title="tactic">set</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">field_elements</span> <span class="id" title="tactic">set</span> <span class="id" title="var">ext</span> <span class="id" title="var">fspec</span> <span class="id" title="var">pspec</span> <span class="id" title="var">sspec</span> <span class="id" title="var">dspec</span> <span class="id" title="var">rk</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">afth</span> := <span class="id" title="var">coerce_to_almost_field</span> <span class="id" title="tactic">set</span> <span class="id" title="var">ext</span> <span class="id" title="var">fspec</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rspec</span> := <span class="id" title="var">ring_of_field</span> <span class="id" title="var">fspec</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">ring_elements</span> <span class="id" title="tactic">set</span> <span class="id" title="var">ext</span> <span class="id" title="var">rspec</span> <span class="id" title="var">pspec</span> <span class="id" title="var">sspec</span> <span class="id" title="var">dspec</span> <span class="id" title="var">rk</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">arth</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">morph</span> <span class="id" title="var">p_spec</span> <span class="id" title="var">s_spec</span> <span class="id" title="var">d_spec</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">afth</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">morph</span> <span class="id" title="var">p_spec</span> <span class="id" title="var">s_spec</span> <span class="id" title="var">d_spec</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">field_lemmas</span> <span class="id" title="tactic">set</span> <span class="id" title="var">ext</span> <span class="id" title="var">inv_m</span> <span class="id" title="var">fspec</span> <span class="id" title="var">pspec</span> <span class="id" title="var">sspec</span> <span class="id" title="var">dspec</span> <span class="id" title="var">rk</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">get_lemma</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">pspec</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+rc1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">x</span> | <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">y</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">simpl_eq_lemma</span> := <span class="id" title="var">get_lemma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Field_simplify_eq_correct</span>       <span class="id" title="var">Field_simplify_eq_pow_correct</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">simpl_eq_in_lemma</span> := <span class="id" title="var">get_lemma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Field_simplify_eq_in_correct</span>   <span class="id" title="var">Field_simplify_eq_pow_in_correct</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rw_lemma</span> := <span class="id" title="var">get_lemma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Field_rw_correct</span>                    <span class="id" title="var">Field_rw_pow_correct</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">field_elements</span> <span class="id" title="tactic">set</span> <span class="id" title="var">ext</span> <span class="id" title="var">fspec</span> <span class="id" title="var">pspec</span> <span class="id" title="var">sspec</span> <span class="id" title="var">dspec</span> <span class="id" title="var">rk</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">afth</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">morph</span> <span class="id" title="var">p_spec</span> <span class="id" title="var">s_spec</span> <span class="id" title="var">d_spec</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">morph</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">field_ok1</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#Field_correct"><span class="id" title="lemma">Field_correct</span></a> <span class="id" title="tactic">set</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">inv_m</span> <span class="id" title="var">afth</span> <span class="id" title="var">morph</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">p_spec</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#mkhypo"><span class="id" title="constructor">mkhypo</span></a> ?<span class="id" title="var">pp_spec</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">field_ok2</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">field_ok1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">pp_spec</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">s_spec</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#mkhypo"><span class="id" title="constructor">mkhypo</span></a> ?<span class="id" title="var">ss_spec</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">d_spec</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Stdlib.setoid_ring.InitialRing.html#mkhypo"><span class="id" title="constructor">mkhypo</span></a> ?<span class="id" title="var">dd_spec</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">field_ok</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">field_ok2</span> <span class="id" title="var">_</span> <span class="id" title="var">dd_spec</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mk_lemma</span> <span class="id" title="var">lemma</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="var">lemma</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">inv_m</span> <span class="id" title="var">afth</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">morph</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">pp_spec</span> <span class="id" title="var">_</span> <span class="id" title="var">ss_spec</span> <span class="id" title="var">_</span> <span class="id" title="var">dd_spec</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">field_simpl_eq_ok</span> := <span class="id" title="var">mk_lemma</span> <span class="id" title="var">simpl_eq_lemma</span>  <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">field_simpl_ok</span> := <span class="id" title="var">mk_lemma</span> <span class="id" title="var">rw_lemma</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">field_simpl_eq_in</span> := <span class="id" title="var">mk_lemma</span> <span class="id" title="var">simpl_eq_in_lemma</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cond1_ok</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#Pcond_simpl_gen"><span class="id" title="definition">Pcond_simpl_gen</span></a> <span class="id" title="tactic">set</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">afth</span> <span class="id" title="var">morph</span> <span class="id" title="var">pp_spec</span> <span class="id" title="var">dd_spec</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cond2_ok</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="Stdlib.setoid_ring.Field_theory.html#Pcond_simpl_complete"><span class="id" title="definition">Pcond_simpl_complete</span></a> <span class="id" title="tactic">set</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">afth</span> <span class="id" title="var">morph</span> <span class="id" title="var">pp_spec</span> <span class="id" title="var">dd_spec</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">afth</span> <span class="id" title="var">ext_r</span> <span class="id" title="var">morph</span> <span class="id" title="var">field_ok</span> <span class="id" title="var">field_simpl_ok</span> <span class="id" title="var">field_simpl_eq_ok</span> <span class="id" title="var">field_simpl_eq_in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cond1_ok</span> <span class="id" title="var">cond2_ok</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 4 "field: bad coefficient division specification"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 3 "field: bad sign specification"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 2 "field: bad power specification"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 "field internal error : field_lemmas, please report"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
</div>

<div class="doc">
Registering for the ML plugin 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">display_linear</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.display_linear</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">display_pow_linear</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.display_pow_linear</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">FEeval</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.FEeval</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">PCond</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.PCond</span>.<br/>

<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">almost_field_theory</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.almost_field_theory</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">semi_field_theory</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.semi_field_theory</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">field_theory</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.field_theory</span>.<br/>

<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">AF_AR</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.AF_AR</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">SF_SR</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.SF_SR</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">F_R</span> <span class="id" title="keyword">as</span> <span class="id" title="var">plugins.field.F_R</span>.<br/>
</div>
    <div id="sidebarWrapper">
      <div id="sidebar">
        <div class="block">
          <h2 class="title">Navigation</h2>
          <div class="content">
            <ul class="menu">
              <li class="leaf">Standard Library
                <ul class="menu">
                  <li><a href="index.html">Table of contents</a></li>
                  <li><a href="genindex.html">Index</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div id="footer">
    <div id="nav-footer">
      <ul class="links-menu-footer">
        <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
        <li><a href="http://validator.w3.org/">xhtml valid</a></li>
        <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
      </ul>
    </div>
  </div>

</div>

</body>
</html>
