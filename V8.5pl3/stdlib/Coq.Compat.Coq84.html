<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/coq/coqdoc.css" />

<title>Standard Library | The Coq Proof Assistant</title>

</head>

<body>

<div id="container">
  <div id="headertop">
    <div id="nav">
      <ul class="links-menu">
        <li><a href="/" class="active">Home</a></li>
        <li><a href="/about-coq" title="More about coq">About Coq</a></li>
        <li><a href="/download">Get Coq</a></li>
        <li><a href="/documentation">Documentation</a></li>
        <li><a href="/community">Community</a></li>
      </ul>
    </div>
  </div>

  <div id="header">
    <div id="logoWrapper">
      <div id="logo"><a href="/" title="Home"><img src="/files/barron_logo.png" alt="Home" /></a>
      </div>
      <div id="siteName"><a href="/" title="Home">The Coq Proof Assistant</a>
      </div>
    </div>
  </div>

  <div id="content">

<h1 class="libtitle">Library Coq.Compat.Coq84</h1>

<div class="code">

<br/>
</div>

<div class="doc">
Compatibility file for making Coq act similar to Coq v8.4  See https://coq.inria.fr/bugs/show_bug.cgi?id=4319 for updates  This is required in Coq 8.5 to use the <span class="inlinecode"><span class="id" title="tactic">omega</span></span> tactic; in Coq 8.4, it's automatically available.  But ZArith_base puts infix ~ at level 7, and we don't want that, so we don't <span class="inlinecode"><span class="id" title="keyword">Import</span></span> it. 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <a class="idref" href="Coq.omega.Omega.html#"><span class="id" title="library">Coq.omega.Omega</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="tactic">omega</span> := <span class="id" title="var">Coq.omega.Omega.omega</span>.<br/>

<br/>
</div>

<div class="doc">
The number of arguments given in <span class="inlinecode"><span class="id" title="keyword">match</span></span> statements has changed from 8.4 to 8.5. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
The automatic elimination schemes for records were dropped by default in 8.5.  This restores the default behavior of Coq 8.4. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
See bug 3545 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
In 8.4, <span class="inlinecode"><span class="id" title="tactic">constructor</span></span> <span class="inlinecode">(<span class="id" title="var">tac</span>)</span> allowed backtracking across the use of <span class="inlinecode"><span class="id" title="tactic">constructor</span></span>; it has been subsumed by <span class="inlinecode"><span class="id" title="tactic">constructor</span>;</span> <span class="inlinecode"><span class="id" title="var">tac</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">constructor_84_n</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">constructor</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">constructor_84_tac</span> <span class="id" title="var">tac</span> := <span class="id" title="var">once</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="var">tac</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "constructor" := <span class="id" title="var">Coq.Init.Notations.constructor</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "constructor" <span class="id" title="var">int_or_var</span>(<span class="id" title="var">n</span>) := <span class="id" title="var">constructor_84_n</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "constructor" "(" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) ")" := <span class="id" title="var">constructor_84_tac</span> <span class="id" title="var">tac</span>.<br/>

<br/>
</div>

<div class="doc">
In 8.4, <span class="inlinecode"><span class="id" title="tactic">econstructor</span></span> <span class="inlinecode">(<span class="id" title="var">tac</span>)</span> allowed backtracking across the use of <span class="inlinecode"><span class="id" title="tactic">econstructor</span></span>; it has been subsumed by <span class="inlinecode"><span class="id" title="tactic">econstructor</span>;</span> <span class="inlinecode"><span class="id" title="var">tac</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">econstructor_84_n</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">econstructor</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">econstructor_84_tac</span> <span class="id" title="var">tac</span> := <span class="id" title="var">once</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tac</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "econstructor" := <span class="id" title="var">Coq.Init.Notations.econstructor</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "econstructor" <span class="id" title="var">int_or_var</span>(<span class="id" title="var">n</span>) := <span class="id" title="var">econstructor_84_n</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "econstructor" "(" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) ")" := <span class="id" title="var">econstructor_84_tac</span> <span class="id" title="var">tac</span>.<br/>

<br/>
</div>

<div class="doc">
Some tactic notations do not factor well with tactics; we add global parsing entries for some tactics that would otherwise be overwritten by custom variants. See https://coq.inria.fr/bugs/show_bug.cgi?id=4392. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "reflexivity" := <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "assumption" := <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "etransitivity" := <span class="id" title="var">etransitivity</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "cut" <span class="id" title="keyword">constr</span>(<span class="id" title="var">c</span>) := <span class="id" title="tactic">cut</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "exact_no_check" <span class="id" title="keyword">constr</span>(<span class="id" title="var">c</span>) := <span class="id" title="var">exact_no_check</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "vm_cast_no_check" <span class="id" title="keyword">constr</span>(<span class="id" title="var">c</span>) := <span class="id" title="var">vm_cast_no_check</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "casetype" <span class="id" title="keyword">constr</span>(<span class="id" title="var">c</span>) := <span class="id" title="var">casetype</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "elimtype" <span class="id" title="keyword">constr</span>(<span class="id" title="var">c</span>) := <span class="id" title="tactic">elimtype</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "lapply" <span class="id" title="keyword">constr</span>(<span class="id" title="var">c</span>) := <span class="id" title="var">lapply</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "transitivity" <span class="id" title="keyword">constr</span>(<span class="id" title="var">c</span>) := <span class="id" title="tactic">transitivity</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "left" := <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "eleft" := <span class="id" title="var">eleft</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "right" := <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "eright" := <span class="id" title="var">eright</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "symmetry" := <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "split" := <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "esplit" := <span class="id" title="var">esplit</span>.<br/>

<br/>
</div>

<div class="doc">
Many things now import <span class="inlinecode"><span class="id" title="var">PeanoNat</span></span> rather than <span class="inlinecode"><span class="id" title="var">NPeano</span></span>, so we require it so that the old absolute names in <span class="inlinecode"><span class="id" title="var">NPeano.Nat</span></span> are available. 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <a class="idref" href="Coq.Numbers.Natural.Peano.NPeano.html#"><span class="id" title="library">Coq.Numbers.Natural.Peano.NPeano</span></a>.<br/>

<br/>
</div>

<div class="doc">
The following coercions were declared by default in Specif.v. 
</div>
<div class="code">
<span class="id" title="keyword">Coercion</span> <a class="idref" href="Coq.Init.Specif.html#sig_of_sig2"><span class="id" title="definition">sig_of_sig2</span></a> : <span class="id" title="var">sig2</span> &gt;-&gt; <span class="id" title="var">sig</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="Coq.Init.Specif.html#sigT_of_sigT2"><span class="id" title="definition">sigT_of_sigT2</span></a> : <span class="id" title="var">sigT2</span> &gt;-&gt; <span class="id" title="var">sigT</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="Coq.Init.Specif.html#sigT_of_sig"><span class="id" title="definition">sigT_of_sig</span></a> : <span class="id" title="var">sig</span> &gt;-&gt; <span class="id" title="var">sigT</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="Coq.Init.Specif.html#sig_of_sigT"><span class="id" title="definition">sig_of_sigT</span></a> : <span class="id" title="var">sigT</span> &gt;-&gt; <span class="id" title="var">sig</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="Coq.Init.Specif.html#sigT2_of_sig2"><span class="id" title="definition">sigT2_of_sig2</span></a> : <span class="id" title="var">sig2</span> &gt;-&gt; <span class="id" title="var">sigT2</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="Coq.Init.Specif.html#sig2_of_sigT2"><span class="id" title="definition">sig2_of_sigT2</span></a> : <span class="id" title="var">sigT2</span> &gt;-&gt; <span class="id" title="var">sig2</span>.<br/>

<br/>
</div>

<div class="doc">
As per bug 4733 (https://coq.inria.fr/bugs/show_bug.cgi?id=4733), we want the user to be able to create custom list-like notatoins that work in both 8.4 and 8.5.  This is necessary.  These should become compat 8.4 notations in the relevant files, but these modify the parser (bug 4798), so this cannot happen until that bug is fixed. 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <a class="idref" href="Coq.Lists.List.html#"><span class="id" title="library">Coq.Lists.List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Coq.Vectors.VectorDef.html#"><span class="id" title="library">Coq.Vectors.VectorDef</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="2a032aca260635fca0f0c1139278a01b"><span class="id" title="notation">&quot;</span></a> [ x ; .. ; y ] " := (<a class="idref" href="Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">x</span> .. (<a class="idref" href="Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">y</span> <a class="idref" href="Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) ..) : <span class="id" title="var">list_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="f2a4d845a3a2c9fdf303800f820249de"><span class="id" title="notation">&quot;</span></a> [ x ; .. ; y ] " := (<a class="idref" href="Coq.Vectors.VectorDef.html#cons"><span class="id" title="constructor">VectorDef.cons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> .. (<a class="idref" href="Coq.Vectors.VectorDef.html#cons"><span class="id" title="constructor">VectorDef.cons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> (<a class="idref" href="Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">_</span>)) ..) : <span class="id" title="var">vector_scope</span>.<br/>

<br/>
</div>

<div class="doc">
In 8.4, the statement of admitted lemmas did not depend on the section
    variables. 
</div>
<div class="code">
</div>
    <div id="sidebarWrapper">
      <div id="sidebar">
        <div class="block">
          <h2 class="title">Navigation</h2>
          <div class="content">
            <ul class="menu">
              <li class="leaf">Standard Library
                <ul class="menu">
                  <li><a href="index.html">Table of contents</a></li>
                  <li><a href="genindex.html">Index</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div id="footer">
    <div id="nav-footer">
      <ul class="links-menu-footer">
        <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
        <li><a href="http://validator.w3.org/">xhtml valid</a></li>
        <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
      </ul>
    </div>
  </div>

</div>

</body>
</html>
