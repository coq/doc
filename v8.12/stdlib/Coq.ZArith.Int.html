<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/node/node.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/defaults.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/system/system.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/modules/user/user.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/style.css" />
<link type="text/css" rel="stylesheet" media="all" href="//coq.inria.fr/sites/all/themes/coq/coqdoc.css" />

<title>Standard Library | The Coq Proof Assistant</title>

</head>

<body>

<div id="container">
  <div id="headertop">
    <div id="nav">
      <ul class="links-menu">
        <li><a href="//coq.inria.fr/" class="active">Home</a></li>
        <li><a href="//coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>
        <li><a href="//coq.inria.fr/download">Get Coq</a></li>
        <li><a href="//coq.inria.fr/documentation">Documentation</a></li>
        <li><a href="//coq.inria.fr/community">Community</a></li>
      </ul>
    </div>
  </div>

  <div id="header">
    <div id="logoWrapper">
      <div id="logo"><a href="//coq.inria.fr/" title="Home"><img src="//coq.inria.fr/files/barron_logo.png" alt="Home" /></a>
      </div>
      <div id="siteName"><a href="//coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
      </div>
    </div>
  </div>

  <div id="content">

<h1 class="libtitle">Library Coq.ZArith.Int</h1>

<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab989"></a><h1 class="section">An light axiomatization of integers (used in MSetAVL).</h1>

<div class="paragraph"> </div>

 We define a signature for an integer datatype based on <span class="inlinecode"><span class="id" title="var">Z</span></span>.
    The goal is to allow a switch after extraction to ocaml's
    <span class="inlinecode"><span class="id" title="var">big_int</span></span> or even <span class="inlinecode"><span class="id" title="var">int</span></span> when finiteness isn't a problem
    (typically : when measuring the height of an AVL tree).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">BinInt</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Int_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">I</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Int_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab990"></a><h1 class="section">A specification of integers</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">Int</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">t</span> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">i2z</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">Z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">_0</span> : <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">_1</span> : <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">_2</span> : <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">_3</span> : <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">add</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">opp</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">sub</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">mul</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <span class="id" title="var">max</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;0" := <span class="id" title="var">_0</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;1" := <span class="id" title="var">_1</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;2" := <span class="id" title="var">_2</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;3" := <span class="id" title="var">_3</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;+" := <span class="id" title="var">add</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;-" := <span class="id" title="var">sub</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;*" := <span class="id" title="var">mul</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;- x" := (<span class="id" title="var">opp</span> <span class="id" title="var">x</span>) : <span class="id" title="var">Int_scope</span>.<br/>

<br/>
</div>

<div class="doc">
For logical relations, we can rely on their counterparts in Z,
      since they don't appear after extraction. Moreover, using tactics
      like omega is easier this way. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x == y" := (<span class="id" title="var">i2z</span> <span class="id" title="var">x</span> = <span class="id" title="var">i2z</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &lt;= y" := (<span class="id" title="var">i2z</span> <span class="id" title="var">x</span> &lt;= <span class="id" title="var">i2z</span> <span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &lt; y" := (<span class="id" title="var">i2z</span> <span class="id" title="var">x</span> &lt; <span class="id" title="var">i2z</span> <span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &gt;= y" := (<span class="id" title="var">i2z</span> <span class="id" title="var">x</span> &gt;= <span class="id" title="var">i2z</span> <span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &gt; y" := (<span class="id" title="var">i2z</span> <span class="id" title="var">x</span> &gt; <span class="id" title="var">i2z</span> <span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &lt;= y &lt;= z" := (<span class="id" title="var">x</span> &lt;= <span class="id" title="var">y</span> /\ <span class="id" title="var">y</span> &lt;= <span class="id" title="var">z</span>) : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &lt;= y &lt; z" := (<span class="id" title="var">x</span> &lt;= <span class="id" title="var">y</span> /\ <span class="id" title="var">y</span> &lt; <span class="id" title="var">z</span>) : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &lt; y &lt; z" := (<span class="id" title="var">x</span> &lt; <span class="id" title="var">y</span> /\ <span class="id" title="var">y</span> &lt; <span class="id" title="var">z</span>) : <span class="id" title="var">Int_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;x &lt; y &lt;= z" := (<span class="id" title="var">x</span> &lt; <span class="id" title="var">y</span> /\ <span class="id" title="var">y</span> &lt;= <span class="id" title="var">z</span>) : <span class="id" title="var">Int_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Informative comparisons. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">eqb</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">ltb</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">leb</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;=?" := <span class="id" title="var">eqb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;&lt;?" := <span class="id" title="var">ltb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;&lt;=?" := <span class="id" title="var">leb</span>.<br/>

<br/>
</div>

<div class="doc">
For compatibility, some decidability fonctions (informative). 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">gt_le_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">t</span>, {<span class="id" title="var">x</span> &gt; <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt;= <span class="id" title="var">y</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">ge_lt_dec</span> :  <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">t</span>, {<span class="id" title="var">x</span> &gt;= <span class="id" title="var">y</span>} + {<span class="id" title="var">x</span> &lt; <span class="id" title="var">y</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">eq_dec</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">t</span>, { <span class="id" title="var">x</span> == <span class="id" title="var">y</span> } + {~ <span class="id" title="var">x</span>==<span class="id" title="var">y</span> }.<br/>

<br/>
</div>

<div class="doc">
Specifications 
<div class="paragraph"> </div>

 First, we ask <span class="inlinecode"><span class="id" title="var">i2z</span></span> to be injective. Said otherwise, our ad-hoc equality
      <span class="inlinecode">==</span> and the generic <span class="inlinecode">=</span> are in fact equivalent. We define <span class="inlinecode">==</span>
      nonetheless since the translation to <span class="inlinecode"><span class="id" title="var">Z</span></span> for using automatic tactic
      is easier. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_eq</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">t</span>, <span class="id" title="var">n</span> == <span class="id" title="var">p</span> -&gt; <span class="id" title="var">n</span> = <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
Then, we express the specifications of the above parameters using their
       Z counterparts. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_0</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_0</span> = 0%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_1</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_1</span> = 1%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_2</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_2</span> = 2%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_3</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_3</span> = 3%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_add</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>, <span class="id" title="var">i2z</span> (<span class="id" title="var">n</span> + <span class="id" title="var">p</span>) = (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span> + <span class="id" title="var">i2z</span> <span class="id" title="var">p</span>)%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_opp</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">i2z</span> (-<span class="id" title="var">n</span>) = (-<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>)%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_sub</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>, <span class="id" title="var">i2z</span> (<span class="id" title="var">n</span> - <span class="id" title="var">p</span>) = (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span> - <span class="id" title="var">i2z</span> <span class="id" title="var">p</span>)%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_mul</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>, <span class="id" title="var">i2z</span> (<span class="id" title="var">n</span> * <span class="id" title="var">p</span>) = (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span> * <span class="id" title="var">i2z</span> <span class="id" title="var">p</span>)%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_max</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>, <span class="id" title="var">i2z</span> (<span class="id" title="var">max</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>) = <span class="id" title="var">Z.max</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_eqb</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>, <span class="id" title="var">eqb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> = <span class="id" title="var">Z.eqb</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_ltb</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>, <span class="id" title="var">ltb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> = <span class="id" title="var">Z.ltb</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">i2z_leb</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>, <span class="id" title="var">leb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> = <span class="id" title="var">Z.leb</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Int</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab991"></a><h1 class="section">Facts and  tactics using <span class="inlinecode"><span class="id" title="var">Int</span></span></h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">MoreInt</span> (<span class="id" title="keyword">Import</span> <span class="id" title="var">I</span>:<span class="id" title="var">Int</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eqb_eq</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : (<span class="id" title="var">n</span> =? <span class="id" title="var">p</span>) = <span class="id" title="var">true</span> &lt;-&gt; <span class="id" title="var">n</span> == <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eqb_neq</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : (<span class="id" title="var">n</span> =? <span class="id" title="var">p</span>) = <span class="id" title="var">false</span> &lt;-&gt; ~(<span class="id" title="var">n</span> == <span class="id" title="var">p</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ltb_lt</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : (<span class="id" title="var">n</span> &lt;? <span class="id" title="var">p</span>) = <span class="id" title="var">true</span> &lt;-&gt; <span class="id" title="var">n</span> &lt; <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ltb_nlt</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : (<span class="id" title="var">n</span> &lt;? <span class="id" title="var">p</span>) = <span class="id" title="var">false</span> &lt;-&gt; ~(<span class="id" title="var">n</span> &lt; <span class="id" title="var">p</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">leb_le</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : (<span class="id" title="var">n</span> &lt;=? <span class="id" title="var">p</span>) = <span class="id" title="var">true</span> &lt;-&gt; <span class="id" title="var">n</span> &lt;= <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">leb_nle</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : (<span class="id" title="var">n</span> &lt;=? <span class="id" title="var">p</span>) = <span class="id" title="var">false</span> &lt;-&gt; ~(<span class="id" title="var">n</span> &lt;= <span class="id" title="var">p</span>).<br/>

<br/>
</div>

<div class="doc">
A magic (but costly) tactic that goes from <span class="inlinecode"><span class="id" title="var">int</span></span> back to the <span class="inlinecode"><span class="id" title="var">Z</span></span>
      friendly world ... 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Rewrite</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i2z_0</span> <span class="id" title="var">i2z_1</span> <span class="id" title="var">i2z_2</span> <span class="id" title="var">i2z_3</span> <span class="id" title="var">i2z_add</span> <span class="id" title="var">i2z_opp</span> <span class="id" title="var">i2z_sub</span> <span class="id" title="var">i2z_mul</span> <span class="id" title="var">i2z_max</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i2z_eqb</span> <span class="id" title="var">i2z_ltb</span> <span class="id" title="var">i2z_leb</span> : <span class="id" title="var">i2z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">i2z</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">a</span> = ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="tactic">f_equal</span> <span class="id" title="var">i2z</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">i2z</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">a</span> = ?<span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">i2z_eq</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">i2z</span>; <span class="id" title="var">i2z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">i2z</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">try</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">i2z</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A reflexive version of the <span class="inlinecode"><span class="id" title="var">i2z</span></span> tactic 
<div class="paragraph"> </div>

 this <span class="inlinecode"><span class="id" title="var">i2z_refl</span></span> is actually weaker than <span class="inlinecode"><span class="id" title="var">i2z</span></span>. For instance, if a
      <span class="inlinecode"><span class="id" title="var">i2z</span></span> is buried deep inside a subterm, <span class="inlinecode"><span class="id" title="var">i2z_refl</span></span> may miss it.
      See also the limitation about <span class="inlinecode"><span class="id" title="keyword">Set</span></span> or <span class="inlinecode"><span class="id" title="keyword">Type</span></span> part below.
      Anyhow, <span class="inlinecode"><span class="id" title="var">i2z_refl</span></span> is enough for applying <span class="inlinecode"><span class="id" title="var">romega</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">i2z_gen</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">a</span> = ?<span class="id" title="var">b</span> =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">i2z_eq</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>); <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">a</span> = ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="tactic">f_equal</span> <span class="id" title="var">i2z</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">eq</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">Z</span>) ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">Z.lt</span> ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">Z.le</span> ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">Z.gt</span> ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">Z.ge</span> ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> -&gt; ?<span class="id" title="var">X</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">X</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">Type</span> =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">Prop</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> &lt;-&gt; <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> /\ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> \/ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : ~ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">i2z_gen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <span class="id" title="var">ExprI</span> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI0</span> : <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI1</span> : <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI2</span> : <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI3</span> : <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIadd</span> : <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIopp</span> : <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIsub</span> : <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EImul</span> : <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EImax</span> : <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprI</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIraw</span> : <span class="id" title="var">int</span> -&gt; <span class="id" title="var">ExprI</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <span class="id" title="var">ExprZ</span> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZadd</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZopp</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZsub</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZmul</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZmax</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZofI</span> : <span class="id" title="var">ExprI</span> -&gt; <span class="id" title="var">ExprZ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZraw</span> : <span class="id" title="var">Z</span> -&gt; <span class="id" title="var">ExprZ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <span class="id" title="var">ExprP</span> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPeq</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPlt</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPle</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPgt</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPge</span> : <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprZ</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPimpl</span> : <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPequiv</span> : <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPand</span> : <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPor</span> : <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPneg</span> : <span class="id" title="var">ExprP</span> -&gt; <span class="id" title="var">ExprP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPraw</span> : <span class="id" title="keyword">Prop</span> -&gt; <span class="id" title="var">ExprP</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">int</span></span> to <span class="inlinecode"><span class="id" title="var">ExprI</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">i2ei</span> <span class="id" title="var">trm</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">trm</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EI0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1 =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EI1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 2 =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EI2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 3 =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EI3</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EIadd</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> - ?<span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EIsub</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EImul</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">max</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EImax</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| - ?<span class="id" title="var">x</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EIopp</span> <span class="id" title="var">ex</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EIraw</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">Z</span></span> to <span class="inlinecode"><span class="id" title="var">ExprZ</span></span> 
</div>
<div class="code">
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">z2ez</span> <span class="id" title="var">trm</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">trm</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EZadd</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> - ?<span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EZsub</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EZmul</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">Z.max</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EZmax</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (- ?<span class="id" title="var">x</span>)%<span class="id" title="var">Z</span> =&gt;  <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EZopp</span> <span class="id" title="var">ex</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">i2z</span> ?<span class="id" title="var">x</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">i2ei</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EZofI</span> <span class="id" title="var">ex</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EZraw</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="keyword">Prop</span></span> to <span class="inlinecode"><span class="id" title="var">ExprP</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">p2ep</span> <span class="id" title="var">trm</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">trm</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> &lt;-&gt; ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPequiv</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> -&gt; ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPimpl</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> /\ ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPand</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> \/ ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPor</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (~ ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPneg</span> <span class="id" title="var">ex</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">eq</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">Z</span>) ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPeq</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> &lt; ?<span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPlt</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> &lt;= ?<span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPle</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPgt</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>)%<span class="id" title="var">Z</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ex</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ey</span> := <span class="id" title="var">z2ez</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPge</span> <span class="id" title="var">ex</span> <span class="id" title="var">ey</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> =&gt;  <span class="id" title="keyword">constr</span>:(<span class="id" title="var">EPraw</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExprI</span></span> to <span class="inlinecode"><span class="id" title="var">int</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">ei2i</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprI</span>) : <span class="id" title="var">int</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI0</span> =&gt; 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI1</span> =&gt; 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI2</span> =&gt; 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI3</span> =&gt; 3<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIadd</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ei2i</span> <span class="id" title="var">e1</span>)+(<span class="id" title="var">ei2i</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIsub</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ei2i</span> <span class="id" title="var">e1</span>)-(<span class="id" title="var">ei2i</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EImul</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ei2i</span> <span class="id" title="var">e1</span>)*(<span class="id" title="var">ei2i</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EImax</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">max</span> (<span class="id" title="var">ei2i</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">ei2i</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIopp</span> <span class="id" title="var">e</span> =&gt; -(<span class="id" title="var">ei2i</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIraw</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExprZ</span></span> to <span class="inlinecode"><span class="id" title="var">Z</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">ez2z</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprZ</span>) : <span class="id" title="var">Z</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZadd</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; ((<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>)+(<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZsub</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; ((<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>)-(<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZmul</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; ((<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>)*(<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZmax</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">Z.max</span> (<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZopp</span> <span class="id" title="var">e</span> =&gt; (-(<span class="id" title="var">ez2z</span> <span class="id" title="var">e</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZofI</span> <span class="id" title="var">e</span> =&gt; <span class="id" title="var">i2z</span> (<span class="id" title="var">ei2i</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZraw</span> <span class="id" title="var">z</span> =&gt; <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExprP</span></span> to <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">ep2p</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprP</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPeq</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>) = (<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPlt</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; ((<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>)&lt;(<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPle</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; ((<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>)&lt;=(<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPgt</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; ((<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>)&gt;(<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPge</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; ((<span class="id" title="var">ez2z</span> <span class="id" title="var">e1</span>)&gt;=(<span class="id" title="var">ez2z</span> <span class="id" title="var">e2</span>))%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPimpl</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ep2p</span> <span class="id" title="var">e1</span>) -&gt; (<span class="id" title="var">ep2p</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPequiv</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ep2p</span> <span class="id" title="var">e1</span>) &lt;-&gt; (<span class="id" title="var">ep2p</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPand</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ep2p</span> <span class="id" title="var">e1</span>) /\ (<span class="id" title="var">ep2p</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPor</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; (<span class="id" title="var">ep2p</span> <span class="id" title="var">e1</span>) \/ (<span class="id" title="var">ep2p</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPneg</span> <span class="id" title="var">e</span> =&gt; ~ (<span class="id" title="var">ep2p</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPraw</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExprI</span></span> (supposed under a <span class="inlinecode"><span class="id" title="var">i2z</span></span>) to a simplified <span class="inlinecode"><span class="id" title="var">ExprZ</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">norm_ei</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprI</span>) : <span class="id" title="var">ExprZ</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI0</span> =&gt; <span class="id" title="var">EZraw</span> (0%<span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI1</span> =&gt; <span class="id" title="var">EZraw</span> (1%<span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI2</span> =&gt; <span class="id" title="var">EZraw</span> (2%<span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EI3</span> =&gt; <span class="id" title="var">EZraw</span> (3%<span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIadd</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZadd</span> (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIsub</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZsub</span> (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EImul</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZmul</span> (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EImax</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZmax</span> (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIopp</span> <span class="id" title="var">e</span> =&gt; <span class="id" title="var">EZopp</span> (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EIraw</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">EZofI</span> (<span class="id" title="var">EIraw</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExprZ</span></span> to a simplified <span class="inlinecode"><span class="id" title="var">ExprZ</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">norm_ez</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprZ</span>) : <span class="id" title="var">ExprZ</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZadd</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZadd</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZsub</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZsub</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZmul</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZmul</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZmax</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EZmax</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZopp</span> <span class="id" title="var">e</span> =&gt; <span class="id" title="var">EZopp</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZofI</span> <span class="id" title="var">e</span> =&gt;  <span class="id" title="var">norm_ei</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EZraw</span> <span class="id" title="var">z</span> =&gt; <span class="id" title="var">EZraw</span> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExprP</span></span> to a simplified <span class="inlinecode"><span class="id" title="var">ExprP</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">norm_ep</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprP</span>) : <span class="id" title="var">ExprP</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPeq</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPeq</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPlt</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPlt</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPle</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPle</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPgt</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPgt</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPge</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPge</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPimpl</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPimpl</span> (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPequiv</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPequiv</span> (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPand</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPand</span> (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPor</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <span class="id" title="var">EPor</span> (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e1</span>) (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPneg</span> <span class="id" title="var">e</span> =&gt; <span class="id" title="var">EPneg</span> (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">EPraw</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">EPraw</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">norm_ei_correct</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprI</span>) : <span class="id" title="var">ez2z</span> (<span class="id" title="var">norm_ei</span> <span class="id" title="var">e</span>) = <span class="id" title="var">i2z</span> (<span class="id" title="var">ei2i</span> <span class="id" title="var">e</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">norm_ez_correct</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprZ</span>) : <span class="id" title="var">ez2z</span> (<span class="id" title="var">norm_ez</span> <span class="id" title="var">e</span>) = <span class="id" title="var">ez2z</span> <span class="id" title="var">e</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">norm_ep_correct</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprP</span>) : <span class="id" title="var">ep2p</span> (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e</span>) &lt;-&gt; <span class="id" title="var">ep2p</span> <span class="id" title="var">e</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">norm_ep_correct2</span> (<span class="id" title="var">e</span>:<span class="id" title="var">ExprP</span>) : <span class="id" title="var">ep2p</span> (<span class="id" title="var">norm_ep</span> <span class="id" title="var">e</span>) -&gt; <span class="id" title="var">ep2p</span> <span class="id" title="var">e</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">i2z_refl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i2z_gen</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- ?<span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="var">p2ep</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">ep2p</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">apply</span> <span class="id" title="var">norm_ep_correct2</span>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">MoreInt</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab992"></a><h1 class="section">An implementation of <span class="inlinecode"><span class="id" title="var">Int</span></span></h1>

<div class="paragraph"> </div>

 It's always nice to know that our <span class="inlinecode"><span class="id" title="var">Int</span></span> interface is realizable :-) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">Z_as_Int</span> &lt;: <span class="id" title="var">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">t</span> := <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">_0</span> := 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">_1</span> := 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">_2</span> := 2.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">_3</span> := 3.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">add</span> := <span class="id" title="var">Z.add</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">opp</span> := <span class="id" title="var">Z.opp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sub</span> := <span class="id" title="var">Z.sub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">mul</span> := <span class="id" title="var">Z.mul</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">max</span> := <span class="id" title="var">Z.max</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">eqb</span> := <span class="id" title="var">Z.eqb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ltb</span> := <span class="id" title="var">Z.ltb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">leb</span> := <span class="id" title="var">Z.leb</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">eq_dec</span> := <span class="id" title="var">Z.eq_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">gt_le_dec</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> : {<span class="id" title="var">i</span> &gt; <span class="id" title="var">j</span>} + { <span class="id" title="var">i</span> &lt;= <span class="id" title="var">j</span> }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ge_lt_dec</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> : {<span class="id" title="var">i</span> &gt;= <span class="id" title="var">j</span>} + { <span class="id" title="var">i</span> &lt; <span class="id" title="var">j</span> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">i2z</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">Z</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_eq</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">n</span> = <span class="id" title="var">i2z</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">n</span> = <span class="id" title="var">p</span>.  <br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_0</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_0</span> = 0.  <br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_1</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_1</span> = 1.  <br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_2</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_2</span> = 2.  <br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_3</span> : <span class="id" title="var">i2z</span> <span class="id" title="var">_3</span> = 3.  <br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_add</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">i2z</span> (<span class="id" title="var">n</span> + <span class="id" title="var">p</span>) = <span class="id" title="var">i2z</span> <span class="id" title="var">n</span> + <span class="id" title="var">i2z</span> <span class="id" title="var">p</span>.<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_opp</span> <span class="id" title="var">n</span> : <span class="id" title="var">i2z</span> (- <span class="id" title="var">n</span>) = - <span class="id" title="var">i2z</span> <span class="id" title="var">n</span>.<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_sub</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">i2z</span> (<span class="id" title="var">n</span> - <span class="id" title="var">p</span>) = <span class="id" title="var">i2z</span> <span class="id" title="var">n</span> - <span class="id" title="var">i2z</span> <span class="id" title="var">p</span>.<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_mul</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">i2z</span> (<span class="id" title="var">n</span> * <span class="id" title="var">p</span>) = <span class="id" title="var">i2z</span> <span class="id" title="var">n</span> * <span class="id" title="var">i2z</span> <span class="id" title="var">p</span>.<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_max</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">i2z</span> (<span class="id" title="var">max</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>) = <span class="id" title="var">Z.max</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_eqb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">eqb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> = <span class="id" title="var">Z.eqb</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_leb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">leb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> = <span class="id" title="var">Z.leb</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">i2z_ltb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> : <span class="id" title="var">ltb</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> = <span class="id" title="var">Z.ltb</span> (<span class="id" title="var">i2z</span> <span class="id" title="var">n</span>) (<span class="id" title="var">i2z</span> <span class="id" title="var">p</span>).<br/>
 
<br/>
</div>

<div class="doc">
Compatibility notations for Coq v8.4 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">plus</span> := <span class="id" title="var">add</span> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">minus</span> := <span class="id" title="var">sub</span> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">mult</span> := <span class="id" title="var">mul</span> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Z_as_Int</span>.<br/>
</div>
    <div id="sidebarWrapper">
      <div id="sidebar">
        <div class="block">
          <h2 class="title">Navigation</h2>
          <div class="content">
            <ul class="menu">
              <li class="leaf">Standard Library
                <ul class="menu">
                  <li><a href="index.html">Table of contents</a></li>
                  <li><a href="genindex.html">Index</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div id="footer">
    <div id="nav-footer">
      <ul class="links-menu-footer">
        <li><a href="mailto:coq-www_@_inria.fr">webmaster</a></li>
        <li><a href="http://validator.w3.org/">xhtml valid</a></li>
        <li><a href="http://jigsaw.w3.org/css-validator/">CSS valid</a></li>
      </ul>
    </div>
  </div>

</div>

</body>
</html>
