<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tactic_matching (coq.Ltac_plugin.Tactic_matching)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">coq</a> &#x00BB; <a href="../index.html">Ltac_plugin</a> &#x00BB; Tactic_matching</nav><h1>Module <code>Ltac_plugin.Tactic_matching</code></h1></header><aside><p>This file extends Matching with the main logic for Ltac's (lazy)match and (lazy)match goal.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code><code> = </code><code>{</code><table class="record"><tr id="type-t.subst" class="anchored"><td class="def field"><a href="#type-t.subst" class="anchor"></a><code>subst : <a href="../../Constr_matching/index.html#type-bound_ident_map">Constr_matching.bound_ident_map</a> * <a href="../../Ltac_pretype/index.html#type-extended_patvar_map">Ltac_pretype.extended_patvar_map</a>;</code></td></tr><tr id="type-t.context" class="anchored"><td class="def field"><a href="#type-t.context" class="anchor"></a><code>context : <span><a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <a href="../../Names/Id/Map/index.html#type-t">Names.Id.Map.t</a></span>;</code></td></tr><tr id="type-t.terms" class="anchored"><td class="def field"><a href="#type-t.terms" class="anchor"></a><code>terms : <span><a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <a href="../../Names/Id/Map/index.html#type-t">Names.Id.Map.t</a></span>;</code></td></tr><tr id="type-t.lhs" class="anchored"><td class="def field"><a href="#type-t.lhs" class="anchor"></a><code>lhs : <span class="type-var">'a</span>;</code></td></tr></table><code>}</code></dt><dd><p><code>t</code> is the type of matching successes. It ultimately contains a <a href="../Tacexpr/index.html#type-glob_tactic_expr"><code>Tacexpr.glob_tactic_expr</code></a> representing the left-hand side of the corresponding matching rule, a matching substitution to be applied, a context substitution mapping identifier to context like those of <span class="xref-unresolved" title="unresolved reference to &quot;Matching.matching_result&quot;"><code>Matching</code>.matching_result</span>), and a <span class="xref-unresolved" title="unresolved reference to &quot;Term.constr&quot;"><a href="../../Term/index.html"><code>Term</code></a>.constr</span> substitution mapping corresponding to matched hypotheses.</p></dd></dl><dl><dt class="spec value" id="val-match_term"><a href="#val-match_term" class="anchor"></a><code><span class="keyword">val</span> match_term : <a href="../../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <span><span><span>(<a href="../../Constr_matching/index.html#type-binding_bound_vars">Constr_matching.binding_bound_vars</a> * <a href="../../Pattern/index.html#type-constr_pattern">Pattern.constr_pattern</a>, <a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a>)</span> <a href="../Tacexpr/index.html#type-match_rule">Tacexpr.match_rule</a></span> list</span> <span>&#45;&gt;</span> <span><span><a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a> <a href="index.html#type-t">t</a></span> <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></span></code></dt><dd><p><code>match_term env sigma term rules</code> matches the term <code>term</code> with the set of matching rules <code>rules</code>. The environment <code>env</code> and the evar_map <code>sigma</code> are not currently used, but avoid code duplication.</p></dd></dl><dl><dt class="spec value" id="val-match_goal"><a href="#val-match_goal" class="anchor"></a><code><span class="keyword">val</span> match_goal : <a href="../../Environ/index.html#type-env">Environ.env</a> <span>&#45;&gt;</span> <a href="../../Evd/index.html#type-evar_map">Evd.evar_map</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-named_context">EConstr.named_context</a> <span>&#45;&gt;</span> <a href="../../EConstr/index.html#type-constr">EConstr.constr</a> <span>&#45;&gt;</span> <span><span><span>(<a href="../../Constr_matching/index.html#type-binding_bound_vars">Constr_matching.binding_bound_vars</a> * <a href="../../Pattern/index.html#type-constr_pattern">Pattern.constr_pattern</a>, <a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a>)</span> <a href="../Tacexpr/index.html#type-match_rule">Tacexpr.match_rule</a></span> list</span> <span>&#45;&gt;</span> <span><span><a href="../Tacexpr/index.html#type-glob_tactic_expr">Tacexpr.glob_tactic_expr</a> <a href="index.html#type-t">t</a></span> <a href="../../Proofview/index.html#type-tactic">Proofview.tactic</a></span></code></dt><dd><p><code>match_goal env sigma hyps concl rules</code> matches the goal <code>hyps|-concl</code> with the set of matching rules <code>rules</code>. The environment <code>env</code> and the evar_map <code>sigma</code> are used to check convertibility for pattern variables shared between hypothesis patterns or the conclusion pattern.</p></dd></dl></div></body></html>