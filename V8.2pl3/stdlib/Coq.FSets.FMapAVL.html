<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Standard Library | The Coq Proof Assistant</title>

<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<style type="text/css" media="all">@import "/modules/node/node.css";</style>

<style type="text/css" media="all">@import "/modules/system/defaults.css";</style>
<style type="text/css" media="all">@import "/modules/system/system.css";</style>
<style type="text/css" media="all">@import "/modules/user/user.css";</style>

<style type="text/css" media="all">@import "/sites/all/themes/coq/style.css";</style>
<style type="text/css" media="all">@import "/sites/all/themes/coq/coqdoc.css";</style>

</head>

<body>

<div id="container">
<div id="headertop">
<div id="nav">
  <ul class="links-menu">
    <li><a href="http://coq.inria.fr/" class="active">Home</a></li>

    <li><a href="http://coq.inria.fr/about-coq" title="More about coq">About Coq</a></li>    
    <li><a href="http://coq.inria.fr/download">Get Coq</a></li>
    <li><a href="http://coq.inria.fr/documentation">Documentation</a></li>
    <li><a href="http://coq.inria.fr/community">Community</a></li>
  </ul>
</div>
</div>

<div id="header">

<div id="logoWrapper">

<div id="logo"><a href="http://coq.inria.fr/" title="Home"><img src="/files/barron_logo.png" alt="Home" /></a>
</div>
<div id="siteName"><a href="http://coq.inria.fr/" title="Home">The Coq Proof Assistant</a>
</div>

</div>
</div>

<div id="content">

<h1 class="libtitle">Library Coq.FSets.FMapAVL</h1>

<div class="code">

<br/>

<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab482"></a><h1 class="section">FMapAVL</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
This module implements maps using AVL trees.
    It follows the implementation from Ocaml's standard library. 

<br/> <br/>
    See the comments at the beginning of FSetAVL for more details.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Coq.FSets.FMapInterface.html#"><span class="id" type="library">FMapInterface</span></a> <a class="idref" href="Coq.FSets.FMapList.html#"><span class="id" type="library">FMapList</span></a> <a class="idref" href="Coq.ZArith.ZArith.html#"><span class="id" type="library">ZArith</span></a> <a class="idref" href="Coq.ZArith.Int.html#"><span class="id" type="library">Int</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
Notations and helper lemma about pairs 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Notation</span> "s #1" := (<a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> <span class="id" type="var">s</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 9, <span class="id" type="var">format</span> "s '#1'") : <span class="id" type="var">pair_scope</span>.<br/>
<span class="id" type="keyword">Notation</span> "s #2" := (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">s</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 9, <span class="id" type="var">format</span> "s '#2'") : <span class="id" type="var">pair_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab483"></a><h1 class="section">The Raw functor</h1>


<br/> <br/>
   Functor of pure functions + separate proofs of invariant 
   preservation 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Module</span> <a name="Raw"><span class="id" type="module">Raw</span></a> (<span class="id" type="keyword">Import</span> <span class="id" type="var">I</span>:Int)(X: <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedType</span></a>).<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Local</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">pair_scope</span>.<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Local</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">lazy_bool_scope</span>.<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Local</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">Int_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.key"><span class="id" type="definition">key</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#X.t"><span class="id" type="axiom">X.t</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab484"></a><h1 class="section">Trees</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Elt"><span class="id" type="section">Elt</span></a>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Elt.elt"><span class="id" type="variable">elt</span></a> : <span class="id" type="keyword">Type</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab485"></a><h1 class="section">Trees</h1>


<br/> <br/>
   The fifth field of <span class="inlinecode"><span class="id" type="var">Node</span></span> is the height of the tree 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Raw.tree"><span class="id" type="inductive">tree</span></a> :=<br/>
&nbsp;&nbsp;| <a name="Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#tree"><span class="id" type="inductive">tree</span></a><br/>
&nbsp;&nbsp;| <a name="Raw.Node"><span class="id" type="constructor">Node</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#tree"><span class="id" type="inductive">tree</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#tree"><span class="id" type="inductive">tree</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#I.int"><span class="id" type="axiom">int</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#tree"><span class="id" type="inductive">tree</span></a>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="Raw.t"><span class="id" type="abbreviation">t</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.tree"><span class="id" type="inductive">tree</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab486"></a><h1 class="section">Basic functions on trees: height and cardinal</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.height"><span class="id" type="definition">height</span></a> (<span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a>) : <a class="idref" href="Coq.FSets.FMapAVL.html#I.int"><span class="id" type="axiom">int</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; 0<br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span> =&gt; <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.cardinal"><span class="id" type="definition">cardinal</span></a> (<span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a>) : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; 0%nat<br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">r</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#cardinal"><span class="id" type="definition">cardinal</span></a> <span class="id" type="var">l</span> + <a class="idref" href="Coq.FSets.FMapAVL.html#cardinal"><span class="id" type="definition">cardinal</span></a> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab487"></a><h1 class="section">Empty Map</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.empty"><span class="id" type="definition">empty</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab488"></a><h1 class="section">Emptyness test</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.is_empty"><span class="id" type="definition">is_empty</span></a> <span class="id" type="var">m</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> | <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab489"></a><h1 class="section">Appartness</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" type="var">mem</span></span> function is deciding appartness. It exploits the <span class="inlinecode"><span class="id" type="var">bst</span></span> property
    to achieve logarithmic complexity. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">_</span> <span class="id" type="var">r</span> <span class="id" type="var">_</span> =&gt; <span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt</span> := <br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">_</span> =&gt; <span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab490"></a><h1 class="section">Helper functions</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">create</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">r</span></span> creates a node, assuming <span class="inlinecode"><span class="id" type="var">l</span></span> and <span class="inlinecode"><span class="id" type="var">r</span></span>
    to be balanced and <span class="inlinecode">|height <span class="id" type="var">l</span> - <span class="id" type="var">height</span> <span class="id" type="var">r</span>| &lt;= 2</span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> := <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#I.max"><span class="id" type="axiom">max</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">l</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">r</span>) + 1).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">bal</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span></span> acts as <span class="inlinecode"><span class="id" type="var">create</span></span>, but performs one step of
    rebalancing if necessary, i.e. assumes <span class="inlinecode">|height <span class="id" type="var">l</span> - <span class="id" type="var">height</span> <span class="id" type="var">r</span>| &lt;= 3</span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.assert_false"><span class="id" type="definition">assert_false</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">hl</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">l</span> <span class="id" type="keyword">in</span> <br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">hr</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">r</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Coq.FSets.FMapAVL.html#I.gt_le_dec"><span class="id" type="axiom">gt_le_dec</span></a> <span class="id" type="var">hl</span> (<span class="id" type="var">hr</span>+2) <span class="id" type="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">l</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.assert_false"><span class="id" type="definition">assert_false</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> <span class="id" type="var">lr</span> <span class="id" type="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Coq.FSets.FMapAVL.html#I.ge_lt_dec"><span class="id" type="axiom">ge_lt_dec</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">ll</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">lr</span>) <span class="id" type="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">lr</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">lr</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.assert_false"><span class="id" type="definition">assert_false</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">lrl</span> <span class="id" type="var">lrx</span> <span class="id" type="var">lrd</span> <span class="id" type="var">lrr</span> <span class="id" type="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> <span class="id" type="var">lrl</span>) <span class="id" type="var">lrx</span> <span class="id" type="var">lrd</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">lrr</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Coq.FSets.FMapAVL.html#I.gt_le_dec"><span class="id" type="axiom">gt_le_dec</span></a> <span class="id" type="var">hr</span> (<span class="id" type="var">hl</span>+2) <span class="id" type="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">r</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.assert_false"><span class="id" type="definition">assert_false</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">rl</span> <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span> <span class="id" type="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Coq.FSets.FMapAVL.html#I.ge_lt_dec"><span class="id" type="axiom">ge_lt_dec</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">rr</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.height"><span class="id" type="definition">height</span></a> <span class="id" type="var">rl</span>) <span class="id" type="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">rl</span>) <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">rl</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.assert_false"><span class="id" type="definition">assert_false</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">rll</span> <span class="id" type="var">rlx</span> <span class="id" type="var">rld</span> <span class="id" type="var">rlr</span> <span class="id" type="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">rll</span>) <span class="id" type="var">rlx</span> <span class="id" type="var">rld</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">rlr</span> <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab491"></a><h1 class="section">Insertion</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">m</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d'</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">l</span>) <span class="id" type="var">y</span> <span class="id" type="var">d'</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d'</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab492"></a><h1 class="section">Extraction of minimum binding</h1>


<br/> <br/>
  Morally, <span class="inlinecode"><span class="id" type="var">remove_min</span></span> is to be applied to a non-empty tree 
  <span class="inlinecode"><span class="id" type="var">t</span> = <span class="id" type="var">Node</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span></span>. Since we can't deal here with <span class="inlinecode"><span class="id" type="tactic">assert</span> <span class="id" type="var">false</span></span> 
  for <span class="inlinecode"><span class="id" type="var">t</span>=Leaf</span>, we pre-unpack <span class="inlinecode"><span class="id" type="var">t</span></span> (and forget about <span class="inlinecode"><span class="id" type="var">h</span></span>). 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a>*(key*elt) := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">l</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; (<span class="id" type="var">r</span>,(x,d))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> <span class="id" type="var">lr</span> <span class="id" type="var">lh</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">l'</span>,m) := <a class="idref" href="Coq.FSets.FMapAVL.html#remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> <span class="id" type="var">lr</span> <span class="id" type="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l'</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>, <span class="id" type="var">m</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab493"></a><h1 class="section">Merging two trees</h1>


<br/> <br/>
  <span class="inlinecode"><span class="id" type="var">merge</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span></span> builds the union of <span class="inlinecode"><span class="id" type="var">t1</span></span> and <span class="inlinecode"><span class="id" type="var">t2</span></span> assuming all elements
  of <span class="inlinecode"><span class="id" type="var">t1</span></span> to be smaller than all elements of <span class="inlinecode"><span class="id" type="var">t2</span></span>, and
  <span class="inlinecode">|height <span class="id" type="var">t1</span> - <span class="id" type="var">height</span> <span class="id" type="var">t2</span>| &lt;= 2</span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.merge"><span class="id" type="definition">merge</span></a> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> :=  <span class="id" type="keyword">match</span> <span class="id" type="var">s1</span>,s2 <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a>, <span class="id" type="var">_</span> =&gt; <span class="id" type="var">s2</span> <br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <span class="id" type="var">s1</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">h2</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">s2'</span>,(x,d)) =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">s1</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">s2'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab494"></a><h1 class="section">Deletion</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span>) <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.merge"><span class="id" type="definition">merge</span></a> <span class="id" type="var">l</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab495"></a><h1 class="section">join</h1>


<br/> <br/>
    Same as <span class="inlinecode"><span class="id" type="var">bal</span></span> but does not assume anything regarding heights of <span class="inlinecode"><span class="id" type="var">l</span></span> 
    and <span class="inlinecode"><span class="id" type="var">r</span></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">l</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">l</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.add"><span class="id" type="definition">add</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> <span class="id" type="var">lr</span> <span class="id" type="var">lh</span> =&gt; <span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">fix</span> <span class="id" type="var">join_aux</span> (<span class="id" type="var">r</span>:t) : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> := <span class="id" type="keyword">match</span> <span class="id" type="var">r</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt;  <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">rl</span> <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span> <span class="id" type="var">rh</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="Coq.FSets.FMapAVL.html#I.gt_le_dec"><span class="id" type="axiom">gt_le_dec</span></a> <span class="id" type="var">lh</span> (<span class="id" type="var">rh</span>+2) <span class="id" type="keyword">then</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#join"><span class="id" type="definition">join</span></a> <span class="id" type="var">lr</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <span class="id" type="keyword">if</span> <a class="idref" href="Coq.FSets.FMapAVL.html#I.gt_le_dec"><span class="id" type="axiom">gt_le_dec</span></a> <span class="id" type="var">rh</span> (<span class="id" type="var">lh</span>+2) <span class="id" type="keyword">then</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.bal"><span class="id" type="definition">bal</span></a> (<span class="id" type="var">join_aux</span> <span class="id" type="var">rl</span>) <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab496"></a><h1 class="section">Splitting</h1>


<br/> <br/>
    <span class="inlinecode"><span class="id" type="tactic">split</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span></span> returns a triple <span class="inlinecode">(<span class="id" type="var">l</span>, <span class="id" type="var">o</span>, <span class="id" type="var">r</span>)</span> where

<ul>
<li> <span class="inlinecode"><span class="id" type="var">l</span></span> is the set of elements of <span class="inlinecode"><span class="id" type="var">m</span></span> that are <span class="inlinecode">&lt; <span class="id" type="var">x</span></span>

</li>
<li> <span class="inlinecode"><span class="id" type="var">r</span></span> is the set of elements of <span class="inlinecode"><span class="id" type="var">m</span></span> that are <span class="inlinecode">&gt; <span class="id" type="var">x</span></span>

</li>
<li> <span class="inlinecode"><span class="id" type="var">o</span></span> is the result of <span class="inlinecode"><span class="id" type="var">find</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span></span>.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Record</span> <a name="Raw.triple"><span class="id" type="record">triple</span></a> := <a name="Raw.mktriple"><span class="id" type="constructor">mktriple</span></a> { <a name="Raw.t_left"><span class="id" type="projection">t_left</span></a>:t; <a name="Raw.t_opt"><span class="id" type="projection">t_opt</span></a>:option <span class="id" type="var">elt</span>; <a name="Raw.t_right"><span class="id" type="projection">t_right</span></a>:t }.<br/>
<span class="id" type="keyword">Notation</span> "&lt;&lt; l , b , r &gt;&gt;" := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.mktriple"><span class="id" type="constructor">mktriple</span></a> <span class="id" type="var">l</span> <span class="id" type="var">b</span> <span class="id" type="var">r</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 9).<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.triple"><span class="id" type="record">triple</span></a> := <span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; &lt;&lt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a>, <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> &gt;&gt;<br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <span class="id" type="keyword">let</span> (<span class="id" type="var">ll</span>,o,rl) := <a class="idref" href="Coq.FSets.FMapAVL.html#split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> <span class="id" type="keyword">in</span> &lt;&lt; <span class="id" type="var">ll</span>, <span class="id" type="var">o</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">rl</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; &lt;&lt; <span class="id" type="var">l</span>, <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span>, <span class="id" type="var">r</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <span class="id" type="keyword">let</span> (<span class="id" type="var">rl</span>,o,rr) := <a class="idref" href="Coq.FSets.FMapAVL.html#split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> <span class="id" type="keyword">in</span> &lt;&lt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">d</span> <span class="id" type="var">rl</span>, <span class="id" type="var">o</span>, <span class="id" type="var">rr</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab497"></a><h1 class="section">Concatenation</h1>


<br/> <br/>
   Same as <span class="inlinecode"><span class="id" type="var">merge</span></span> but does not assume anything about heights.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.concat"><span class="id" type="definition">concat</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m1</span>, <span class="id" type="var">m2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a>, <span class="id" type="var">_</span> =&gt; <span class="id" type="var">m2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> , <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <span class="id" type="var">m1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">m2'</span>,xd) := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">xd</span>#1 <span class="id" type="var">xd</span>#2 <span class="id" type="var">m2'</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab498"></a><h1 class="section">Elements</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">elements_tree_aux</span> <span class="id" type="var">acc</span> <span class="id" type="var">t</span></span> catenates the elements of <span class="inlinecode"><span class="id" type="var">t</span></span> in infix
    order to the list <span class="inlinecode"><span class="id" type="var">acc</span></span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.elements_aux"><span class="id" type="definition">elements_aux</span></a> (<span class="id" type="var">acc</span> : <a class="idref" href="Coq.Lists.List.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a>*elt)) <span class="id" type="var">m</span> : <a class="idref" href="Coq.Lists.List.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a>*elt) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <span class="id" type="var">acc</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#elements_aux"><span class="id" type="definition">elements_aux</span></a> ((<span class="id" type="var">x</span>,d) :: <a class="idref" href="Coq.FSets.FMapAVL.html#elements_aux"><span class="id" type="definition">elements_aux</span></a> <span class="id" type="var">acc</span> <span class="id" type="var">r</span>) <span class="id" type="var">l</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
then <span class="inlinecode"><span class="id" type="var">elements</span></span> is an instanciation with an empty <span class="inlinecode"><span class="id" type="var">acc</span></span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.elements"><span class="id" type="definition">elements</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.elements_aux"><span class="id" type="definition">elements_aux</span></a> <a class="idref" href="Coq.Lists.List.html#nil"><span class="id" type="constructor">nil</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab499"></a><h1 class="section">Fold</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.fold"><span class="id" type="definition">fold</span></a> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">f</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">A</span> -&gt; <span class="id" type="var">A</span>) (<span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a>) : <span class="id" type="var">A</span> -&gt; <span class="id" type="var">A</span> := <br/>
&nbsp;<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> =&gt; <span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <span class="id" type="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#fold"><span class="id" type="definition">fold</span></a> <span class="id" type="var">f</span> <span class="id" type="var">r</span> (<span class="id" type="var">f</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#fold"><span class="id" type="definition">fold</span></a> <span class="id" type="var">f</span> <span class="id" type="var">l</span> <span class="id" type="var">a</span>))<br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab500"></a><h1 class="section">Comparison</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Elt.cmp"><span class="id" type="variable">cmp</span></a> : <span class="id" type="var">elt</span>-&gt;elt-&gt;bool.<br/>

<br/>
</div>

<div class="doc">
<a name="lab501"></a><h2 class="section">Enumeration of the elements of a tree</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Raw.enumeration"><span class="id" type="inductive">enumeration</span></a> :=<br/>
&nbsp;| <span class="id" type="keyword">End</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#enumeration"><span class="id" type="inductive">enumeration</span></a><br/>
&nbsp;| <a name="Raw.More"><span class="id" type="constructor">More</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#enumeration"><span class="id" type="inductive">enumeration</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#enumeration"><span class="id" type="inductive">enumeration</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">cons</span> <span class="id" type="var">m</span> <span class="id" type="var">e</span></span> adds the elements of tree <span class="inlinecode"><span class="id" type="var">m</span></span> on the head of 
    enumeration <span class="inlinecode"><span class="id" type="var">e</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.cons"><span class="id" type="definition">cons</span></a> <span class="id" type="var">m</span> <span class="id" type="var">e</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.enumeration"><span class="id" type="inductive">enumeration</span></a> := <br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <span class="id" type="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#cons"><span class="id" type="definition">cons</span></a> <span class="id" type="var">l</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.More"><span class="id" type="constructor">More</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span>)<br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
One step of comparison of elements 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.equal_more"><span class="id" type="definition">equal_more</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> (<span class="id" type="var">cont</span>:enumeration-&gt;bool) <span class="id" type="var">e2</span> :=<br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">e2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;| <span class="id" type="keyword">End</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.More"><span class="id" type="constructor">More</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <span class="id" type="var">cmp</span> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span> &amp;&amp;&amp; <span class="id" type="var">cont</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.cons"><span class="id" type="definition">cons</span></a> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Comparison of left tree, middle element, then right tree 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.equal_cont"><span class="id" type="definition">equal_cont</span></a> <span class="id" type="var">m1</span> (<span class="id" type="var">cont</span>:enumeration-&gt;bool) <span class="id" type="var">e2</span> := <br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <span class="id" type="var">cont</span> <span class="id" type="var">e2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> <span class="id" type="var">r1</span> <span class="id" type="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#equal_cont"><span class="id" type="definition">equal_cont</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.equal_more"><span class="id" type="definition">equal_more</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#equal_cont"><span class="id" type="definition">equal_cont</span></a> <span class="id" type="var">r1</span> <span class="id" type="var">cont</span>)) <span class="id" type="var">e2</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Initial continuation 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.equal_end"><span class="id" type="definition">equal_end</span></a> <span class="id" type="var">e2</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">e2</span> <span class="id" type="keyword">with</span> <span class="id" type="keyword">End</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> | <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The complete comparison 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.equal"><span class="id" type="definition">equal</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.equal_cont"><span class="id" type="definition">equal_cont</span></a> <span class="id" type="var">m1</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.equal_end"><span class="id" type="definition">equal_end</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.cons"><span class="id" type="definition">cons</span></a> <span class="id" type="var">m2</span> <span class="id" type="keyword">End</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Elt"><span class="id" type="section">Elt</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="Raw.t"><span class="id" type="abbreviation">t</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.tree"><span class="id" type="inductive">tree</span></a>.<br/>
<span class="id" type="keyword">Notation</span> "&lt;&lt; l , b , r &gt;&gt;" := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.mktriple"><span class="id" type="constructor">mktriple</span></a> <span class="id" type="var">l</span> <span class="id" type="var">b</span> <span class="id" type="var">r</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 9).<br/>
<span class="id" type="keyword">Notation</span> "t #l" := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t_left"><span class="id" type="projection">t_left</span></a> <span class="id" type="var">t</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 9, <span class="id" type="var">format</span> "t '#l'").<br/>
<span class="id" type="keyword">Notation</span> "t #o" := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t_opt"><span class="id" type="projection">t_opt</span></a> <span class="id" type="var">t</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 9, <span class="id" type="var">format</span> "t '#o'").<br/>
<span class="id" type="keyword">Notation</span> "t #r" := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t_right"><span class="id" type="projection">t_right</span></a> <span class="id" type="var">t</span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 9, <span class="id" type="var">format</span> "t '#r'").<br/>

<br/>
</div>

<div class="doc">
<a name="lab502"></a><h1 class="section">Map</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.map"><span class="id" type="definition">map</span></a> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span> : <span class="id" type="keyword">Type</span>)(<span class="id" type="var">f</span> : <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">elt'</span>)(<span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>) : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt'</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a>   =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">l</span>) <span class="id" type="var">x</span> (<span class="id" type="var">f</span> <span class="id" type="var">d</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">r</span>) <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.mapi"><span class="id" type="definition">mapi</span></a> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span> : <span class="id" type="keyword">Type</span>)(<span class="id" type="var">f</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">elt'</span>)(<span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>) : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt'</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a>   =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#mapi"><span class="id" type="definition">mapi</span></a> <span class="id" type="var">f</span> <span class="id" type="var">l</span>) <span class="id" type="var">x</span> (<span class="id" type="var">f</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#mapi"><span class="id" type="definition">mapi</span></a> <span class="id" type="var">f</span> <span class="id" type="var">r</span>) <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab503"></a><h1 class="section">Map with removal</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.map_option"><span class="id" type="definition">map_option</span></a> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span> : <span class="id" type="keyword">Type</span>)(<span class="id" type="var">f</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt'</span>)(<span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt'</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">f</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d'</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.join"><span class="id" type="definition">join</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#map_option"><span class="id" type="definition">map_option</span></a> <span class="id" type="var">f</span> <span class="id" type="var">l</span>) <span class="id" type="var">x</span> <span class="id" type="var">d'</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#map_option"><span class="id" type="definition">map_option</span></a> <span class="id" type="var">f</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.concat"><span class="id" type="definition">concat</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#map_option"><span class="id" type="definition">map_option</span></a> <span class="id" type="var">f</span> <span class="id" type="var">l</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#map_option"><span class="id" type="definition">map_option</span></a> <span class="id" type="var">f</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab504"></a><h1 class="section">Optimized map2</h1>


<br/> <br/>
  Suggestion by B. Gregoire: a <span class="inlinecode"><span class="id" type="var">map2</span></span> function with specialized 
  arguments allowing to bypass some tree traversal. Instead of one 
  <span class="inlinecode"><span class="id" type="var">f0</span></span> of type <span class="inlinecode"><span class="id" type="var">key</span> -&gt; <span class="id" type="var">option</span> <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">option</span> <span class="id" type="var">elt'</span> -&gt; <span class="id" type="var">option</span> <span class="id" type="var">elt''</span></span>, 
  we ask here for: 

<ul>
<li> <span class="inlinecode"><span class="id" type="var">f</span></span> which is a specialisation of <span class="inlinecode"><span class="id" type="var">f0</span></span> when first option isn't <span class="inlinecode"><span class="id" type="var">None</span></span>

</li>
<li> <span class="inlinecode"><span class="id" type="var">mapl</span></span> treats a <span class="inlinecode"><span class="id" type="var">tree</span> <span class="id" type="var">elt</span></span> with <span class="inlinecode"><span class="id" type="var">f0</span></span> when second option is <span class="inlinecode"><span class="id" type="var">None</span></span>

</li>
<li> <span class="inlinecode"><span class="id" type="var">mapr</span></span> treats a <span class="inlinecode"><span class="id" type="var">tree</span> <span class="id" type="var">elt'</span></span> with <span class="inlinecode"><span class="id" type="var">f0</span></span> when first option is <span class="inlinecode"><span class="id" type="var">None</span></span>

</li>
</ul>

  The idea is that <span class="inlinecode"><span class="id" type="var">mapl</span></span> and <span class="inlinecode"><span class="id" type="var">mapr</span></span> can be instantaneous (e.g. 
  the identity or some constant function). 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Map2_opt"><span class="id" type="section">Map2_opt</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Map2_opt.elt"><span class="id" type="variable">elt</span></a> <a name="Raw.Map2_opt.elt'"><span class="id" type="variable">elt'</span></a> <a name="Raw.Map2_opt.elt''"><span class="id" type="variable">elt''</span></a> : <span class="id" type="keyword">Type</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Map2_opt.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt''</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Map2_opt.mapl"><span class="id" type="variable">mapl</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt''</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Map2_opt.mapr"><span class="id" type="variable">mapr</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt''</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.map2_opt"><span class="id" type="definition">map2_opt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> := <br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">m1</span>, <span class="id" type="var">m2</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a>, <span class="id" type="var">_</span> =&gt; <span class="id" type="var">mapr</span> <span class="id" type="var">m2</span> <br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> =&gt; <span class="id" type="var">mapl</span> <span class="id" type="var">m1</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> <span class="id" type="var">r1</span> <span class="id" type="var">h1</span>, <span class="id" type="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">l2'</span>,o2,r2') := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">m2</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">f</span> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> <span class="id" type="var">o2</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.join"><span class="id" type="definition">join</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#map2_opt"><span class="id" type="definition">map2_opt</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l2'</span>) <span class="id" type="var">x1</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#map2_opt"><span class="id" type="definition">map2_opt</span></a> <span class="id" type="var">r1</span> <span class="id" type="var">r2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.concat"><span class="id" type="definition">concat</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#map2_opt"><span class="id" type="definition">map2_opt</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l2'</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#map2_opt"><span class="id" type="definition">map2_opt</span></a> <span class="id" type="var">r1</span> <span class="id" type="var">r2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Map2_opt"><span class="id" type="section">Map2_opt</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab505"></a><h1 class="section">Map2</h1>


<br/> <br/>
    The <span class="inlinecode"><span class="id" type="var">map2</span></span> function of the Map interface can be implemented 
    via <span class="inlinecode"><span class="id" type="var">map2_opt</span></span> and <span class="inlinecode"><span class="id" type="var">map_option</span></span>.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Map2"><span class="id" type="section">Map2</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Map2.elt"><span class="id" type="variable">elt</span></a> <a name="Raw.Map2.elt'"><span class="id" type="variable">elt'</span></a> <a name="Raw.Map2.elt''"><span class="id" type="variable">elt''</span></a> : <span class="id" type="keyword">Type</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Map2.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt''</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.map2"><span class="id" type="definition">map2</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt''</span> := <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.map2_opt"><span class="id" type="definition">map2_opt</span></a> <br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> <span class="id" type="var">d</span> <span class="id" type="var">o</span> =&gt; <span class="id" type="var">f</span> (<a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span>) <span class="id" type="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.map_option"><span class="id" type="definition">map_option</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> <span class="id" type="var">d</span> =&gt; <span class="id" type="var">f</span> (<a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span>) <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.map_option"><span class="id" type="definition">map_option</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> <span class="id" type="var">d'</span> =&gt; <span class="id" type="var">f</span> <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d'</span>))).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Map2"><span class="id" type="section">Map2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab506"></a><h1 class="section">Invariants</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Invariants"><span class="id" type="section">Invariants</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Invariants.elt"><span class="id" type="variable">elt</span></a> : <span class="id" type="keyword">Type</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab507"></a><h2 class="section">Occurrence in a tree</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Raw.MapsTo"><span class="id" type="inductive">MapsTo</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a>)(<span class="id" type="var">e</span> : <span class="id" type="var">elt</span>) : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Raw.MapsRoot"><span class="id" type="constructor">MapsRoot</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>)<br/>
&nbsp;&nbsp;| <a name="Raw.MapsLeft"><span class="id" type="constructor">MapsLeft</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>)<br/>
&nbsp;&nbsp;| <a name="Raw.MapsRight"><span class="id" type="constructor">MapsRight</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Raw.In"><span class="id" type="inductive">In</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.key"><span class="id" type="definition">key</span></a>) : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Raw.InRoot"><span class="id" type="constructor">InRoot</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>)<br/>
&nbsp;&nbsp;| <a name="Raw.InLeft"><span class="id" type="constructor">InLeft</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>)<br/>
&nbsp;&nbsp;| <a name="Raw.InRight"><span class="id" type="constructor">InRight</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.In0"><span class="id" type="definition">In0</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span> := <span class="id" type="var">exists</span> <span class="id" type="var">e</span>:elt, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab508"></a><h2 class="section">Binary search trees</h2>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">lt_tree</span> <span class="id" type="var">x</span> <span class="id" type="var">s</span></span>: all elements in <span class="inlinecode"><span class="id" type="var">s</span></span> are smaller than <span class="inlinecode"><span class="id" type="var">x</span></span> 
   (resp. greater for <span class="inlinecode"><span class="id" type="var">gt_tree</span></span>) 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> := <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span>.<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> := <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">bst</span> <span class="id" type="var">t</span></span> : <span class="inlinecode"><span class="id" type="var">t</span></span> is a binary search tree 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Raw.bst"><span class="id" type="inductive">bst</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Raw.BSLeaf"><span class="id" type="constructor">BSLeaf</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;| <a name="Raw.BSNode"><span class="id" type="constructor">BSNode</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">r</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Invariants"><span class="id" type="section">Invariants</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab509"></a><h1 class="section">Correctness proofs, isolated in a sub-module</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Module</span> <a name="Proofs"><span class="id" type="module">Proofs</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Module</span> <a name="MX"><span class="id" type="module">MX</span></a> := <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedTypeFacts</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Module</span> <a name="PX"><span class="id" type="module">PX</span></a> := <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">KeyOrderedType</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Module</span> <a name="L"><span class="id" type="module">L</span></a> := <a class="idref" href="Coq.FSets.FMapList.html#"><span class="id" type="module">FMapList.Raw</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab510"></a><h1 class="section">Automation and dedicated tactics.</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="var">Constructors</span> <span class="id" type="var">tree</span> <span class="id" type="var">MapsTo</span> <span class="id" type="var">In</span> <span class="id" type="var">bst</span>.<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Unfold</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a>.<br/>

<br/>
<span class="id" type="keyword">Tactic Notation</span> "factornode" <span class="id" type="var">ident</span>(<span class="id" type="var">l</span>) <span class="id" type="var">ident</span>(<span class="id" type="var">x</span>) <span class="id" type="var">ident</span>(<span class="id" type="var">d</span>) <span class="id" type="var">ident</span>(<span class="id" type="var">r</span>) <span class="id" type="var">ident</span>(<span class="id" type="var">h</span>) <br/>
&nbsp;"as" <span class="id" type="var">ident</span>(<span class="id" type="var">s</span>) :=  <br/>
&nbsp;<span class="id" type="tactic">set</span> (<span class="id" type="var">s</span>:=Node <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) <span class="id" type="keyword">in</span> *; <span class="id" type="var">clearbody</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>.<br/>

<br/>
</div>

<div class="doc">
A tactic for cleaning hypothesis after use of functional induction. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">clearf</span> :=<br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| <span class="id" type="var">H</span> : (@<a class="idref" href="Coq.Init.Logic.html#eq"><span class="id" type="inductive">Logic.eq</span></a> (<a class="idref" href="Coq.FSets.OrderedType.html#Compare"><span class="id" type="inductive">Compare</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">clearf</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">H</span> : (@<a class="idref" href="Coq.Init.Logic.html#eq"><span class="id" type="inductive">Logic.eq</span></a> (<a class="idref" href="Coq.Init.Specif.html#sumbool"><span class="id" type="inductive">sumbool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">clearf</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="var">idtac</span><br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A tactic to repeat <span class="inlinecode"><span class="id" type="tactic">inversion_clear</span></span> on all hyps of the 
    form <span class="inlinecode">(<span class="id" type="var">f</span> (<span class="id" type="var">Node</span> ...))</span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">inv</span> <span class="id" type="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f <span class="id" type="var">_</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f <span class="id" type="var">_</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:f <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="var">idtac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">inv_all</span> <span class="id" type="var">f</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>: <span class="id" type="var">f</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>: <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>: <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>: <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion_clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">inv</span> <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="var">idtac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Helper tactic concerning order of elements. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">order</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;| <span class="id" type="var">U</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">_</span> ?s, <span class="id" type="var">V</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">_</span> ?s |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">generalize</span> (<span class="id" type="var">U</span> <span class="id" type="var">_</span> <span class="id" type="var">V</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">U</span>; <span class="id" type="var">order</span><br/>
&nbsp;| <span class="id" type="var">U</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">_</span> ?s, <span class="id" type="var">V</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">_</span> ?s |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">generalize</span> (<span class="id" type="var">U</span> <span class="id" type="var">_</span> <span class="id" type="var">V</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">U</span>; <span class="id" type="var">order</span><br/>
&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="var">MX.order</span><br/>
<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">intuition_in</span> := <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> (<span class="id" type="tactic">intuition</span>; <span class="id" type="var">inv</span> <span class="id" type="var">In</span>; <span class="id" type="var">inv</span> <span class="id" type="var">MapsTo</span>).<br/>

<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">join_tac</span> := <br/>
&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">ll</span> <span class="id" type="var">_</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> <span class="id" type="var">lr</span> <span class="id" type="var">Hlr</span> <span class="id" type="var">lh</span>]; <br/>
&nbsp;&nbsp;&nbsp;[ | <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">r</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">rl</span> <span class="id" type="var">Hrl</span> <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span> <span class="id" type="var">_</span> <span class="id" type="var">rh</span>]; <span class="id" type="tactic">unfold</span> <span class="id" type="var">join</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" type="tactic">destruct</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#I.gt_le_dec"><span class="id" type="axiom">gt_le_dec</span></a> <span class="id" type="var">lh</span> (<span class="id" type="var">rh</span>+2)); <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="keyword">match</span> <span class="id" type="var">goal</span> <span class="id" type="keyword">with</span> |- <span class="id" type="var">context</span> [ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> ?u ?v ?w ?z ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">z</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">lr</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">rl</span> <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span> <span class="id" type="var">rh</span>))); [ | <span class="id" type="tactic">auto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">destruct</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#I.gt_le_dec"><span class="id" type="axiom">gt_le_dec</span></a> <span class="id" type="var">rh</span> (<span class="id" type="var">lh</span>+2)); <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="keyword">match</span> <span class="id" type="var">goal</span> <span class="id" type="keyword">with</span> |- <span class="id" type="var">context</span> [ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> ?u ?v ?w ?z ] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">z</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.join"><span class="id" type="definition">join</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">ll</span> <span class="id" type="var">lx</span> <span class="id" type="var">ld</span> <span class="id" type="var">lr</span> <span class="id" type="var">lh</span>) <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">rl</span>) <span class="id" type="var">rx</span> <span class="id" type="var">rd</span> <span class="id" type="var">rr</span>); [ | <span class="id" type="tactic">auto</span>] <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ] ] ] ]; <span class="id" type="tactic">intros</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Proofs.Elt"><span class="id" type="section">Elt</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Elt.elt"><span class="id" type="variable">elt</span></a>:Type.<br/>
<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Types</span> <span class="id" type="var">m</span> <span class="id" type="var">r</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab511"></a><h1 class="section">Basic results about <span class="inlinecode"><span class="id" type="var">MapsTo</span></span>, <span class="inlinecode"><span class="id" type="var">In</span></span>, <span class="inlinecode"><span class="id" type="var">lt_tree</span></span>, <span class="inlinecode"><span class="id" type="var">gt_tree</span></span>, <span class="inlinecode"><span class="id" type="var">height</span></span></h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Facts about <span class="inlinecode"><span class="id" type="var">MapsTo</span></span> and <span class="inlinecode"><span class="id" type="var">In</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.MapsTo_In"><span class="id" type="lemma">MapsTo_In</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span>.<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo_In"><span class="id" type="lemma">MapsTo_In</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.In_MapsTo"><span class="id" type="lemma">In_MapsTo</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span> -&gt; <span class="id" type="var">exists</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.In_alt"><span class="id" type="lemma">In_alt</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In0"><span class="id" type="definition">In0</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.MapsTo_1"><span class="id" type="lemma">MapsTo_1</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Immediate</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo_1"><span class="id" type="lemma">MapsTo_1</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.In_1"><span class="id" type="lemma">In_1</span></a> : <br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.In_node_iff"><span class="id" type="lemma">In_node_iff</span></a> : <br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">l</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">r</span>.<br/>

<br/>
</div>

<div class="doc">
Results about <span class="inlinecode"><span class="id" type="var">lt_tree</span></span> and <span class="inlinecode"><span class="id" type="var">gt_tree</span></span> 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.lt_leaf"><span class="id" type="lemma">lt_leaf</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">elt</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.gt_leaf"><span class="id" type="lemma">gt_leaf</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Leaf"><span class="id" type="constructor">Leaf</span></a> <span class="id" type="var">elt</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.lt_tree_node"><span class="id" type="lemma">lt_tree_node</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span> <span class="id" type="var">h</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.gt_tree_node"><span class="id" type="lemma">gt_tree_node</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span> <span class="id" type="var">h</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>).<br/>

<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_leaf"><span class="id" type="lemma">lt_leaf</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_leaf"><span class="id" type="lemma">gt_leaf</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree_node"><span class="id" type="lemma">lt_tree_node</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree_node"><span class="id" type="lemma">gt_tree_node</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.lt_left"><span class="id" type="lemma">lt_left</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span> <span class="id" type="var">h</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.lt_right"><span class="id" type="lemma">lt_right</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span> <span class="id" type="var">h</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.gt_left"><span class="id" type="lemma">gt_left</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span> <span class="id" type="var">h</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.gt_right"><span class="id" type="lemma">gt_right</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">l</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span> <span class="id" type="var">h</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span>.<br/>

<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_left"><span class="id" type="lemma">lt_left</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_right"><span class="id" type="lemma">lt_right</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_left"><span class="id" type="lemma">gt_left</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_right"><span class="id" type="lemma">gt_right</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.lt_tree_not_in"><span class="id" type="lemma">lt_tree_not_in</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; ~ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.lt_tree_trans"><span class="id" type="lemma">lt_tree_trans</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.gt_tree_not_in"><span class="id" type="lemma">gt_tree_not_in</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; ~ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.gt_tree_trans"><span class="id" type="lemma">gt_tree_trans</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree_not_in"><span class="id" type="lemma">lt_tree_not_in</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree_trans"><span class="id" type="lemma">lt_tree_trans</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree_not_in"><span class="id" type="lemma">gt_tree_not_in</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree_trans"><span class="id" type="lemma">gt_tree_trans</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab512"></a><h1 class="section">Empty map</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.Proofs.Empty"><span class="id" type="definition">Empty</span></a> <span class="id" type="var">m</span> := <span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span>:key)(e:elt) , ~ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">a</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.empty_bst"><span class="id" type="lemma">empty_bst</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.empty"><span class="id" type="definition">empty</span></a> <span class="id" type="var">elt</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.empty_1"><span class="id" type="lemma">empty_1</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Empty"><span class="id" type="definition">Empty</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.empty"><span class="id" type="definition">empty</span></a> <span class="id" type="var">elt</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab513"></a><h1 class="section">Emptyness test</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.is_empty_1"><span class="id" type="lemma">is_empty_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Empty"><span class="id" type="definition">Empty</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.is_empty"><span class="id" type="definition">is_empty</span></a> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.is_empty_2"><span class="id" type="lemma">is_empty_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.is_empty"><span class="id" type="definition">is_empty</span></a> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Empty"><span class="id" type="definition">Empty</span></a> <span class="id" type="var">m</span>.<br/>
 
<br/>
</div>

<div class="doc">
<a name="lab514"></a><h1 class="section">Appartness</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.mem_1"><span class="id" type="lemma">mem_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.mem_2"><span class="id" type="lemma">mem_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_1"><span class="id" type="lemma">find_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_2"><span class="id" type="lemma">find_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_iff"><span class="id" type="lemma">find_iff</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_in"><span class="id" type="lemma">find_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> &lt;&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.in_find"><span class="id" type="lemma">in_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> &lt;&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_in_iff"><span class="id" type="lemma">find_in_iff</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> &lt;&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.not_find_iff"><span class="id" type="lemma">not_find_iff</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt;<br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> &lt;-&gt; ~In <span class="id" type="var">x</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_find"><span class="id" type="lemma">find_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">x</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span> &lt;-&gt; <br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">d</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span> = <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_mapsto_equiv"><span class="id" type="lemma">find_mapsto_equiv</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt;<br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span> &lt;-&gt; <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">d</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">m</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">m'</span>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.find_in_equiv"><span class="id" type="lemma">find_in_equiv</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab515"></a><h1 class="section">Helper functions</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.create_bst"><span class="id" type="lemma">create_bst</span></a> : <br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.create_bst"><span class="id" type="lemma">create_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.create_in"><span class="id" type="lemma">create_in</span></a> : <br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">y</span>,  <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">l</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">r</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.bal_bst"><span class="id" type="lemma">bal_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">r</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal_bst"><span class="id" type="lemma">bal_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.bal_in"><span class="id" type="lemma">bal_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">y</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">l</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">r</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.bal_mapsto"><span class="id" type="lemma">bal_mapsto</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.bal_find"><span class="id" type="lemma">bal_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">y</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt;<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bal"><span class="id" type="definition">bal</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>) = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab516"></a><h1 class="section">Insertion</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.add_in"><span class="id" type="lemma">add_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.add_bst"><span class="id" type="lemma">add_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.add_bst"><span class="id" type="lemma">add_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.add_1"><span class="id" type="lemma">add_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.add_2"><span class="id" type="lemma">add_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>, ~X.<span class="id" type="var">eq</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e'</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.add_3"><span class="id" type="lemma">add_3</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>, ~X.<span class="id" type="var">eq</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e'</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.add_find"><span class="id" type="lemma">add_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>) = <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e</span> | <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> <span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab517"></a><h1 class="section">Extraction of minimum binding</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_min_in"><span class="id" type="lemma">remove_min_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) &lt;-&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#2#1 \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#1.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_min_mapsto"><span class="id" type="lemma">remove_min_mapsto</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) &lt;-&gt; <br/>
&nbsp;&nbsp;&nbsp;((<a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#2#1) /\ <span class="id" type="var">e'</span> = (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#2#2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e'</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#1.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_min_bst"><span class="id" type="lemma">remove_min_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#1.<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min_bst"><span class="id" type="lemma">remove_min_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_min_gt_tree"><span class="id" type="lemma">remove_min_gt_tree</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#2#1 (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#1.<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min_gt_tree"><span class="id" type="lemma">remove_min_gt_tree</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_min_find"><span class="id" type="lemma">remove_min_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span> <span class="id" type="var">y</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span> <span class="id" type="var">h</span>) = <br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#2#1 <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#2#2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove_min"><span class="id" type="definition">remove_min</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">r</span>)#1<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab518"></a><h1 class="section">Merging two trees</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.merge_in"><span class="id" type="lemma">merge_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m2</span> -&gt; <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.merge"><span class="id" type="definition">merge</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m1</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m2</span>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.merge_mapsto"><span class="id" type="lemma">merge_mapsto</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m2</span> -&gt; <br/>
&nbsp;&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.merge"><span class="id" type="definition">merge</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m1</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m2</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.merge_bst"><span class="id" type="lemma">merge_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m2</span> -&gt; <br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">y1</span> <span class="id" type="var">y2</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y1</span> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y2</span> <span class="id" type="var">m2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y1</span> <span class="id" type="var">y2</span>) -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.merge"><span class="id" type="definition">merge</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab519"></a><h1 class="section">Deletion</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_in"><span class="id" type="lemma">remove_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>) &lt;-&gt; ~ <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> /\ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_bst"><span class="id" type="lemma">remove_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_1"><span class="id" type="lemma">remove_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; ~ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_2"><span class="id" type="lemma">remove_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; ~X.<span class="id" type="var">eq</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.remove_3"><span class="id" type="lemma">remove_3</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt;<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab520"></a><h1 class="section">join</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.join_in"><span class="id" type="lemma">join_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">y</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">l</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">r</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.join_bst"><span class="id" type="lemma">join_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">r</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.join_bst"><span class="id" type="lemma">join_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.join_find"><span class="id" type="lemma">join_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">y</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">r</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> <span class="id" type="var">r</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.join"><span class="id" type="definition">join</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>) = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.create"><span class="id" type="definition">create</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab521"></a><h1 class="section">split</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.split_in_1"><span class="id" type="lemma">split_in_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>, <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#l &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> /\ <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.split_in_2"><span class="id" type="lemma">split_in_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>, <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#r &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> /\ <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>).<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.split_in_3"><span class="id" type="lemma">split_in_3</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#o = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.split_bst"><span class="id" type="lemma">split_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#l /\ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#r.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.split_lt_tree"><span class="id" type="lemma">split_lt_tree</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.lt_tree"><span class="id" type="definition">lt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#l.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.split_gt_tree"><span class="id" type="lemma">split_gt_tree</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.gt_tree"><span class="id" type="definition">gt_tree</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#r.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.split_find"><span class="id" type="lemma">split_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> = <span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#l<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#o<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>)#r<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab522"></a><h1 class="section">Concatenation</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.concat_in"><span class="id" type="lemma">concat_in</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">y</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.concat"><span class="id" type="definition">concat</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m1</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m2</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.concat_bst"><span class="id" type="lemma">concat_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m2</span> -&gt; <br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">y1</span> <span class="id" type="var">y2</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y1</span> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y2</span> <span class="id" type="var">m2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y1</span> <span class="id" type="var">y2</span>) -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.concat"><span class="id" type="definition">concat</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.concat_bst"><span class="id" type="lemma">concat_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.concat_find"><span class="id" type="lemma">concat_find</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m2</span> -&gt; <br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">y1</span> <span class="id" type="var">y2</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y1</span> <span class="id" type="var">m1</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y2</span> <span class="id" type="var">m2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y1</span> <span class="id" type="var">y2</span>) -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.concat"><span class="id" type="definition">concat</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>) = <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m2</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span> | <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m1</span> <span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab523"></a><h1 class="section">Elements</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Notation</span> <a name="Raw.Proofs.eqk"><span class="id" type="abbreviation">eqk</span></a> := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.PX.eqk"><span class="id" type="definition">PX.eqk</span></a> (<span class="id" type="var">elt</span>:= <span class="id" type="var">elt</span>)).<br/>
<span class="id" type="keyword">Notation</span> <a name="Raw.Proofs.eqke"><span class="id" type="abbreviation">eqke</span></a> := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.PX.eqke"><span class="id" type="definition">PX.eqke</span></a> (<span class="id" type="var">elt</span>:= <span class="id" type="var">elt</span>)).<br/>
<span class="id" type="keyword">Notation</span> <a name="Raw.Proofs.ltk"><span class="id" type="abbreviation">ltk</span></a> := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.PX.ltk"><span class="id" type="definition">PX.ltk</span></a> (<span class="id" type="var">elt</span>:= <span class="id" type="var">elt</span>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_aux_mapsto"><span class="id" type="lemma">elements_aux_mapsto</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">acc</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <br/>
&nbsp;<a class="idref" href="Coq.Lists.SetoidList.html#InA"><span class="id" type="inductive">InA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.eqke"><span class="id" type="abbreviation">eqke</span></a> (<span class="id" type="var">x</span>,e) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements_aux"><span class="id" type="definition">elements_aux</span></a> <span class="id" type="var">acc</span> <span class="id" type="var">s</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">s</span> \/ <a class="idref" href="Coq.Lists.SetoidList.html#InA"><span class="id" type="inductive">InA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.eqke"><span class="id" type="abbreviation">eqke</span></a> (<span class="id" type="var">x</span>,e) <span class="id" type="var">acc</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_mapsto"><span class="id" type="lemma">elements_mapsto</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.Lists.SetoidList.html#InA"><span class="id" type="inductive">InA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.eqke"><span class="id" type="abbreviation">eqke</span></a> (<span class="id" type="var">x</span>,e) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">s</span>.<br/>
 
<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_in"><span class="id" type="lemma">elements_in</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.L.PX.In"><span class="id" type="definition">L.PX.In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span>) &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">s</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_aux_sort"><span class="id" type="lemma">elements_aux_sort</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">acc</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">s</span> -&gt; <a class="idref" href="Coq.Sorting.Sorting.html#sort"><span class="id" type="inductive">sort</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.ltk"><span class="id" type="abbreviation">ltk</span></a> <span class="id" type="var">acc</span> -&gt;<br/>
&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.Lists.SetoidList.html#InA"><span class="id" type="inductive">InA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.eqke"><span class="id" type="abbreviation">eqke</span></a> (<span class="id" type="var">x</span>,e) <span class="id" type="var">acc</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">s</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#X.lt"><span class="id" type="axiom">X.lt</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span>) -&gt;<br/>
&nbsp;<a class="idref" href="Coq.Sorting.Sorting.html#sort"><span class="id" type="inductive">sort</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.ltk"><span class="id" type="abbreviation">ltk</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements_aux"><span class="id" type="definition">elements_aux</span></a> <span class="id" type="var">acc</span> <span class="id" type="var">s</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_sort"><span class="id" type="lemma">elements_sort</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">s</span> -&gt; <a class="idref" href="Coq.Sorting.Sorting.html#sort"><span class="id" type="inductive">sort</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.ltk"><span class="id" type="abbreviation">ltk</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements_sort"><span class="id" type="lemma">elements_sort</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_nodup"><span class="id" type="lemma">elements_nodup</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">s</span> -&gt; <a class="idref" href="Coq.Lists.SetoidList.html#NoDupA"><span class="id" type="inductive">NoDupA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.eqk"><span class="id" type="abbreviation">eqk</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_aux_cardinal"><span class="id" type="lemma">elements_aux_cardinal</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">acc</span>, (<a class="idref" href="Coq.Lists.List.html#length"><span class="id" type="definition">length</span></a> <span class="id" type="var">acc</span> + <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.cardinal"><span class="id" type="definition">cardinal</span></a> <span class="id" type="var">m</span>)%nat = <a class="idref" href="Coq.Lists.List.html#length"><span class="id" type="definition">length</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements_aux"><span class="id" type="definition">elements_aux</span></a> <span class="id" type="var">acc</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_cardinal"><span class="id" type="lemma">elements_cardinal</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>:t <span class="id" type="var">elt</span>), <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.cardinal"><span class="id" type="definition">cardinal</span></a> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Lists.List.html#length"><span class="id" type="definition">length</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_app"><span class="id" type="lemma">elements_app</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">acc</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements_aux"><span class="id" type="definition">elements_aux</span></a> <span class="id" type="var">acc</span> <span class="id" type="var">s</span> = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span> ++ <span class="id" type="var">acc</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.elements_node"><span class="id" type="lemma">elements_node</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">t1</span> <span class="id" type="var">t2</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">z</span> <span class="id" type="var">l</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">t1</span> ++ (<span class="id" type="var">x</span>,e) :: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">t2</span> ++ <span class="id" type="var">l</span> =<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">t2</span> <span class="id" type="var">z</span>) ++ <span class="id" type="var">l</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab524"></a><h1 class="section">Fold</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.Proofs.fold'"><span class="id" type="definition">fold'</span></a> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">f</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">A</span> -&gt; <span class="id" type="var">A</span>)(<span class="id" type="var">s</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>) := <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.L.fold"><span class="id" type="definition">L.fold</span></a> <span class="id" type="var">f</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.fold_equiv_aux"><span class="id" type="lemma">fold_equiv_aux</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">s</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>) (<span class="id" type="var">f</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">A</span> -&gt; <span class="id" type="var">A</span>) (<span class="id" type="var">a</span> : <span class="id" type="var">A</span>) <span class="id" type="var">acc</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.L.fold"><span class="id" type="definition">L.fold</span></a> <span class="id" type="var">f</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements_aux"><span class="id" type="definition">elements_aux</span></a> <span class="id" type="var">acc</span> <span class="id" type="var">s</span>) <span class="id" type="var">a</span> = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.L.fold"><span class="id" type="definition">L.fold</span></a> <span class="id" type="var">f</span> <span class="id" type="var">acc</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.fold"><span class="id" type="definition">fold</span></a> <span class="id" type="var">f</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.fold_equiv"><span class="id" type="lemma">fold_equiv</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">s</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>) (<span class="id" type="var">f</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">A</span> -&gt; <span class="id" type="var">A</span>) (<span class="id" type="var">a</span> : <span class="id" type="var">A</span>),<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.fold"><span class="id" type="definition">fold</span></a> <span class="id" type="var">f</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.fold'"><span class="id" type="definition">fold'</span></a> <span class="id" type="var">f</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.fold_1"><span class="id" type="lemma">fold_1</span></a> : <br/>
&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span>:t <span class="id" type="var">elt</span>)(<span class="id" type="var">Hs</span>:bst <span class="id" type="var">s</span>)(<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>)(<span class="id" type="var">i</span>:A)(f : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">A</span> -&gt; <span class="id" type="var">A</span>),<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.fold"><span class="id" type="definition">fold</span></a> <span class="id" type="var">f</span> <span class="id" type="var">s</span> <span class="id" type="var">i</span> = <a class="idref" href="Coq.Lists.List.html#fold_left"><span class="id" type="definition">fold_left</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> <span class="id" type="var">p</span> =&gt; <span class="id" type="var">f</span> <span class="id" type="var">p</span>#1 <span class="id" type="var">p</span>#2 <span class="id" type="var">a</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span>) <span class="id" type="var">i</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab525"></a><h1 class="section">Comparison</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">flatten_e</span> <span class="id" type="var">e</span></span> returns the list of elements of the enumeration <span class="inlinecode"><span class="id" type="var">e</span></span> 
    i.e. the list of elements actually compared 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.enumeration"><span class="id" type="inductive">enumeration</span></a> <span class="id" type="var">elt</span>) : <a class="idref" href="Coq.Lists.List.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a>*elt) := <span class="id" type="keyword">match</span> <span class="id" type="var">e</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" type="keyword">End</span> =&gt; <a class="idref" href="Coq.Lists.List.html#nil"><span class="id" type="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.More"><span class="id" type="constructor">More</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">t</span> <span class="id" type="var">r</span> =&gt; (<span class="id" type="var">x</span>,e) :: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">t</span> ++ <a class="idref" href="Coq.FSets.FMapAVL.html#flatten_e"><span class="id" type="definition">flatten_e</span></a> <span class="id" type="var">r</span><br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.flatten_e_elements"><span class="id" type="lemma">flatten_e_elements</span></a> :<br/>
&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">l</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">r</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">z</span> <span class="id" type="var">e</span>,<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">l</span> ++ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.More"><span class="id" type="constructor">More</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">e</span>) = <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Node"><span class="id" type="constructor">Node</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">r</span> <span class="id" type="var">z</span>) ++ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> <span class="id" type="var">e</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.cons_1"><span class="id" type="lemma">cons_1</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span>:t <span class="id" type="var">elt</span>) <span class="id" type="var">e</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.cons"><span class="id" type="definition">cons</span></a> <span class="id" type="var">s</span> <span class="id" type="var">e</span>) = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span> ++ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> <span class="id" type="var">e</span>.<br/>

<br/>
</div>

<div class="doc">
Proof of correction for the comparison 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Elt.cmp"><span class="id" type="variable">cmp</span></a> : <span class="id" type="var">elt</span>-&gt;elt-&gt;bool.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> <span class="id" type="var">b</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.L.equal"><span class="id" type="definition">L.equal</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> = <span class="id" type="var">b</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.cons_IfEq"><span class="id" type="lemma">cons_IfEq</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">b</span> <span class="id" type="var">x1</span> <span class="id" type="var">x2</span> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x2</span> -&gt; <span class="id" type="var">cmp</span> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> <span class="id" type="var">b</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> <span class="id" type="var">b</span> ((<span class="id" type="var">x1</span>,d1)::l1) ((<span class="id" type="var">x2</span>,d2)::l2).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.equal_end_IfEq"><span class="id" type="lemma">equal_end_IfEq</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">e2</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.equal_end"><span class="id" type="definition">equal_end</span></a> <span class="id" type="var">e2</span>) <a class="idref" href="Coq.Lists.List.html#nil"><span class="id" type="constructor">nil</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> <span class="id" type="var">e2</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.equal_more_IfEq"><span class="id" type="lemma">equal_more_IfEq</span></a> : <br/>
&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> (<span class="id" type="var">cont</span>:enumeration <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>) <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> (<span class="id" type="var">cont</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.cons"><span class="id" type="definition">cons</span></a> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)) <span class="id" type="var">l</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">r2</span> ++ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> <span class="id" type="var">e2</span>) -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.equal_more"><span class="id" type="definition">equal_more</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> <span class="id" type="var">cont</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.More"><span class="id" type="constructor">More</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)) ((<span class="id" type="var">x1</span>,d1)::l)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.More"><span class="id" type="constructor">More</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.equal_cont_IfEq"><span class="id" type="lemma">equal_cont_IfEq</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">cont</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>, <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> (<span class="id" type="var">cont</span> <span class="id" type="var">e</span>) <span class="id" type="var">l</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> <span class="id" type="var">e</span>)) -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.equal_cont"><span class="id" type="definition">equal_cont</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m1</span> <span class="id" type="var">cont</span> <span class="id" type="var">e2</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m1</span> ++ <span class="id" type="var">l</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.flatten_e"><span class="id" type="definition">flatten_e</span></a> <span class="id" type="var">e2</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.equal_IfEq"><span class="id" type="lemma">equal_IfEq</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span>:t <span class="id" type="var">elt</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.IfEq"><span class="id" type="definition">IfEq</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.equal"><span class="id" type="definition">equal</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m1</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m2</span>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Raw.Proofs.Equivb"><span class="id" type="definition">Equivb</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> := <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">k</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m'</span>) /\ <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">k</span> <span class="id" type="var">e'</span> <span class="id" type="var">m'</span> -&gt; <span class="id" type="var">cmp</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.Equivb_elements"><span class="id" type="lemma">Equivb_elements</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span>, <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Equivb"><span class="id" type="definition">Equivb</span></a> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.L.Equivb"><span class="id" type="definition">L.Equivb</span></a> <span class="id" type="var">cmp</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">s'</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.equal_Equivb"><span class="id" type="lemma">equal_Equivb</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">s</span> <span class="id" type="var">s'</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>), <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">s</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">s'</span> -&gt; <br/>
&nbsp;&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.equal"><span class="id" type="definition">equal</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Equivb"><span class="id" type="definition">Equivb</span></a> <span class="id" type="var">s</span> <span class="id" type="var">s'</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Elt"><span class="id" type="section">Elt</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Proofs.Map"><span class="id" type="section">Map</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map.elt"><span class="id" type="variable">elt</span></a> <a name="Raw.Proofs.Map.elt'"><span class="id" type="variable">elt'</span></a> : <span class="id" type="keyword">Type</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map.f"><span class="id" type="variable">f</span></a> : <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">elt'</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map_1"><span class="id" type="lemma">map_1</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key)(e:elt), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> (<span class="id" type="var">f</span> <span class="id" type="var">e</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map_2"><span class="id" type="lemma">map_2</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map_bst"><span class="id" type="lemma">map_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Map"><span class="id" type="section">Map</span></a>.<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Proofs.Mapi"><span class="id" type="section">Mapi</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Mapi.elt"><span class="id" type="variable">elt</span></a> <a name="Raw.Proofs.Mapi.elt'"><span class="id" type="variable">elt'</span></a> : <span class="id" type="keyword">Type</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Mapi.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">elt'</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.mapi_1"><span class="id" type="lemma">mapi_1</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.tree"><span class="id" type="inductive">tree</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key)(e:elt), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <span class="id" type="var">exists</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> /\ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> (<span class="id" type="var">f</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.mapi"><span class="id" type="definition">mapi</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.mapi_2"><span class="id" type="lemma">mapi_2</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.mapi"><span class="id" type="definition">mapi</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.mapi_bst"><span class="id" type="lemma">mapi_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.mapi"><span class="id" type="definition">mapi</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Mapi"><span class="id" type="section">Mapi</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Proofs.Map_option"><span class="id" type="section">Map_option</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map_option.elt"><span class="id" type="variable">elt</span></a> <a name="Raw.Proofs.Map_option.elt'"><span class="id" type="variable">elt'</span></a> : <span class="id" type="keyword">Type</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map_option.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt'</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Raw.Proofs.Map_option.f_compat"><span class="id" type="variable">f_compat</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">x'</span> <span class="id" type="var">d</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x'</span> -&gt; <span class="id" type="var">f</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> = <span class="id" type="var">f</span> <span class="id" type="var">x'</span> <span class="id" type="var">d</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map_option_2"><span class="id" type="lemma">map_option_2</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>:t <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key), <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map_option"><span class="id" type="definition">map_option</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>) -&gt; <span class="id" type="var">exists</span> <span class="id" type="var">d</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.MapsTo"><span class="id" type="inductive">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">m</span> /\ <span class="id" type="var">f</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> &lt;&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map_option_bst"><span class="id" type="lemma">map_option_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map_option"><span class="id" type="definition">map_option</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map_option_bst"><span class="id" type="lemma">map_option_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">nonify</span> <span class="id" type="var">e</span> := <br/>
&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">e</span> <span class="id" type="keyword">with</span> (@<a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <span class="id" type="var">elt</span>) <span class="id" type="tactic">by</span> <br/>
&nbsp;&nbsp;(<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">rewrite</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.not_find_iff"><span class="id" type="lemma">not_find_iff</span></a>; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">intro</span>; <span class="id" type="var">order</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map_option_find"><span class="id" type="lemma">map_option_find</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span>:t <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key), <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map_option"><span class="id" type="definition">map_option</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>) = <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>) <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span> =&gt; <span class="id" type="var">f</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> | <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Map_option"><span class="id" type="section">Map_option</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Proofs.Map2_opt"><span class="id" type="section">Map2_opt</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map2_opt.elt"><span class="id" type="variable">elt</span></a> <a name="Raw.Proofs.Map2_opt.elt'"><span class="id" type="variable">elt'</span></a> <a name="Raw.Proofs.Map2_opt.elt''"><span class="id" type="variable">elt''</span></a> : <span class="id" type="keyword">Type</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map2_opt.f0"><span class="id" type="variable">f0</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt''</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map2_opt.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt''</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map2_opt.mapl"><span class="id" type="variable">mapl</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt''</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map2_opt.mapr"><span class="id" type="variable">mapr</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.t"><span class="id" type="abbreviation">t</span></a> <span class="id" type="var">elt''</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Raw.Proofs.Map2_opt.f0_f"><span class="id" type="variable">f0_f</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">o</span>, <span class="id" type="var">f</span> <span class="id" type="var">x</span> <span class="id" type="var">d</span> <span class="id" type="var">o</span> = <span class="id" type="var">f0</span> <span class="id" type="var">x</span> (<a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span>) <span class="id" type="var">o</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Raw.Proofs.Map2_opt.mapl_bst"><span class="id" type="variable">mapl_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<span class="id" type="var">mapl</span> <span class="id" type="var">m</span>).<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Raw.Proofs.Map2_opt.mapr_bst"><span class="id" type="variable">mapr_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<span class="id" type="var">mapr</span> <span class="id" type="var">m'</span>).<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Raw.Proofs.Map2_opt.mapl_f0"><span class="id" type="variable">mapl_f0</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> (<span class="id" type="var">mapl</span> <span class="id" type="var">m</span>) = <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span> =&gt; <span class="id" type="var">f0</span> <span class="id" type="var">x</span> (<a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d</span>) <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> | <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Raw.Proofs.Map2_opt.mapr_f0"><span class="id" type="variable">mapr_f0</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">m'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> (<span class="id" type="var">mapr</span> <span class="id" type="var">m'</span>) = <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d'</span> =&gt; <span class="id" type="var">f0</span> <span class="id" type="var">x</span> <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">d'</span>) | <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Hypothesis</span> <a name="Raw.Proofs.Map2_opt.f0_compat"><span class="id" type="variable">f0_compat</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">x'</span> <span class="id" type="var">o</span> <span class="id" type="var">o'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x'</span> -&gt; <span class="id" type="var">f0</span> <span class="id" type="var">x</span> <span class="id" type="var">o</span> <span class="id" type="var">o'</span> = <span class="id" type="var">f0</span> <span class="id" type="var">x'</span> <span class="id" type="var">o</span> <span class="id" type="var">o'</span>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="Raw.Proofs.map2_opt"><span class="id" type="abbreviation">map2_opt</span></a> := (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2_opt"><span class="id" type="definition">map2_opt</span></a> <span class="id" type="var">f</span> <span class="id" type="var">mapl</span> <span class="id" type="var">mapr</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map2_opt_2"><span class="id" type="lemma">map2_opt_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2_opt"><span class="id" type="abbreviation">map2_opt</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m'</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map2_opt_bst"><span class="id" type="lemma">map2_opt_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2_opt"><span class="id" type="abbreviation">map2_opt</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>).<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2_opt_bst"><span class="id" type="lemma">map2_opt_bst</span></a>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">map2_aux</span> := <br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">H</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> ?x <span class="id" type="var">_</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> ?x ?m, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H'</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> ?x ?m = <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> ?x ?m', <span class="id" type="var">B</span>:bst ?m, <span class="id" type="var">B'</span>:bst ?m' |- <span class="id" type="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>; [ <span class="id" type="var">intuition_in</span>; <span class="id" type="var">order</span> | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;-(find_in_equiv <span class="id" type="var">B</span> <span class="id" type="var">B'</span> <span class="id" type="var">H'</span>); <span class="id" type="tactic">auto</span> ]<br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">nonify</span> <span class="id" type="var">t</span> := <br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">t</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> ?y (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2_opt"><span class="id" type="abbreviation">map2_opt</span></a> ?m ?m')) =&gt; <br/>
&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">t</span> <span class="id" type="keyword">with</span> (@<a class="idref" href="Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <span class="id" type="var">elt''</span>);<br/>
&nbsp;[ | <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">rewrite</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.not_find_iff"><span class="id" type="lemma">not_find_iff</span></a>; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (@<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2_opt_2"><span class="id" type="lemma">map2_opt_2</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">y</span>); <span class="id" type="tactic">auto</span>; <span class="id" type="var">order</span> ]<br/>
&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map2_opt_1"><span class="id" type="lemma">map2_opt_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m'</span> -&gt;<br/>
&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2_opt"><span class="id" type="abbreviation">map2_opt</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>) = <span class="id" type="var">f0</span> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m'</span>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Map2_opt"><span class="id" type="section">Map2_opt</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Raw.Proofs.Map2"><span class="id" type="section">Map2</span></a>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map2.elt"><span class="id" type="variable">elt</span></a> <a name="Raw.Proofs.Map2.elt'"><span class="id" type="variable">elt'</span></a> <a name="Raw.Proofs.Map2.elt''"><span class="id" type="variable">elt''</span></a> : <span class="id" type="keyword">Type</span>.<br/>
<span class="id" type="keyword">Variable</span> <a name="Raw.Proofs.Map2.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt'</span> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt''</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map2_bst"><span class="id" type="lemma">map2_bst</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2"><span class="id" type="definition">map2</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map2_1"><span class="id" type="lemma">map2_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2"><span class="id" type="definition">map2</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>) = <span class="id" type="var">f</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m'</span>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Raw.Proofs.map2_2"><span class="id" type="lemma">map2_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.bst"><span class="id" type="inductive">bst</span></a> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.map2"><span class="id" type="definition">map2</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.In"><span class="id" type="inductive">In</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m'</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw.Proofs.Map2"><span class="id" type="section">Map2</span></a>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Proofs"><span class="id" type="module">Proofs</span></a>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#Raw"><span class="id" type="module">Raw</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab526"></a><h1 class="section">Encapsulation</h1>


<br/> <br/>
   Now, in order to really provide a functor implementing <span class="inlinecode"><span class="id" type="var">S</span></span>, we 
   need to encapsulate everything into a type of balanced binary search trees. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Module</span> <a name="IntMake"><span class="id" type="module">IntMake</span></a> (<span class="id" type="var">I</span>:Int)(X: <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedType</span></a>) &lt;: <a class="idref" href="Coq.FSets.FMapInterface.html#"><span class="id" type="module">S</span></a> <span class="id" type="keyword">with</span> <span class="id" type="keyword">Module</span> <span class="id" type="var">E</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Module</span> <a name="E"><span class="id" type="module">E</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Module</span> <a name="Raw"><span class="id" type="module">Raw</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#Raw"><span class="id" type="module">Raw</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">I</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Import</span> <span class="id" type="var">Raw.Proofs</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Record</span> <a name="IntMake.bst"><span class="id" type="record">bst</span></a> (<span class="id" type="var">elt</span>:Type) := <br/>
&nbsp;&nbsp;<a name="IntMake.Bst"><span class="id" type="constructor">Bst</span></a> {<a name="IntMake.this"><span class="id" type="projection">this</span></a> :&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.tree"><span class="id" type="inductive">Raw.tree</span></a> <span class="id" type="var">elt</span>; <a name="IntMake.is_bst"><span class="id" type="projection">is_bst</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.bst"><span class="id" type="inductive">Raw.bst</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#this"><span class="id" type="method">this</span></a>}.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.t"><span class="id" type="definition">t</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.bst"><span class="id" type="record">bst</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.key"><span class="id" type="definition">key</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#X.t"><span class="id" type="axiom">E.t</span></a>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Section</span> <a name="IntMake.Elt"><span class="id" type="section">Elt</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Variable</span> <a name="IntMake.Elt.elt"><span class="id" type="variable">elt</span></a> <a name="IntMake.Elt.elt'"><span class="id" type="variable">elt'</span></a> <a name="IntMake.Elt.elt''"><span class="id" type="variable">elt''</span></a>: <span class="id" type="keyword">Type</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Types</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span>.<br/>
&nbsp;<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Types</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>.<br/>
&nbsp;<span class="id" type="keyword">Implicit</span> <span class="id" type="keyword">Types</span> <span class="id" type="var">e</span> : <span class="id" type="var">elt</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.empty"><span class="id" type="definition">empty</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Bst"><span class="id" type="constructor">Bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.empty_bst"><span class="id" type="lemma">empty_bst</span></a> <span class="id" type="var">elt</span>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.is_empty"><span class="id" type="definition">is_empty</span></a> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.is_empty"><span class="id" type="definition">Raw.is_empty</span></a> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Bst"><span class="id" type="constructor">Bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.add_bst"><span class="id" type="lemma">add_bst</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_bst"><span class="id" type="projection">is_bst</span></a>)).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Bst"><span class="id" type="constructor">Bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.remove_bst"><span class="id" type="lemma">remove_bst</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_bst"><span class="id" type="projection">is_bst</span></a>)).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.mem"><span class="id" type="definition">Raw.mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="var">elt</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.find"><span class="id" type="definition">Raw.find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt'</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Bst"><span class="id" type="constructor">Bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.map_bst"><span class="id" type="lemma">map_bst</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_bst"><span class="id" type="projection">is_bst</span></a>)).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.mapi"><span class="id" type="definition">mapi</span></a> (<span class="id" type="var">f</span>:key-&gt;elt-&gt;elt') <span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt'</span> := <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Bst"><span class="id" type="constructor">Bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.mapi_bst"><span class="id" type="lemma">mapi_bst</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_bst"><span class="id" type="projection">is_bst</span></a>)).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.map2"><span class="id" type="definition">map2</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> (<span class="id" type="var">m'</span>:t <span class="id" type="var">elt'</span>) : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt''</span> := <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Bst"><span class="id" type="constructor">Bst</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.map2_bst"><span class="id" type="lemma">map2_bst</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_bst"><span class="id" type="projection">is_bst</span></a>) <span class="id" type="var">m'</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_bst"><span class="id" type="projection">is_bst</span></a>)).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span> : <a class="idref" href="Coq.Lists.List.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>*elt) := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.elements"><span class="id" type="definition">Raw.elements</span></a> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.cardinal"><span class="id" type="definition">cardinal</span></a> <span class="id" type="var">m</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.cardinal"><span class="id" type="definition">Raw.cardinal</span></a> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.fold"><span class="id" type="definition">fold</span></a> (<span class="id" type="var">A</span>:Type) (<span class="id" type="var">f</span>:key-&gt;elt-&gt;A-&gt;A) <span class="id" type="var">m</span> <span class="id" type="var">i</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.fold"><span class="id" type="definition">Raw.fold</span></a> (<span class="id" type="var">A</span>:=A) <span class="id" type="var">f</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>) <span class="id" type="var">i</span>.<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.equal"><span class="id" type="definition">equal</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.equal"><span class="id" type="definition">Raw.equal</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>) <span class="id" type="var">m'</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>

<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> : <span class="id" type="keyword">Prop</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.MapsTo"><span class="id" type="inductive">Raw.MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> : <span class="id" type="keyword">Prop</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.In0"><span class="id" type="definition">Raw.In0</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.Empty"><span class="id" type="definition">Empty</span></a> <span class="id" type="var">m</span> : <span class="id" type="keyword">Prop</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.Empty"><span class="id" type="definition">Empty</span></a> <span class="id" type="var">m</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.this"><span class="id" type="projection">this</span></a>).<br/>

<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.eq_key"><span class="id" type="definition">eq_key</span></a> : (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>*elt) -&gt; (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>*elt) -&gt; <span class="id" type="keyword">Prop</span> := @<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.PX.eqk"><span class="id" type="definition">PX.eqk</span></a> <span class="id" type="var">elt</span>.<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.eq_key_elt"><span class="id" type="definition">eq_key_elt</span></a> : (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>*elt) -&gt; (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>*elt) -&gt; <span class="id" type="keyword">Prop</span> := @<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.PX.eqke"><span class="id" type="definition">PX.eqke</span></a> <span class="id" type="var">elt</span>.<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.lt_key"><span class="id" type="definition">lt_key</span></a> : (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>*elt) -&gt; (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a>*elt) -&gt; <span class="id" type="keyword">Prop</span> := @<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.PX.ltk"><span class="id" type="definition">PX.ltk</span></a> <span class="id" type="var">elt</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.MapsTo_1"><span class="id" type="lemma">MapsTo_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">E.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.mem_1"><span class="id" type="lemma">mem_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.mem_2"><span class="id" type="lemma">mem_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.mem"><span class="id" type="definition">mem</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.empty_1"><span class="id" type="lemma">empty_1</span></a> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Empty"><span class="id" type="definition">Empty</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.empty"><span class="id" type="definition">empty</span></a>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.is_empty_1"><span class="id" type="lemma">is_empty_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Empty"><span class="id" type="definition">Empty</span></a> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_empty"><span class="id" type="definition">is_empty</span></a> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
 &nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.is_empty_2"><span class="id" type="lemma">is_empty_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.is_empty"><span class="id" type="definition">is_empty</span></a> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Empty"><span class="id" type="definition">Empty</span></a> <span class="id" type="var">m</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.add_1"><span class="id" type="lemma">add_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">E.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>).<br/>
 &nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.add_2"><span class="id" type="lemma">add_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>, ~ <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">E.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e'</span> <span class="id" type="var">m</span>).<br/>
 &nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.add_3"><span class="id" type="lemma">add_3</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>, ~ <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">E.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.add"><span class="id" type="definition">add</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e'</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.remove_1"><span class="id" type="lemma">remove_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">E.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; ~ <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">y</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>).<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.remove_2"><span class="id" type="lemma">remove_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, ~ <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">E.eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>).<br/>
 &nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.remove_3"><span class="id" type="lemma">remove_3</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.remove"><span class="id" type="definition">remove</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">y</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.find_1"><span class="id" type="lemma">find_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e</span>.<br/>
 &nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.find_2"><span class="id" type="lemma">find_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.fold_1"><span class="id" type="lemma">fold_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">i</span> : <span class="id" type="var">A</span>) (<span class="id" type="var">f</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.key"><span class="id" type="definition">key</span></a> -&gt; <span class="id" type="var">elt</span> -&gt; <span class="id" type="var">A</span> -&gt; <span class="id" type="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.fold"><span class="id" type="definition">fold</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> <span class="id" type="var">i</span> = <a class="idref" href="Coq.Lists.List.html#fold_left"><span class="id" type="definition">fold_left</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> <span class="id" type="var">p</span> =&gt; <span class="id" type="var">f</span> (<a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> <span class="id" type="var">p</span>) (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">p</span>) <span class="id" type="var">a</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span>) <span class="id" type="var">i</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.elements_1"><span class="id" type="lemma">elements_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>,       <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.Lists.SetoidList.html#InA"><span class="id" type="inductive">InA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.eq_key_elt"><span class="id" type="definition">eq_key_elt</span></a> (<span class="id" type="var">x</span>,e) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span>).<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.elements_2"><span class="id" type="lemma">elements_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span>,   <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Lists.SetoidList.html#InA"><span class="id" type="inductive">InA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.eq_key_elt"><span class="id" type="definition">eq_key_elt</span></a> (<span class="id" type="var">x</span>,e) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.elements_3"><span class="id" type="lemma">elements_3</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.Sorting.Sorting.html#sort"><span class="id" type="inductive">sort</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.lt_key"><span class="id" type="definition">lt_key</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span>).<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.elements_3w"><span class="id" type="lemma">elements_3w</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.Lists.SetoidList.html#NoDupA"><span class="id" type="inductive">NoDupA</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.eq_key"><span class="id" type="definition">eq_key</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span>).<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.cardinal_1"><span class="id" type="lemma">cardinal_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.cardinal"><span class="id" type="definition">cardinal</span></a> <span class="id" type="var">m</span> = <a class="idref" href="Coq.Lists.List.html#length"><span class="id" type="definition">length</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m</span>).<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.Equal"><span class="id" type="definition">Equal</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> := <span class="id" type="keyword">forall</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m</span> = <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">y</span> <span class="id" type="var">m'</span>.<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.Equiv"><span class="id" type="definition">Equiv</span></a> (<span class="id" type="var">eq_elt</span>:elt-&gt;elt-&gt;Prop) <span class="id" type="var">m</span> <span class="id" type="var">m'</span> := <br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">k</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m'</span>) /\ <br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">k</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">k</span> <span class="id" type="var">e'</span> <span class="id" type="var">m'</span> -&gt; <span class="id" type="var">eq_elt</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>).<br/>
&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake.Equivb"><span class="id" type="definition">Equivb</span></a> <span class="id" type="var">cmp</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Equiv"><span class="id" type="definition">Equiv</span></a> (<a class="idref" href="Coq.FSets.FMapInterface.html#Cmp"><span class="id" type="definition">Cmp</span></a> <span class="id" type="var">cmp</span>).<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.Equivb_Equivb"><span class="id" type="lemma">Equivb_Equivb</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Equivb"><span class="id" type="definition">Equivb</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Raw.Proofs.Equivb"><span class="id" type="definition">Raw.Proofs.Equivb</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.equal_1"><span class="id" type="lemma">equal_1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">cmp</span>, <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Equivb"><span class="id" type="definition">Equivb</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.equal"><span class="id" type="definition">equal</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.equal_2"><span class="id" type="lemma">equal_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">cmp</span>, <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.equal"><span class="id" type="definition">equal</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> = <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Equivb"><span class="id" type="definition">Equivb</span></a> <span class="id" type="var">cmp</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>.<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.Elt"><span class="id" type="section">Elt</span></a>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.map_1"><span class="id" type="lemma">map_1</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span>:Type)(m: <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key)(e:elt)(f:elt-&gt;elt'), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> (<span class="id" type="var">f</span> <span class="id" type="var">e</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>).<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.map_2"><span class="id" type="lemma">map_2</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span>:Type)(m:t <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key)(f:elt-&gt;elt'), <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.map"><span class="id" type="definition">map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.mapi_1"><span class="id" type="lemma">mapi_1</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span>:Type)(m: <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key)(e:elt)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span>:key-&gt;elt-&gt;elt'), <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">exists</span> <span class="id" type="var">y</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">E.eq</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span> /\ <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.MapsTo"><span class="id" type="definition">MapsTo</span></a> <span class="id" type="var">x</span> (<span class="id" type="var">f</span> <span class="id" type="var">y</span> <span class="id" type="var">e</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.mapi"><span class="id" type="definition">mapi</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>).<br/>
 &nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.mapi_2"><span class="id" type="lemma">mapi_2</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span>:Type)(m: <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">x</span>:key)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span>:key-&gt;elt-&gt;elt'), <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.mapi"><span class="id" type="definition">mapi</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>.<br/>

<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.map2_1"><span class="id" type="lemma">map2_1</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span> <span class="id" type="var">elt''</span>:Type)(m: <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">m'</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">x</span>:key)(f:option <span class="id" type="var">elt</span>-&gt;option <span class="id" type="var">elt'</span>-&gt;option <span class="id" type="var">elt''</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.map2"><span class="id" type="definition">map2</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>) = <span class="id" type="var">f</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.find"><span class="id" type="definition">find</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span>).<br/>
 
<br/>
&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake.map2_2"><span class="id" type="lemma">map2_2</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">elt</span> <span class="id" type="var">elt'</span> <span class="id" type="var">elt''</span>:Type)(m: <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt</span>)(<span class="id" type="var">m'</span>: <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.t"><span class="id" type="definition">t</span></a> <span class="id" type="var">elt'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">x</span>:key)(f:option <span class="id" type="var">elt</span>-&gt;option <span class="id" type="var">elt'</span>-&gt;option <span class="id" type="var">elt''</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.map2"><span class="id" type="definition">map2</span></a> <span class="id" type="var">f</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>) -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m</span> \/ <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake.In"><span class="id" type="definition">In</span></a> <span class="id" type="var">x</span> <span class="id" type="var">m'</span>.<br/>
 
<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake"><span class="id" type="module">IntMake</span></a>.<br/>

<br/>
<span class="id" type="keyword">Module</span> <a name="IntMake_ord"><span class="id" type="module">IntMake_ord</span></a> (<span class="id" type="var">I</span>:Int)(X: <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedType</span></a>)(<span class="id" type="var">D</span> : <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedType</span></a>) &lt;: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapInterface.html#"><span class="id" type="module">Sord</span></a> <span class="id" type="keyword">with</span> <span class="id" type="keyword">Module</span> <span class="id" type="var">Data</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">D</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> <span class="id" type="keyword">Module</span> <span class="id" type="var">MapS.E</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Module</span> <a name="Data"><span class="id" type="module">Data</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">D</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Module</span> <span class="id" type="keyword">Import</span> <a name="MapS"><span class="id" type="module">MapS</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake"><span class="id" type="module">IntMake</span></a>(<a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">I</span></a>)(<a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Module</span> <a name="LO"><span class="id" type="module">LO</span></a> := <a class="idref" href="Coq.FSets.FMapList.html#"><span class="id" type="module">FMapList.Make_ord</span></a>(<a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a>)(<a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">D</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Module</span> <a name="R"><span class="id" type="module">R</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#MapS.Raw"><span class="id" type="module">Raw</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Module</span> <a name="P"><span class="id" type="module">P</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#MapS.Raw.Proofs"><span class="id" type="module">Raw.Proofs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.t"><span class="id" type="definition">t</span></a> := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.t"><span class="id" type="definition">MapS.t</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#D.t"><span class="id" type="axiom">D.t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.cmp"><span class="id" type="definition">cmp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span> := <br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#D.compare"><span class="id" type="axiom">D.compare</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> | <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
One step of comparison of elements 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.compare_more"><span class="id" type="definition">compare_more</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> (<span class="id" type="var">cont</span>:R.<span class="id" type="var">enumeration</span> <a class="idref" href="Coq.FSets.FMapAVL.html#D.t"><span class="id" type="axiom">D.t</span></a> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#comparison"><span class="id" type="inductive">comparison</span></a>) <span class="id" type="var">e2</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">e2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.End"><span class="id" type="constructor">R.End</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.More"><span class="id" type="constructor">R.More</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#X.compare"><span class="id" type="axiom">X.compare</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <span class="id" type="keyword">match</span> <a class="idref" href="Coq.FSets.FMapAVL.html#D.compare"><span class="id" type="axiom">D.compare</span></a> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#EQ"><span class="id" type="constructor">EQ</span></a> <span class="id" type="var">_</span> =&gt; <span class="id" type="var">cont</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.cons"><span class="id" type="definition">R.cons</span></a> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Lt"><span class="id" type="constructor">Lt</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#LT"><span class="id" type="constructor">LT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Lt"><span class="id" type="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.OrderedType.html#GT"><span class="id" type="constructor">GT</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Comparison of left tree, middle element, then right tree 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Fixpoint</span> <a name="IntMake_ord.compare_cont"><span class="id" type="definition">compare_cont</span></a> <span class="id" type="var">s1</span> (<span class="id" type="var">cont</span>:R.<span class="id" type="var">enumeration</span> <a class="idref" href="Coq.FSets.FMapAVL.html#D.t"><span class="id" type="axiom">D.t</span></a> -&gt; <a class="idref" href="Coq.Init.Datatypes.html#comparison"><span class="id" type="inductive">comparison</span></a>) <span class="id" type="var">e2</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">s1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Leaf"><span class="id" type="constructor">R.Leaf</span></a> =&gt; <span class="id" type="var">cont</span> <span class="id" type="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Node"><span class="id" type="constructor">R.Node</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> <span class="id" type="var">r1</span> <span class="id" type="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#compare_cont"><span class="id" type="definition">compare_cont</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.compare_more"><span class="id" type="definition">compare_more</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#compare_cont"><span class="id" type="definition">compare_cont</span></a> <span class="id" type="var">r1</span> <span class="id" type="var">cont</span>)) <span class="id" type="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Initial continuation 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.compare_end"><span class="id" type="definition">compare_end</span></a> (<span class="id" type="var">e2</span>:R.<span class="id" type="var">enumeration</span> <a class="idref" href="Coq.FSets.FMapAVL.html#D.t"><span class="id" type="axiom">D.t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">e2</span> <span class="id" type="keyword">with</span> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.End"><span class="id" type="constructor">R.End</span></a> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> | <span class="id" type="var">_</span> =&gt; <a class="idref" href="Coq.Init.Datatypes.html#Lt"><span class="id" type="constructor">Lt</span></a> <span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The complete comparison 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.compare_pure"><span class="id" type="definition">compare_pure</span></a> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> := <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.compare_cont"><span class="id" type="definition">compare_cont</span></a> <span class="id" type="var">s1</span> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.compare_end"><span class="id" type="definition">compare_end</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.cons"><span class="id" type="definition">R.cons</span></a> <span class="id" type="var">s2</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.End"><span class="id" type="constructor">Raw.End</span></a> <span class="id" type="var">_</span>)).<br/>

<br/>
</div>

<div class="doc">
Correctness of this comparison 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> <span class="id" type="var">c</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">c</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Eq"><span class="id" type="constructor">Eq</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.eq_list"><span class="id" type="definition">LO.eq_list</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Lt"><span class="id" type="constructor">Lt</span></a> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.lt_list"><span class="id" type="definition">LO.lt_list</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Coq.Init.Datatypes.html#Gt"><span class="id" type="constructor">Gt</span></a> =&gt; (<span class="id" type="keyword">fun</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> =&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.lt_list"><span class="id" type="definition">LO.lt_list</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.cons_Cmp"><span class="id" type="lemma">cons_Cmp</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">c</span> <span class="id" type="var">x1</span> <span class="id" type="var">x2</span> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>, <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#X.eq"><span class="id" type="axiom">X.eq</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#D.eq"><span class="id" type="axiom">D.eq</span></a> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> <span class="id" type="var">c</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> <span class="id" type="var">c</span> ((<span class="id" type="var">x1</span>,d1)::l1) ((<span class="id" type="var">x2</span>,d2)::l2).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Resolve</span> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.cons_Cmp"><span class="id" type="lemma">cons_Cmp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.compare_end_Cmp"><span class="id" type="lemma">compare_end_Cmp</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">e2</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.compare_end"><span class="id" type="definition">compare_end</span></a> <span class="id" type="var">e2</span>) <a class="idref" href="Coq.Lists.List.html#nil"><span class="id" type="constructor">nil</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Proofs.flatten_e"><span class="id" type="definition">P.flatten_e</span></a> <span class="id" type="var">e2</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.compare_more_Cmp"><span class="id" type="lemma">compare_more_Cmp</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> <span class="id" type="var">cont</span> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> (<span class="id" type="var">cont</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.cons"><span class="id" type="definition">R.cons</span></a> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)) <span class="id" type="var">l</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.elements"><span class="id" type="definition">R.elements</span></a> <span class="id" type="var">r2</span> ++ <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Proofs.flatten_e"><span class="id" type="definition">P.flatten_e</span></a> <span class="id" type="var">e2</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.compare_more"><span class="id" type="definition">compare_more</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">d1</span> <span class="id" type="var">cont</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.More"><span class="id" type="constructor">R.More</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)) ((<span class="id" type="var">x1</span>,d1)::l)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Proofs.flatten_e"><span class="id" type="definition">P.flatten_e</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.More"><span class="id" type="constructor">R.More</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">d2</span> <span class="id" type="var">r2</span> <span class="id" type="var">e2</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.compare_cont_Cmp"><span class="id" type="lemma">compare_cont_Cmp</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s1</span> <span class="id" type="var">cont</span> <span class="id" type="var">e2</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">e</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> (<span class="id" type="var">cont</span> <span class="id" type="var">e</span>) <span class="id" type="var">l</span> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Proofs.flatten_e"><span class="id" type="definition">P.flatten_e</span></a> <span class="id" type="var">e</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.compare_cont"><span class="id" type="definition">compare_cont</span></a> <span class="id" type="var">s1</span> <span class="id" type="var">cont</span> <span class="id" type="var">e2</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.elements"><span class="id" type="definition">R.elements</span></a> <span class="id" type="var">s1</span> ++ <span class="id" type="var">l</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Proofs.flatten_e"><span class="id" type="definition">P.flatten_e</span></a> <span class="id" type="var">e2</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.compare_Cmp"><span class="id" type="lemma">compare_Cmp</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.Cmp"><span class="id" type="definition">Cmp</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.compare_pure"><span class="id" type="definition">compare_pure</span></a> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.elements"><span class="id" type="definition">R.elements</span></a> <span class="id" type="var">s1</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.elements"><span class="id" type="definition">R.elements</span></a> <span class="id" type="var">s2</span>).<br/>

<br/>
</div>

<div class="doc">
The dependent-style <span class="inlinecode"><span class="id" type="var">compare</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.eq"><span class="id" type="definition">eq</span></a> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>) := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.eq_list"><span class="id" type="definition">LO.eq_list</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m1</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.lt"><span class="id" type="definition">lt</span></a> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>) := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.lt_list"><span class="id" type="definition">LO.lt_list</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m1</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.elements"><span class="id" type="definition">elements</span></a> <span class="id" type="var">m2</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.compare"><span class="id" type="definition">compare</span></a> (<span class="id" type="var">s</span> <span class="id" type="var">s'</span>:t) : <a class="idref" href="Coq.FSets.OrderedType.html#Compare"><span class="id" type="inductive">Compare</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.lt"><span class="id" type="definition">lt</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">s</span> <span class="id" type="var">s'</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.selements"><span class="id" type="definition">selements</span></a> (<span class="id" type="var">m1</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>) := <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.MapS.Build_slist"><span class="id" type="constructor">LO.MapS.Build_slist</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Raw.Proofs.elements_sort"><span class="id" type="lemma">P.elements_sort</span></a> <span class="id" type="var">m1</span>.(<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.is_bst"><span class="id" type="projection">is_bst</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.seq"><span class="id" type="definition">seq</span></a> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>) := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.eq"><span class="id" type="definition">LO.eq</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.selements"><span class="id" type="definition">selements</span></a> <span class="id" type="var">m1</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.selements"><span class="id" type="definition">selements</span></a> <span class="id" type="var">m2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="IntMake_ord.slt"><span class="id" type="definition">slt</span></a> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>) := <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.LO.lt"><span class="id" type="definition">LO.lt</span></a> (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.selements"><span class="id" type="definition">selements</span></a> <span class="id" type="var">m1</span>) (<a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.selements"><span class="id" type="definition">selements</span></a> <span class="id" type="var">m2</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.eq_seq"><span class="id" type="lemma">eq_seq</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.seq"><span class="id" type="definition">seq</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.lt_slt"><span class="id" type="lemma">lt_slt</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.lt"><span class="id" type="definition">lt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> &lt;-&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.slt"><span class="id" type="definition">slt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.eq_1"><span class="id" type="lemma">eq_1</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>), <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Equivb"><span class="id" type="definition">Equivb</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.cmp"><span class="id" type="definition">cmp</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.eq_2"><span class="id" type="lemma">eq_2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.MapS.Equivb"><span class="id" type="definition">Equivb</span></a> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.cmp"><span class="id" type="definition">cmp</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.eq_refl"><span class="id" type="lemma">eq_refl</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m</span>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.eq_sym"><span class="id" type="lemma">eq_sym</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m2</span> <span class="id" type="var">m1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.eq_trans"><span class="id" type="lemma">eq_trans</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">m3</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m2</span> <span class="id" type="var">m3</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m3</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.lt_trans"><span class="id" type="lemma">lt_trans</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">m3</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.lt"><span class="id" type="definition">lt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.lt"><span class="id" type="definition">lt</span></a> <span class="id" type="var">m2</span> <span class="id" type="var">m3</span> -&gt; <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.lt"><span class="id" type="definition">lt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m3</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="IntMake_ord.lt_not_eq"><span class="id" type="lemma">lt_not_eq</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.t"><span class="id" type="definition">t</span></a>, <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.lt"><span class="id" type="definition">lt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> -&gt; ~ <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord.eq"><span class="id" type="definition">eq</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Coq.FSets.FMapAVL.html#IntMake_ord"><span class="id" type="module">IntMake_ord</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Module</span> <a name="Make"><span class="id" type="module">Make</span></a> (<span class="id" type="var">X</span>: <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedType</span></a>) &lt;: <a class="idref" href="Coq.FSets.FMapInterface.html#"><span class="id" type="module">S</span></a> <span class="id" type="keyword">with</span> <span class="id" type="keyword">Module</span> <span class="id" type="var">E</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a><br/>
&nbsp;:=IntMake(Z_as_Int)(X).<br/>

<br/>
<span class="id" type="keyword">Module</span> <a name="Make_ord"><span class="id" type="module">Make_ord</span></a> (<span class="id" type="var">X</span>: <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedType</span></a>)(<span class="id" type="var">D</span>: <a class="idref" href="Coq.FSets.OrderedType.html#"><span class="id" type="module">OrderedType</span></a>) <br/>
&nbsp;&lt;: <a class="idref" href="Coq.FSets.FMapInterface.html#"><span class="id" type="module">Sord</span></a> <span class="id" type="keyword">with</span> <span class="id" type="keyword">Module</span> <span class="id" type="var">Data</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">D</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> <span class="id" type="keyword">Module</span> <span class="id" type="var">MapS.E</span> := <a class="idref" href="Coq.FSets.FMapAVL.html#"><span class="id" type="module">X</span></a><br/>
&nbsp;:=IntMake_ord(Z_as_Int)(X)(D).<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><div id="sidebarWrapper">
<div id="sidebar">

<div class="block">
<h2 class="title">Navigation</h2>
<div class="content">

<ul class="menu">

<li class="leaf">Standard Library
  <ul class="menu">
  <li><a href="index.html">Table of contents</a></li>
  <li><a href="genindex.html">Index</a></li>
  </ul>
</li>

</ul>

</div>
</div>

</div>
</div>


</div>

</div>

<div id="footer">
<div id="nav-footer">
  <ul class="links-menu-footer">
    <li><a href="mailto:www-coq at lix.polytechnique.fr">webmaster</a></li>
    <li><a href="http://validator.w3.org/check?uri=referer">xhtml valid</a></li>
    <li><a href="http://jigsaw.w3.org/css-validator/check/referer">CSS valid</a></li>
  </ul>

</div>
</div>

</div>

</body>
</html>

