<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Library (coq-core.Library)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">coq-core</a> &#x00BB; Library</nav><header class="odoc-preamble"><h1>Module <code><span>Library</span></code></h1><p>This module provides functions to load, open and save libraries. Libraries correspond to the subclass of modules that coincide with a file on disk (the &quot;.vo&quot; files). Libraries on the disk comes with checksums (obtained with the <code>Digest</code> module), which are checked at loading time to prevent inconsistencies between files written at various dates.</p></header><nav class="odoc-toc"><ul><li><a href="#start-the-compilation-of-a-library">Start the compilation of a library</a></li><li><a href="#interrogate-the-status-of-libraries">Interrogate the status of libraries</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-library_t" class="anchored"><a href="#type-library_t" class="anchor"></a><code><span><span class="keyword">type</span> library_t</span></code></div><div class="spec-doc"><p>Type of libraries loaded in memory</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_library_from_dirpath" class="anchored"><a href="#val-require_library_from_dirpath" class="anchor"></a><code><span><span class="keyword">val</span> require_library_from_dirpath : <span><span><a href="#type-library_t">library_t</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>...</p><p>Require = load in the environment</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_library_syntax_from_dirpath" class="anchored"><a href="#val-require_library_syntax_from_dirpath" class="anchor"></a><code><span><span class="keyword">val</span> require_library_syntax_from_dirpath : 
  <span>lib_resolver:<span>( <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../CUnix/index.html#type-physical_path">CUnix.physical_path</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-library_t">library_t</a> list</span></span></code></div></div><h6 id="start-the-compilation-of-a-library"><a href="#start-the-compilation-of-a-library" class="anchor"></a>Start the compilation of a library</h6><div class="odoc-spec"><div class="spec type" id="type-seg_sum" class="anchored"><a href="#type-seg_sum" class="anchor"></a><code><span><span class="keyword">type</span> seg_sum</span></code></div><div class="spec-doc"><p>Segments of a library</p></div></div><div class="odoc-spec"><div class="spec type" id="type-seg_lib" class="anchored"><a href="#type-seg_lib" class="anchor"></a><code><span><span class="keyword">type</span> seg_lib</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-seg_univ" class="anchored"><a href="#type-seg_univ" class="anchor"></a><code><span><span class="keyword">type</span> seg_univ</span><span> = <a href="../Univ/ContextSet/index.html#type-t">Univ.ContextSet.t</a> * bool</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-seg_proofs" class="anchored"><a href="#type-seg_proofs" class="anchor"></a><code><span><span class="keyword">type</span> seg_proofs</span><span> = <a href="../Opaques/index.html#type-opaque_disk">Opaques.opaque_disk</a></span></code></div></div><p>End the compilation of a library and save it to a &quot;.vo&quot; file, a &quot;.vio&quot; file, or a &quot;.vos&quot; file, depending on the todo_proofs argument. <code>output_native_objects</code>: when producing vo objects, also compile the native-code version.</p><div class="odoc-spec"><div class="spec type" id="type-tasks" class="anchored"><a href="#type-tasks" class="anchor"></a><code><span><span class="keyword">type</span> <span>('uid, 'doc) tasks</span></span><span> = <span><span>(<span><span>( <span class="type-var">'uid</span>, <span class="type-var">'doc</span> )</span> <a href="../Stateid/index.html#type-request">Stateid.request</a></span> * bool)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-todo_proofs" class="anchored"><a href="#type-todo_proofs" class="anchor"></a><code><span><span class="keyword">type</span> <span>'doc todo_proofs</span></span><span> = </span></code><table><tr id="type-todo_proofs.ProofsTodoNone" class="anchored"><td class="def variant constructor"><a href="#type-todo_proofs.ProofsTodoNone" class="anchor"></a><code><span>| </span><span><span class="constructor">ProofsTodoNone</span></span></code></td></tr><tr id="type-todo_proofs.ProofsTodoSomeEmpty" class="anchored"><td class="def variant constructor"><a href="#type-todo_proofs.ProofsTodoSomeEmpty" class="anchor"></a><code><span>| </span><span><span class="constructor">ProofsTodoSomeEmpty</span> <span class="keyword">of</span> <span class="xref-unresolved">Future</span>.UUIDSet.t</span></code></td></tr><tr id="type-todo_proofs.ProofsTodoSome" class="anchored"><td class="def variant constructor"><a href="#type-todo_proofs.ProofsTodoSome" class="anchor"></a><code><span>| </span><span><span class="constructor">ProofsTodoSome</span> <span class="keyword">of</span> <span class="xref-unresolved">Future</span>.UUIDSet.t * <span><span>( <a href="../Future/UUID/index.html#type-t">Future.UUID.t</a>, <span class="type-var">'doc</span> )</span> <a href="#type-tasks">tasks</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-save_library_to" class="anchored"><a href="#val-save_library_to" class="anchor"></a><code><span><span class="keyword">val</span> save_library_to : 
  <span><span><span class="type-var">'document</span> <a href="#type-todo_proofs">todo_proofs</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>output_native_objects:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-load_library_todo" class="anchored"><a href="#val-load_library_todo" class="anchor"></a><code><span><span class="keyword">val</span> load_library_todo : 
  <span><a href="../CUnix/index.html#type-physical_path">CUnix.physical_path</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-seg_sum">seg_sum</a>
  * <a href="#type-seg_lib">seg_lib</a>
  * <a href="#type-seg_univ">seg_univ</a>
  * <span><span>( <span><a href="../Opaqueproof/index.html#type-opaque_handle">Opaqueproof.opaque_handle</a> option</span>, <span class="type-var">'doc</span> )</span> <a href="#type-tasks">tasks</a></span>
  * <a href="#type-seg_proofs">seg_proofs</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-save_library_raw" class="anchored"><a href="#val-save_library_raw" class="anchor"></a><code><span><span class="keyword">val</span> save_library_raw : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-seg_sum">seg_sum</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-seg_lib">seg_lib</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-seg_univ">seg_univ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-seg_proofs">seg_proofs</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><h6 id="interrogate-the-status-of-libraries"><a href="#interrogate-the-status-of-libraries" class="anchor"></a>Interrogate the status of libraries</h6><div class="odoc-spec"><div class="spec value" id="val-library_is_loaded" class="anchored"><a href="#val-library_is_loaded" class="anchor"></a><code><span><span class="keyword">val</span> library_is_loaded : <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><ul><li>Tell if a library is loaded</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-loaded_libraries" class="anchored"><a href="#val-loaded_libraries" class="anchor"></a><code><span><span class="keyword">val</span> loaded_libraries : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="../Names/DirPath/index.html#type-t">Names.DirPath.t</a> list</span></span></code></div><div class="spec-doc"><ul><li>Tell which libraries are loaded</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-native_name_from_filename" class="anchored"><a href="#val-native_name_from_filename" class="anchor"></a><code><span><span class="keyword">val</span> native_name_from_filename : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Native compiler.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-indirect_accessor" class="anchored"><a href="#val-indirect_accessor" class="anchor"></a><code><span><span class="keyword">val</span> indirect_accessor : <a href="../Global/index.html#type-indirect_accessor">Global.indirect_accessor</a></span></code></div><div class="spec-doc"><p>Opaque accessors</p></div></div></div></body></html>